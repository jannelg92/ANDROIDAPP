(function (){ var aa=encodeURIComponent,ca=window,ea=Object,g=google,fa=alert,ga=Function,ha=document,ia=isNaN,l=Math,ja=Array,ka=Number,m=Error,la=parseInt,ma=parseFloat,p=String,na=decodeURIComponent,oa=RegExp;function qa(a,b){return a.center=b}function r(a,b){return a.width=b}function ra(a,b){return a.ceil=b}function sa(a,b){return a.floor=b}function ta(a,b){return a.remove=b}function wa(a,b){return a.keyCode=b}function xa(a,b){return a.clear=b}function ya(a,b){return a.fillStyle=b}
function za(a,b){return a.toString=b}function Aa(a,b){return a.position=b}function Ba(a,b){return a.create=b}function Ca(a,b){return a.cursor=b}function Da(a,b){return a.clone=b}function Ea(a,b){return a.bottom=b}function Fa(a,b){return a.scale=b}function Ga(a,b){return a.contains=b}function Ha(a,b){return a.reset=b}function Ia(a,b){return a.display=b}function t(a,b){return a.height=b}function Ja(a,b){return a.right=b}function Ka(a,b){return a.font=b}function La(a,b){return a.isEmpty=b}
function Ma(a,b){return a.round=b}function Na(a,b){return a.getCenter=b}function Oa(a,b){return a.innerHTML=b}function Pa(a,b){return a.color=b}function Va(a,b){return a.currentTarget=b}function Wa(a,b){return a.left=b}function Xa(a,b){return a.equals=b}function Ya(a,b){return a.type=b}function Za(a,b){return a.name=b}function $a(a,b){return a.zIndex=b}function ab(a,b){return a.visibility=b}function bb(a,b){return a.resize=b}function cb(a,b){return a.length=b}
function db(a,b){return a.prototype=b}function eb(a,b){return a.className=b}function fb(a,b){return a.setCenter=b}function gb(a,b){return a.target=b}function hb(a,b){return a.draw=b}function ib(a,b){return a.zoom=b}
var v="appendChild",jb="getBoundingClientRect",kb="center",lb="shift",mb="weight",nb="exec",w="width",x="replace",ob="toFixed",pb="data",qb="ceil",rb="floor",sb="charAt",tb="getData",ub="getDataTable",vb="preventDefault",wb="insertBefore",xb="dispatchEvent",yb="screenX",zb="screenY",Ab="match",Bb="getBoxObjectFor",Cb="send",Db="remove",Eb="createElement",Fb="keyCode",Gb="firstChild",Hb="forEach",Ib="setZoom",Jb="setAttribute",Kb="LatLng",Lb="TEXTURE_2D",Mb="handleEvent",Nb="clear",Ob="childNodes",
Pb="bind",Qb="removeAllListeners",Tb="bindTexture",Ub="documentElement",Vb="substr",Wb="toString",Xb="getMetadata",Yb="textColor",Zb="propertyIsEnumerable",y="position",$b="create",ac="size",bc="setTimeout",cc="split",dc="stack",ec="buffer",fc="location",gc="message",hc="hasOwnProperty",z="style",jc="addListener",kc="clone",lc="maps",mc="cells",nc="start",oc="random",pc="multiply",qc="scrollLeft",rc="RGBA",sc="bottom",tc="removeNode",uc="scale",vc="console",wc="rows",xc="contains",yc="apply",zc="reset",
Ac="fileName",A="height",Bc="offsetX",Cc="offsetY",Ec="closePath",Fc="right",B="push",Gc="isEmpty",Hc="test",Ic="lineTo",Jc="icon",D="round",Kc="slice",Lc="getCenter",Mc="nodeType",Nc="fontFamily",Oc="events",Pc="getNumberOfColumns",Qc="value",E="indexOf",Rc="color",Sc="backgroundColor",F="left",Tc="insertRow",Uc="uniform4iv",Vc="opera",Wc="radius",Xc="getKey",Yc="beginPath",Zc="children",$c="sqrt",ad="addEventListener",bd="getContext",cd="type",dd="defaultView",G="name",ed="getValue",gd="insertCell",
hd="clientY",id="scrollTop",jd="getNumberOfRows",H="length",kd="uniform3iv",J="prototype",ld="className",md="getZoom",nd="setCenter",od="clientWidth",pd="abort",qd="document",K="visualization",rd="alpha",sd="body",td="fontStyle",ud="getRadius",vd="removeChild",wd="target",L="call",xd="uniform2iv",yd="lastIndexOf",zd="draw",Ad="getStatus",Bd="clientHeight",Cd="ARRAY_BUFFER",Dd="sort",Ed="substring",Fd="every",Gd="parentNode",Hd="toUpperCase",Id="join",Jd="toLowerCase",Kd="event",Ld="zoom",M,Md=Md||
{},N=this,Nd=function(a){a=a[cc](".");for(var b=N,c;c=a[lb]();)if(null!=b[c])b=b[c];else return null;return b},Od=function(){},Pd=function(a){var b=typeof a;if("object"==b)if(a){if(a instanceof ja)return"array";if(a instanceof ea)return b;var c=ea[J][Wb][L](a);if("[object Window]"==c)return"object";if("[object Array]"==c||"number"==typeof a[H]&&"undefined"!=typeof a.splice&&"undefined"!=typeof a[Zb]&&!a[Zb]("splice"))return"array";if("[object Function]"==c||"undefined"!=typeof a[L]&&"undefined"!=
typeof a[Zb]&&!a[Zb]("call"))return"function"}else return"null";else if("function"==b&&"undefined"==typeof a[L])return"object";return b},O=function(a){return void 0!==a},Qd=function(a){return"array"==Pd(a)},Rd=function(a){var b=Pd(a);return"array"==b||"object"==b&&"number"==typeof a[H]},Td=function(a){return Sd(a)&&"function"==typeof a.getFullYear},P=function(a){return"string"==typeof a},Yd=function(a){return"number"==typeof a},Zd=function(a){return"function"==Pd(a)},Sd=function(a){var b=typeof a;
return"object"==b&&null!=a||"function"==b},$d="closure_uid_"+(1E9*l[oc]()>>>0),ae=0,be=function(a,b,c){return a[L][yc](a[Pb],arguments)},ce=function(a,b,c){if(!a)throw m();if(2<arguments[H]){var d=ja[J][Kc][L](arguments,2);return function(){var c=ja[J][Kc][L](arguments);ja[J].unshift[yc](c,d);return a[yc](b,c)}}return function(){return a[yc](b,arguments)}},Q=function(a,b,c){Q=ga[J][Pb]&&-1!=ga[J][Pb][Wb]()[E]("native code")?be:ce;return Q[yc](null,arguments)},de=function(a,b){var c=ja[J][Kc][L](arguments,
1);return function(){var b=c[Kc]();b[B][yc](b,arguments);return a[yc](this,b)}},R=Date.now||function(){return+new Date},S=function(a,b){var c=a[cc]("."),d=N;c[0]in d||!d.execScript||d.execScript("var "+c[0]);for(var e;c[H]&&(e=c[lb]());)c[H]||void 0===b?d=d[e]?d[e]:d[e]={}:d[e]=b},T=function(a,b){function c(){}db(c,b[J]);a.J=b[J];db(a,new c);a[J].constructor=a;a.Rk=function(a,c,f){return b[J][c][yc](a,ja[J][Kc][L](arguments,2))}};
ga[J].bind=ga[J][Pb]||function(a,b){if(1<arguments[H]){var c=ja[J][Kc][L](arguments,1);c.unshift(this,a);return Q[yc](null,c)}return Q(this,a)};var ee=function(a){if(m.captureStackTrace)m.captureStackTrace(this,ee);else{var b=m()[dc];b&&(this.stack=b)}a&&(this.message=p(a))};T(ee,m);Za(ee[J],"CustomError");var fe;var ge=function(a,b){for(var c=a[cc]("%s"),d="",e=ja[J][Kc][L](arguments,1);e[H]&&1<c[H];)d+=c[lb]()+e[lb]();return d+c[Id]("%s")},he=function(a){a=p(a)[Jd]();return"true"<a?-1:"true"==a?0:1},oe=function(a){if(!ie[Hc](a))return a;-1!=a[E]("&")&&(a=a[x](je,"&amp;"));-1!=a[E]("<")&&(a=a[x](ke,"&lt;"));-1!=a[E](">")&&(a=a[x](le,"&gt;"));-1!=a[E]('"')&&(a=a[x](me,"&quot;"));-1!=a[E]("'")&&(a=a[x](ne,"&#39;"));return a},je=/&/g,ke=/</g,le=/>/g,me=/"/g,ne=/'/g,ie=/[&<>"']/,qe=function(a){var b={"&amp;":"&",
"&lt;":"<","&gt;":">","&quot;":'"'},c;c=ha[Eb]("div");return a[x](pe,function(a,e){var f=b[a];if(f)return f;if("#"==e[sb](0)){var h=ka("0"+e[Vb](1));ia(h)||(f=p.fromCharCode(h))}f||(Oa(c,a+" "),f=c[Gb].nodeValue[Kc](0,-1));return b[a]=f})},re=function(a){return a[x](/&([^;]+);/g,function(a,c){switch(c){case "amp":return"&";case "lt":return"<";case "gt":return">";case "quot":return'"';default:if("#"==c[sb](0)){var d=ka("0"+c[Vb](1));if(!ia(d))return p.fromCharCode(d)}return a}})},pe=/&([^;\s<&]+);?/g,
se=function(a){return p(a)[x](/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1")[x](/\x08/g,"\\x08")},te=function(a){return null==a?"":p(a)},ue=function(a){return ja[J][Id][L](arguments,"")},ve=function(a,b){return a<b?-1:a>b?1:0},we=function(a){return p(a)[x](/\-([a-z])/g,function(a,c){return c[Hd]()})},xe=function(a){var b=P(void 0)?se(void 0):"\\s";return a[x](oa("(^"+(b?"|["+b+"]+":"")+")([a-z])","g"),function(a,b,e){return b+e[Hd]()})};var ye=function(a,b){b.unshift(a);ee[L](this,ge[yc](null,b));b[lb]()};T(ye,ee);Za(ye[J],"AssertionError");var ze=function(a,b,c,d){var e="Assertion failed";if(c)var e=e+(": "+c),f=d;else a&&(e+=": "+a,f=b);throw new ye(""+e,f||[]);},Ae=function(a,b,c){a||ze("",null,b,ja[J][Kc][L](arguments,2))},Be=function(a,b){throw new ye("Failure"+(a?": "+a:""),ja[J][Kc][L](arguments,1));},Ce=function(a,b,c){Sd(a)||ze("Expected object but got %s: %s.",[Pd(a),a],b,ja[J][Kc][L](arguments,2))};var De=ja[J],Ee=De[E]?function(a,b,c){Ae(null!=a[H]);return De[E][L](a,b,c)}:function(a,b,c){c=null==c?0:0>c?l.max(0,a[H]+c):c;if(P(a))return P(b)&&1==b[H]?a[E](b,c):-1;for(;c<a[H];c++)if(c in a&&a[c]===b)return c;return-1},Fe=De[Hb]?function(a,b,c){Ae(null!=a[H]);De[Hb][L](a,b,c)}:function(a,b,c){for(var d=a[H],e=P(a)?a[cc](""):a,f=0;f<d;f++)f in e&&b[L](c,e[f],f,a)},Ge=De.filter?function(a,b,c){Ae(null!=a[H]);return De.filter[L](a,b,c)}:function(a,b,c){for(var d=a[H],e=[],f=0,h=P(a)?a[cc](""):a,
k=0;k<d;k++)if(k in h){var n=h[k];b[L](c,n,k,a)&&(e[f++]=n)}return e},He=De.some?function(a,b,c){Ae(null!=a[H]);return De.some[L](a,b,c)}:function(a,b,c){for(var d=a[H],e=P(a)?a[cc](""):a,f=0;f<d;f++)if(f in e&&b[L](c,e[f],f,a))return!0;return!1},Me=De[Fd]?function(a,b,c){Ae(null!=a[H]);return De[Fd][L](a,b,c)}:function(a,b,c){for(var d=a[H],e=P(a)?a[cc](""):a,f=0;f<d;f++)if(f in e&&!b[L](c,e[f],f,a))return!1;return!0},Oe=function(a){var b;t:{b=Ne;for(var c=a[H],d=P(a)?a[cc](""):a,e=0;e<c;e++)if(e in
d&&b[L](void 0,d[e],e,a)){b=e;break t}b=-1}return 0>b?null:P(a)?a[sb](b):a[b]},Pe=function(a,b){return 0<=Ee(a,b)},Qe=function(a){if(!Qd(a))for(var b=a[H]-1;0<=b;b--)delete a[b];cb(a,0)},Se=function(a,b){var c=Ee(a,b),d;(d=0<=c)&&Re(a,c);return d},Re=function(a,b){Ae(null!=a[H]);De.splice[L](a,b,1)},Te=function(a){return De.concat[yc](De,arguments)},Ue=function(a){var b=a[H];if(0<b){for(var c=ja(b),d=0;d<b;d++)c[d]=a[d];return c}return[]},Ve=function(a,b,c){Ae(null!=a[H]);return 2>=arguments[H]?De[Kc][L](a,
b):De[Kc][L](a,b,c)},Xe=function(a,b){a[Dd](b||We)},Ye=function(a,b){var c=b||We;Xe(a,function(a,b){return c(a[Qc],b[Qc])})},We=function(a,b){return a>b?1:a<b?-1:0};var Ze=function(a){Ze[" "](a);return a};Ze[" "]=Od;var $e,af,bf,cf,df,ef,ff,gf,hf=function(){return N.navigator?N.navigator.userAgent:null},jf=function(){return N.navigator};df=cf=bf=af=$e=!1;var kf;if(kf=hf()){var lf=jf();$e=0==kf[yd]("Opera",0);af=!$e&&(-1!=kf[E]("MSIE")||-1!=kf[E]("Trident"));cf=(bf=!$e&&-1!=kf[E]("WebKit"))&&-1!=kf[E]("Mobile");df=!$e&&!bf&&!af&&"Gecko"==lf.product}var mf=$e,U=af,nf=df,of=bf,pf=cf,qf=jf(),rf=qf&&qf.platform||"";ef=-1!=rf[E]("Mac");ff=-1!=rf[E]("Win");gf=-1!=rf[E]("Linux");
var sf=!!jf()&&-1!=(jf().appVersion||"")[E]("X11"),tf=function(){var a=N[qd];return a?a.documentMode:void 0},uf;t:{var vf="",wf;if(mf&&N[Vc])var xf=N[Vc].version,vf="function"==typeof xf?xf():xf;else if(nf?wf=/rv\:([^\);]+)(\)|;)/:U?wf=/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/:of&&(wf=/WebKit\/(\S+)/),wf)var yf=wf[nb](hf()),vf=yf?yf[1]:"";if(U){var zf=tf();if(zf>ma(vf)){uf=p(zf);break t}}uf=vf}
var Af=uf,Bf={},Cf=function(a){var b;if(!(b=Bf[a])){b=0;for(var c=p(Af)[x](/^[\s\xa0]+|[\s\xa0]+$/g,"")[cc]("."),d=p(a)[x](/^[\s\xa0]+|[\s\xa0]+$/g,"")[cc]("."),e=l.max(c[H],d[H]),f=0;0==b&&f<e;f++){var h=c[f]||"",k=d[f]||"",n=oa("(\\d*)(\\D*)","g"),q=oa("(\\d*)(\\D*)","g");do{var s=n[nb](h)||["","",""],u=q[nb](k)||["","",""];if(0==s[0][H]&&0==u[0][H])break;b=ve(0==s[1][H]?0:la(s[1],10),0==u[1][H]?0:la(u[1],10))||ve(0==s[2][H],0==u[2][H])||ve(s[2],u[2])}while(0==b)}b=Bf[a]=0<=b}return b},Df=N[qd],
Ef=Df&&U?tf()||("CSS1Compat"==Df.compatMode?la(Af,10):5):void 0;var Ff=!U||U&&9<=Ef,Gf=U&&!Cf("9");!of||Cf("528");nf&&Cf("1.9b")||U&&Cf("8")||mf&&Cf("9.5")||of&&Cf("528");nf&&!Cf("8")||U&&Cf("9");var Hf=function(){};Hf[J].Oe=!1;Hf[J].D=function(){this.Oe||(this.Oe=!0,this.e())};Hf[J].e=function(){if(this.Ui)for(;this.Ui[H];)this.Ui[lb]()()};var If=function(a){a&&"function"==typeof a.D&&a.D()};var Jf=function(a,b){Ya(this,a);gb(this,b);Va(this,this[wd]);this.defaultPrevented=this.Yc=!1;this.pi=!0};Jf[J].e=function(){};Jf[J].D=function(){};Jf[J].preventDefault=function(){this.defaultPrevented=!0;this.pi=!1};var Kf=function(a,b){Jf[L](this,a?a[cd]:"");gb(this,null);Va(this,null);this.relatedTarget=null;this.button=this.screenY=this.screenX=this.clientY=this.clientX=this.offsetY=this.offsetX=0;wa(this,0);this.charCode=0;this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1;this.Vg=this.state=null;if(a){var c=Ya(this,a[cd]);gb(this,a[wd]||a.srcElement);Va(this,b);var d=a.relatedTarget;if(d){if(nf){var e;t:{try{Ze(d.nodeName);e=!0;break t}catch(f){}e=!1}e||(d=null)}}else"mouseover"==c?d=a.fromElement:"mouseout"==
c&&(d=a.toElement);this.relatedTarget=d;this.offsetX=of||void 0!==a[Bc]?a[Bc]:a.layerX;this.offsetY=of||void 0!==a[Cc]?a[Cc]:a.layerY;this.clientX=void 0!==a.clientX?a.clientX:a.pageX;this.clientY=void 0!==a[hd]?a[hd]:a.pageY;this.screenX=a[yb]||0;this.screenY=a[zb]||0;this.button=a.button;wa(this,a[Fb]||0);this.charCode=a.charCode||("keypress"==c?a[Fb]:0);this.ctrlKey=a.ctrlKey;this.altKey=a.altKey;this.shiftKey=a.shiftKey;this.metaKey=a.metaKey;this.state=a.state;this.Vg=a;a.defaultPrevented&&this[vb]()}};
T(Kf,Jf);Kf[J].preventDefault=function(){Kf.J[vb][L](this);var a=this.Vg;if(a[vb])a[vb]();else if(a.returnValue=!1,Gf)try{(a.ctrlKey||112<=a[Fb]&&123>=a[Fb])&&wa(a,-1)}catch(b){}};Kf[J].e=function(){};var Lf="closure_listenable_"+(1E6*l[oc]()|0),Mf=function(a){try{return!(!a||!a[Lf])}catch(b){return!1}},Nf=0;var Of=function(a,b){for(var c in a)b[L](void 0,a[c],c,a)},Pf=function(a,b){for(var c in a)if(b[L](void 0,a[c],c,a))return!0;return!1},Xf=function(a){var b=[],c=0,d;for(d in a)b[c++]=a[d];return b},Yf=function(a){var b=[],c=0,d;for(d in a)b[c++]=d;return b},Zf=function(a,b){b in a&&delete a[b]},$f=function(a,b,c){if(b in a)throw m('The object already contains the key "'+b+'"');a[b]=c},ag=function(a){var b=Pd(a);if("object"==b||"array"==b){if(a[kc])return a[kc]();var b="array"==b?[]:{},c;for(c in a)b[c]=
ag(a[c]);return b}return a},bg="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" "),cg=function(a,b){for(var c,d,e=1;e<arguments[H];e++){d=arguments[e];for(c in d)a[c]=d[c];for(var f=0;f<bg[H];f++)c=bg[f],ea[J][hc][L](d,c)&&(a[c]=d[c])}};var dg=function(a,b,c,d,e){this.nc=a;this.Te=null;this.src=b;Ya(this,c);this.Ed=!!d;this.Qe=e;this.key=++Nf;this.Uc=this.Pe=!1},eg=function(a){a.Uc=!0;a.nc=null;a.Te=null;a.src=null;a.Qe=null};var fg=function(a){this.src=a;this.ga={};this.Gd=0};fg[J].add=function(a,b,c,d,e){var f=this.ga[a];f||(f=this.ga[a]=[],this.Gd++);var h=gg(f,b,d,e);-1<h?(a=f[h],c||(a.Pe=!1)):(a=new dg(b,this.src,a,!!d,e),a.Pe=c,f[B](a));return a};ta(fg[J],function(a,b,c,d){if(!(a in this.ga))return!1;var e=this.ga[a];b=gg(e,b,c,d);return-1<b?(eg(e[b]),Re(e,b),0==e[H]&&(delete this.ga[a],this.Gd--),!0):!1});
var hg=function(a,b){var c=b[cd];if(!(c in a.ga))return!1;var d=Se(a.ga[c],b);d&&(eg(b),0==a.ga[c][H]&&(delete a.ga[c],a.Gd--));return d};fg[J].removeAll=function(a){var b=0,c;for(c in this.ga)if(!a||c==a){for(var d=this.ga[c],e=0;e<d[H];e++)++b,eg(d[e]);delete this.ga[c];this.Gd--}return b};fg[J].Kd=function(a,b,c,d){a=this.ga[a];var e=-1;a&&(e=gg(a,b,c,d));return-1<e?a[e]:null};
fg[J].df=function(a,b){var c=O(a),d=O(b);return Pf(this.ga,function(e){for(var f=0;f<e[H];++f)if(!(c&&e[f][cd]!=a||d&&e[f].Ed!=b))return!0;return!1})};var gg=function(a,b,c,d){for(var e=0;e<a[H];++e){var f=a[e];if(!f.Uc&&f.nc==b&&f.Ed==!!c&&f.Qe==d)return e}return-1};var ig="closure_lm_"+(1E6*l[oc]()|0),jg={},kg=0,V=function(a,b,c,d,e){if(Qd(b)){for(var f=0;f<b[H];f++)V(a,b[f],c,d,e);return null}c=lg(c);return Mf(a)?a.Ig(b,c,d,e):mg(a,b,c,!1,d,e)},mg=function(a,b,c,d,e,f){if(!b)throw m("Invalid event type");var h=!!e,k=ng(a);k||(a[ig]=k=new fg(a));c=k.add(b,c,d,e,f);if(c.Te)return c;d=og();c.Te=d;d.src=a;d.nc=c;a[ad]?a[ad](b,d,h):a.attachEvent(b in jg?jg[b]:jg[b]="on"+b,d);kg++;return c},og=function(){var a=pg,b=Ff?function(c){return a[L](b.src,b.nc,c)}:function(c){c=
a[L](b.src,b.nc,c);if(!c)return c};return b},qg=function(a,b,c,d,e){if(Qd(b)){for(var f=0;f<b[H];f++)qg(a,b[f],c,d,e);return null}c=lg(c);return Mf(a)?a.Ti(b,c,d,e):mg(a,b,c,!0,d,e)},rg=function(a,b,c,d,e){if(Qd(b))for(var f=0;f<b[H];f++)rg(a,b[f],c,d,e);else c=lg(c),Mf(a)?a.Cd(b,c,d,e):a&&(a=ng(a))&&(b=a.Kd(b,c,!!d,e))&&sg(b)},sg=function(a){if(Yd(a)||!a||a.Uc)return!1;var b=a.src;if(Mf(b))return hg(b.Xa,a);var c=a[cd],d=a.Te;b.removeEventListener?b.removeEventListener(c,d,a.Ed):b.detachEvent&&b.detachEvent(c in
jg?jg[c]:jg[c]="on"+c,d);kg--;(c=ng(b))?(hg(c,a),0==c.Gd&&(c.src=null,b[ig]=null)):eg(a);return!0},tg=function(a){if(a)if(Mf(a))a[Qb](void 0);else if(a=ng(a)){var b=0,c;for(c in a.ga)for(var d=Ue(a.ga[c]),e=0;e<d[H];++e)sg(d[e])&&++b}},ug=function(a,b){if(Mf(a))return a.df(b,void 0);var c=ng(a);return!!c&&c.df(b,void 0)},wg=function(a,b,c,d){var e=1;if(a=ng(a))if(b=a.ga[b])for(b=Ue(b),a=0;a<b[H];a++){var f=b[a];f&&f.Ed==c&&!f.Uc&&(e&=!1!==vg(f,d))}return Boolean(e)},vg=function(a,b){var c=a.nc,d=
a.Qe||a.src;a.Pe&&sg(a);return c[L](d,b)},xg=function(a,b){Ae(Mf(a),"Can not use goog.events.dispatchEvent with non-goog.events.Listenable instance.");a[xb](b)},pg=function(a,b){if(a.Uc)return!0;if(!Ff){var c=b||Nd("window.event"),d=new Kf(c,this),e=!0;if(!(0>c[Fb]||void 0!=c.returnValue)){t:{var f=!1;if(0==c[Fb])try{wa(c,-1);break t}catch(h){f=!0}if(f||void 0==c.returnValue)c.returnValue=!0}c=[];for(f=d.currentTarget;f;f=f[Gd])c[B](f);for(var f=a[cd],k=c[H]-1;!d.Yc&&0<=k;k--)Va(d,c[k]),e&=wg(c[k],
f,!0,d);for(k=0;!d.Yc&&k<c[H];k++)Va(d,c[k]),e&=wg(c[k],f,!1,d)}return e}return vg(a,new Kf(b,this))},ng=function(a){a=a[ig];return a instanceof fg?a:null},yg="__closure_events_fn_"+(1E9*l[oc]()>>>0),lg=function(a){Ae(a,"Listener can not be null.");if(Zd(a))return a;Ae(a[Mb],"An object listener must have handleEvent method.");return a[yg]||(a[yg]=function(b){return a[Mb](b)})};var zg=function(){this.Xa=new fg(this);this.jk=this};T(zg,Hf);zg[J][Lf]=!0;M=zg[J];M.Jg=null;M.addEventListener=function(a,b,c,d){V(this,a,b,c,d)};M.removeEventListener=function(a,b,c,d){rg(this,a,b,c,d)};
M.dispatchEvent=function(a){Ag(this);var b,c=this.Jg;if(c){b=[];for(var d=1;c;c=c.Jg)b[B](c),Ae(1E3>++d,"infinite loop")}c=this.jk;d=a[cd]||a;if(P(a))a=new Jf(a,c);else if(a instanceof Jf)gb(a,a[wd]||c);else{var e=a;a=new Jf(d,c);cg(a,e)}var e=!0,f;if(b)for(var h=b[H]-1;!a.Yc&&0<=h;h--)f=Va(a,b[h]),e=Bg(f,d,!0,a)&&e;a.Yc||(f=Va(a,c),e=Bg(f,d,!0,a)&&e,a.Yc||(e=Bg(f,d,!1,a)&&e));if(b)for(h=0;!a.Yc&&h<b[H];h++)f=Va(a,b[h]),e=Bg(f,d,!1,a)&&e;return e};
M.e=function(){zg.J.e[L](this);this[Qb]();this.Jg=null};M.Ig=function(a,b,c,d){Ag(this);return this.Xa.add(p(a),b,!1,c,d)};M.Ti=function(a,b,c,d){return this.Xa.add(p(a),b,!0,c,d)};M.Cd=function(a,b,c,d){return this.Xa[Db](p(a),b,c,d)};M.removeAllListeners=function(a){return this.Xa?this.Xa.removeAll(a):0};
var Bg=function(a,b,c,d){b=a.Xa.ga[p(b)];if(!b)return!0;b=Ue(b);for(var e=!0,f=0;f<b[H];++f){var h=b[f];if(h&&!h.Uc&&h.Ed==c){var k=h.nc,n=h.Qe||h.src;h.Pe&&hg(a.Xa,h);e=!1!==k[L](n,d)&&e}}return e&&!1!=d.pi};zg[J].Kd=function(a,b,c,d){return this.Xa.Kd(p(a),b,c,d)};zg[J].df=function(a,b){return this.Xa.df(O(a)?p(a):void 0,b)};var Ag=function(a){Ae(a.Xa,"Event target is not initialized. Did you call the superclass (goog.events.EventTarget) constructor?")};var Cg=function(a){a=p(a);if(/^\s*$/[Hc](a)?0:/^[\],:{}\s\u2028\u2029]*$/[Hc](a[x](/\\["\\\/bfnrtu]/g,"@")[x](/"[^"\\\n\r\u2028\u2029\x00-\x08\x0a-\x1f]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]")[x](/(?:^|:|,)(?:[\s\u2028\u2029]*\[)+/g,"")))try{return eval("("+a+")")}catch(b){}throw m("Invalid JSON string: "+a);},Dg=function(a){return eval("("+a+")")},Gg=function(a){var b=[];Eg(new Fg,a,b);return b[Id]("")},Fg=function(){this.ff=void 0},Eg=function(a,b,c){switch(typeof b){case "string":Hg(b,
c);break;case "number":c[B](isFinite(b)&&!ia(b)?b:"null");break;case "boolean":c[B](b);break;case "undefined":c[B]("null");break;case "object":if(null==b){c[B]("null");break}if(Qd(b)){var d=b[H];c[B]("[");for(var e="",f=0;f<d;f++)c[B](e),e=b[f],Eg(a,a.ff?a.ff[L](b,p(f),e):e,c),e=",";c[B]("]");break}c[B]("{");d="";for(f in b)ea[J][hc][L](b,f)&&(e=b[f],"function"!=typeof e&&(c[B](d),Hg(f,c),c[B](":"),Eg(a,a.ff?a.ff[L](b,f,e):e,c),d=","));c[B]("}");break;case "function":break;default:throw m("Unknown type: "+
typeof b);}},Ig={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\x0B":"\\u000b"},Jg=/\uffff/[Hc]("\uffff")?/[\\\"\x00-\x1f\x7f-\uffff]/g:/[\\\"\x00-\x1f\x7f-\xff]/g,Hg=function(a,b){b[B]('"',a[x](Jg,function(a){if(a in Ig)return Ig[a];var b=a.charCodeAt(0),e="\\u";16>b?e+="000":256>b?e+="00":4096>b&&(e+="0");return Ig[a]=e+b[Wb](16)}),'"')};var Kg=function(){zg[L](this);this.ef=null};T(Kg,zg);var Lg={showPanelNavigation:!1,panelIndex:2,showChartNameInput:!1};Kg[J].wk=function(a,b,c){this[$b](a,Cg(b),c)};Ba(Kg[J],function(a,b,c){var d=Mg(a);null!=d?(a=new g[K].ChartWrapper({chartType:d,dataTable:b,options:Cg(c)}),this.ef=new g[K].ChartEditor,g[K][Oc][jc](this.ef,"ok",Q(this.tk,this)),this.ef.openDialog(a,Lg)):Ng(this,"error",{error:"unsupported gviztype: "+a})});
Kg[J].tk=function(){var a=this.ef.getChartWrapper().getOptions();Zf(a,"height");Zf(a,"width");Zf(a,"chartArea");Zf(a,"animation");Ng(this,"optionschange",{options:Gg(a)})};Kg[J].addListener=function(a,b){V(this,a,b)};var Mg=function(a){switch(a){case "AREA":return"AreaChart";case "BAR":return"BarChart";case "COLUMN":return"ColumnChart";case "LINE":return"LineChart";case "PIE":return"PieChart";case "SCATTER":return"ScatterChart";case "TIMELINE":return"AnnotatedTimeLine";default:return null}};
S("fusiontables.ChartConfigurer",Kg);S("fusiontables.ChartConfigurer.prototype.addListener",Kg[J][jc]);S("fusiontables.ChartConfigurer.prototype.createWithJson",Kg[J].wk);S("fusiontables.ChartConfigurer.prototype.create",Kg[J][$b]);var Og=function(a){a=a[ld];return P(a)&&a[Ab](/\S+/g)||[]},Pg=function(a,b){for(var c=Og(a),d=Ve(arguments,1),e=c[H]+d[H],f=c,h=0;h<d[H];h++)Pe(f,d[h])||f[B](d[h]);f=c[Id](" ");eb(a,f);return c[H]==e},Rg=function(a,b){var c=Og(a),d=Ve(arguments,1),c=Qg(c,d)[Id](" ");eb(a,c)},Qg=function(a,b){return Ge(a,function(a){return!Pe(b,a)})};var Sg=function(a,b,c){return l.min(l.max(a,b),c)},Tg=function(a,b,c){return a+c*(b-a)};var Ug=function(a,b){this.x=O(a)?a:0;this.y=O(b)?b:0};M=Ug[J];Da(M,function(){return new Ug(this.x,this.y)});za(M,function(){return"("+this.x+", "+this.y+")"});ra(M,function(){this.x=l[qb](this.x);this.y=l[qb](this.y);return this});sa(M,function(){this.x=l[rb](this.x);this.y=l[rb](this.y);return this});Ma(M,function(){this.x=l[D](this.x);this.y=l[D](this.y);return this});Fa(M,function(a,b){var c=Yd(b)?b:a;this.x*=a;this.y*=c;return this});var Vg=function(a,b){r(this,a);t(this,b)},Wg=function(a,b){return a==b?!0:a&&b?a[w]==b[w]&&a[A]==b[A]:!1};M=Vg[J];Da(M,function(){return new Vg(this[w],this[A])});za(M,function(){return"("+this[w]+" x "+this[A]+")"});La(M,function(){return!(this[w]*this[A])});ra(M,function(){r(this,l[qb](this[w]));t(this,l[qb](this[A]));return this});sa(M,function(){r(this,l[rb](this[w]));t(this,l[rb](this[A]));return this});Ma(M,function(){r(this,l[D](this[w]));t(this,l[D](this[A]));return this});
Fa(M,function(a,b){var c=Yd(b)?b:a;r(this,this[w]*a);t(this,this[A]*c);return this});var Xg=!U||U&&9<=Ef,Yg=!nf&&!U||U&&U&&9<=Ef||nf&&Cf("1.9.1");U&&Cf("9");var ah=function(a){return a?new Zg($g(a)):fe||(fe=new Zg)},bh=function(a){var b=ha;return P(a)?b.getElementById(a):a},dh=function(a){var b=a||ha,c=null;return(c=b.querySelectorAll&&b.querySelector?b.querySelector(".sort"):ch(ha,"*","sort",a)[0])||null},ch=function(a,b,c,d){a=d||a;b=b&&"*"!=b?b[Hd]():"";if(a.querySelectorAll&&a.querySelector&&(b||c))return a.querySelectorAll(b+(c?"."+c:""));if(c&&a.getElementsByClassName){a=a.getElementsByClassName(c);if(b){d={};for(var e=0,f=0,h;h=a[f];f++)b==h.nodeName&&
(d[e++]=h);cb(d,e);return d}return a}a=a.getElementsByTagName(b||"*");if(c){d={};for(f=e=0;h=a[f];f++)b=h[ld],"function"==typeof b[cc]&&Pe(b[cc](/\s+/),c)&&(d[e++]=h);cb(d,e);return d}return a},fh=function(a,b){Of(b,function(b,d){"style"==d?a[z].cssText=b:"class"==d?eb(a,b):"for"==d?a.htmlFor=b:d in eh?a[Jb](eh[d],b):0==d[yd]("aria-",0)||0==d[yd]("data-",0)?a[Jb](d,b):a[d]=b})},eh={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",
role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"},hh=function(a,b,c){return gh(ha,arguments)},gh=function(a,b){var c=b[0],d=b[1];if(!Xg&&d&&(d[G]||d[cd])){c=["<",c];d[G]&&c[B](' name="',oe(d[G]),'"');if(d[cd]){c[B](' type="',oe(d[cd]),'"');var e={};cg(e,d);delete e[cd];d=e}c[B](">");c=c[Id]("")}c=a[Eb](c);d&&(P(d)?eb(c,d):Qd(d)?Pg[yc](null,[c].concat(d)):fh(c,d));2<b[H]&&ih(a,c,b);return c},ih=function(a,b,c){function d(c){c&&b[v](P(c)?a.createTextNode(c):c)}
for(var e=2;e<c[H];e++){var f=c[e];!Rd(f)||Sd(f)&&0<f[Mc]?d(f):Fe(jh(f)?Ue(f):f,d)}},kh=function(a){return ha[Eb](a)},lh=function(a,b){for(var c=ha,d=["<tr>"],e=0;e<b;e++)d[B]("<td></td>");d[B]("</tr>");for(var d=d[Id](""),f=["<table>"],e=0;e<a;e++)f[B](d);f[B]("</table>");c=c[Eb]("DIV");Oa(c,f[Id](""));return c[vd](c[Gb])},mh=function(a){for(var b;b=a[Gb];)a[vd](b)},nh=function(a){return a&&a[Gd]?a[Gd][vd](a):null},$g=function(a){return 9==a[Mc]?a:a.ownerDocument||a[qd]},oh=function(a,b){Ae(null!=
a,"goog.dom.setTextContent expects a non-null value for node");if("textContent"in a)a.textContent=b;else if(3==a[Mc])a.data=b;else if(a[Gb]&&3==a[Gb][Mc]){for(;a.lastChild!=a[Gb];)a[vd](a.lastChild);a[Gb].data=b}else mh(a),a[v]($g(a).createTextNode(p(b)))},jh=function(a){if(a&&"number"==typeof a[H]){if(Sd(a))return"function"==typeof a.item||"string"==typeof a.item;if(Zd(a))return"function"==typeof a.item}return!1},Zg=function(a){this.Qb=a||N[qd]||ha};M=Zg[J];
M.Ii=function(a,b,c){return gh(this.Qb,arguments)};M.createElement=function(a){return this.Qb[Eb](a)};M.createTextNode=function(a){return this.Qb.createTextNode(p(a))};M.appendChild=function(a,b){a[v](b)};M.removeNode=nh;M.Ni=function(a){return Yg&&void 0!=a[Zc]?a[Zc]:Ge(a[Ob],function(a){return 1==a[Mc]})};
Ga(M,function(a,b){if(a[xc]&&1==b[Mc])return a==b||a[xc](b);if("undefined"!=typeof a.compareDocumentPosition)return a==b||Boolean(a.compareDocumentPosition(b)&16);for(;b&&a!=b;)b=b[Gd];return b==a});var W=function(a,b){this.x=a;this.y=b};T(W,Ug);Da(W[J],function(){return new W(this.x,this.y)});var ph=function(a){return l[$c](a.x*a.x+a.y*a.y)};M=W[J];Fa(M,Ug[J][uc]);M.normalize=function(){return this[uc](1/ph(this))};M.add=function(a){this.x+=a.x;this.y+=a.y;return this};M.Gi=function(a){this.x-=a.x;this.y-=a.y;return this};Xa(M,function(a){return this==a||!!a&&this.x==a.x&&this.y==a.y});
var qh=function(a,b){var c=a.x-b.x,d=a.y-b.y;return l[$c](c*c+d*d)},rh=function(a,b){return new W(a.x-b.x,a.y-b.y)};var sh=function(a,b,c,d){this.top=a;Ja(this,b);Ea(this,c);Wa(this,d)},th=function(a){for(var b=new sh(arguments[0].y,arguments[0].x,arguments[0].y,arguments[0].x),c=1;c<arguments[H];c++){var d=arguments[c];b.top=l.min(b.top,d.y);Ja(b,l.max(b[Fc],d.x));Ea(b,l.max(b[sc],d.y));Wa(b,l.min(b[F],d.x))}return b};M=sh[J];Da(M,function(){return new sh(this.top,this[Fc],this[sc],this[F])});za(M,function(){return"("+this.top+"t, "+this[Fc]+"r, "+this[sc]+"b, "+this[F]+"l)"});
Ga(M,function(a){return this&&a?a instanceof sh?a[F]>=this[F]&&a[Fc]<=this[Fc]&&a.top>=this.top&&a[sc]<=this[sc]:a.x>=this[F]&&a.x<=this[Fc]&&a.y>=this.top&&a.y<=this[sc]:!1});ra(M,function(){this.top=l[qb](this.top);Ja(this,l[qb](this[Fc]));Ea(this,l[qb](this[sc]));Wa(this,l[qb](this[F]));return this});sa(M,function(){this.top=l[rb](this.top);Ja(this,l[rb](this[Fc]));Ea(this,l[rb](this[sc]));Wa(this,l[rb](this[F]));return this});
Ma(M,function(){this.top=l[D](this.top);Ja(this,l[D](this[Fc]));Ea(this,l[D](this[sc]));Wa(this,l[D](this[F]));return this});Fa(M,function(a,b){var c=Yd(b)?b:a;Wa(this,this[F]*a);Ja(this,this[Fc]*a);this.top*=c;Ea(this,this[sc]*c);return this});var uh=function(a,b,c,d){Wa(this,a);this.top=b;r(this,c);t(this,d)};M=uh[J];Da(M,function(){return new uh(this[F],this.top,this[w],this[A])});za(M,function(){return"("+this[F]+", "+this.top+" - "+this[w]+"w x "+this[A]+"h)"});M.intersects=function(a){return this[F]<=a[F]+a[w]&&a[F]<=this[F]+this[w]&&this.top<=a.top+a[A]&&a.top<=this.top+this[A]};
Ga(M,function(a){return a instanceof uh?this[F]<=a[F]&&this[F]+this[w]>=a[F]+a[w]&&this.top<=a.top&&this.top+this[A]>=a.top+a[A]:a.x>=this[F]&&a.x<=this[F]+this[w]&&a.y>=this.top&&a.y<=this.top+this[A]});M.ob=function(){return new Vg(this[w],this[A])};Na(M,function(){return new Ug(this[F]+this[w]/2,this.top+this[A]/2)});ra(M,function(){Wa(this,l[qb](this[F]));this.top=l[qb](this.top);r(this,l[qb](this[w]));t(this,l[qb](this[A]));return this});
sa(M,function(){Wa(this,l[rb](this[F]));this.top=l[rb](this.top);r(this,l[rb](this[w]));t(this,l[rb](this[A]));return this});Ma(M,function(){Wa(this,l[D](this[F]));this.top=l[D](this.top);r(this,l[D](this[w]));t(this,l[D](this[A]));return this});Fa(M,function(a,b){var c=Yd(b)?b:a;Wa(this,this[F]*a);r(this,this[w]*a);this.top*=c;t(this,this[A]*c);return this});var vh=function(a,b,c){var d;t:if(d=we(c),void 0===a[z][d]&&(c=(of?"Webkit":nf?"Moz":U?"ms":mf?"O":null)+xe(c),void 0!==a[z][c])){d=c;break t}d&&(a[z][d]=b)},wh=function(a,b){var c;t:{c=$g(a);if(c[dd]&&c[dd].getComputedStyle&&(c=c[dd].getComputedStyle(a,null))){c=c[b]||c.getPropertyValue(b)||"";break t}c=""}return c||(a.currentStyle?a.currentStyle[b]:null)||a[z]&&a[z][b]},yh=function(a,b,c){var d,e=nf&&(ef||sf)&&Cf("1.9");b instanceof Ug?(d=b.x,b=b.y):(d=b,b=c);Wa(a[z],xh(d,e));a[z].top=xh(b,e)},
zh=function(a){var b;try{b=a[jb]()}catch(c){return{left:0,top:0,right:0,bottom:0}}U&&a.ownerDocument[sd]&&(a=a.ownerDocument,Wa(b,b[F]-(a[Ub].clientLeft+a[sd].clientLeft)),b.top-=a[Ub].clientTop+a[sd].clientTop);return b},Ah=function(a){if(U&&!(U&&8<=Ef))return a.offsetParent;var b=$g(a),c=wh(a,"position"),d="fixed"==c||"absolute"==c;for(a=a[Gd];a&&a!=b;a=a[Gd])if(c=wh(a,"position"),d=d&&"static"==c&&a!=b[Ub]&&a!=b[sd],!d&&(a.scrollWidth>a[od]||a.scrollHeight>a[Bd]||"fixed"==c||"absolute"==c||"relative"==
c))return a;return null},Bh=function(a,b,c){if(b instanceof Vg)c=b[A],b=b[w];else if(void 0==c)throw m("missing height argument");r(a[z],xh(b,!0));t(a[z],xh(c,!0))},xh=function(a,b){"number"==typeof a&&(a=(b?l[D](a):a)+"px");return a},Dh=function(a){var b=Ch;if("none"!=wh(a,"display"))return b(a);var c=a[z],d=c.display,e=c.visibility,f=c[y];ab(c,"hidden");Aa(c,"absolute");Ia(c,"inline");a=b(a);Ia(c,d);Aa(c,f);ab(c,e);return a},Ch=function(a){var b=a.offsetWidth,c=a.offsetHeight,d=of&&!b&&!c;return O(b)&&
!d||!a[jb]?new Vg(b,c):(a=zh(a),new Vg(a[Fc]-a[F],a[sc]-a.top))},Eh=function(a){var b=ah(void 0),c=null,d=b.Qb;if(U&&d.createStyleSheet)b=c=d.createStyleSheet(),U&&O(b.cssText)?b.cssText=a:Oa(b,a);else{d=ch(b.Qb,"head",void 0,void 0)[0];d||(c=ch(b.Qb,"body",void 0,void 0)[0],d=b.Ii("head"),c[Gd][wb](d,c));var e=c=b.Ii("style");U&&O(e.cssText)?e.cssText=a:Oa(e,a);b[v](d,c)}},Fh=nf?"MozUserSelect":of?"WebkitUserSelect":null;var Gh="StopIteration"in N?N.StopIteration:m("StopIteration"),Hh=function(){};Hh[J].next=function(){throw Gh;};Hh[J].Md=function(){return this};
var Ih=function(a){if(a instanceof Hh)return a;if("function"==typeof a.Md)return a.Md(!1);if(Rd(a)){var b=0,c=new Hh;c.next=function(){for(;;){if(b>=a[H])throw Gh;if(b in a)return a[b++];b++}};return c}throw m("Not implemented");},Jh=function(a,b){if(Rd(a))try{Fe(a,b,void 0)}catch(c){if(c!==Gh)throw c;}else{a=Ih(a);try{for(;;)b[L](void 0,a.next(),void 0,a)}catch(d){if(d!==Gh)throw d;}}};var Kh=function(a,b){this.g={};this.G=[];this.Dd=this.M=0;var c=arguments[H];if(1<c){if(c%2)throw m("Uneven number of arguments");for(var d=0;d<c;d+=2)this.set(arguments[d],arguments[d+1])}else a&&this.Dg(a)};M=Kh[J];M.L=function(){return this.M};M.V=function(){Lh(this);for(var a=[],b=0;b<this.G[H];b++)a[B](this.g[this.G[b]]);return a};M.La=function(){Lh(this);return this.G.concat()};M.xb=function(a){return Mh(this.g,a)};
M.bf=function(a){for(var b=0;b<this.G[H];b++){var c=this.G[b];if(Mh(this.g,c)&&this.g[c]==a)return!0}return!1};Xa(M,function(a,b){if(this===a)return!0;if(this.M!=a.L())return!1;var c=b||Nh;Lh(this);for(var d,e=0;d=this.G[e];e++)if(!c(this.get(d),a.get(d)))return!1;return!0});var Nh=function(a,b){return a===b};La(Kh[J],function(){return 0==this.M});xa(Kh[J],function(){this.g={};cb(this.G,0);this.Dd=this.M=0});
ta(Kh[J],function(a){return Mh(this.g,a)?(delete this.g[a],this.M--,this.Dd++,this.G[H]>2*this.M&&Lh(this),!0):!1});var Lh=function(a){if(a.M!=a.G[H]){for(var b=0,c=0;b<a.G[H];){var d=a.G[b];Mh(a.g,d)&&(a.G[c++]=d);b++}cb(a.G,c)}if(a.M!=a.G[H]){for(var e={},c=b=0;b<a.G[H];)d=a.G[b],Mh(e,d)||(a.G[c++]=d,e[d]=1),b++;cb(a.G,c)}};M=Kh[J];M.get=function(a,b){return Mh(this.g,a)?this.g[a]:b};M.set=function(a,b){Mh(this.g,a)||(this.M++,this.G[B](a),this.Dd++);this.g[a]=b};
M.Dg=function(a){var b;a instanceof Kh?(b=a.La(),a=a.V()):(b=Yf(a),a=Xf(a));for(var c=0;c<b[H];c++)this.set(b[c],a[c])};Da(M,function(){return new Kh(this)});M.Md=function(a){Lh(this);var b=0,c=this.G,d=this.g,e=this.Dd,f=this,h=new Hh;h.next=function(){for(;;){if(e!=f.Dd)throw m("The map has changed since the iterator was created");if(b>=c[H])throw Gh;var h=c[b++];return a?h:d[h]}};return h};var Mh=function(a,b){return ea[J][hc][L](a,b)};var Oh={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",
darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",
ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",
lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",
moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",
seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};var Th=function(a){var b={};a=p(a);var c="#"==a[sb](0)?a:"#"+a;if(Ph[Hc](c))return b.fh=Qh(c),Ya(b,"hex"),b;t:{var d=a[Ab](Rh);if(d){var c=ka(d[1]),e=ka(d[2]),d=ka(d[3]);if(0<=c&&255>=c&&0<=e&&255>=e&&0<=d&&255>=d){c=[c,e,d];break t}}c=[]}if(c[H]){e=c[0];a=c[1];c=c[2];e=ka(e);a=ka(a);c=ka(c);if(ia(e)||0>e||255<e||ia(a)||0>a||255<a||ia(c)||0>c||255<c)throw m('"('+e+","+a+","+c+'") is not a valid RGB color');e=Sh(e[Wb](16));a=Sh(a[Wb](16));c=Sh(c[Wb](16));b.fh="#"+e+a+c;Ya(b,"rgb");return b}if(Oh&&
(c=Oh[a[Jd]()]))return b.fh=c,Ya(b,"named"),b;throw m(a+" is not a valid color string");},Uh=/#(.)(.)(.)/,Qh=function(a){if(!Ph[Hc](a))throw m("'"+a+"' is not a valid hex color");4==a[H]&&(a=a[x](Uh,"#$1$1$2$2$3$3"));return a[Jd]()},Ph=/^#(?:[0-9a-f]{3}){1,2}$/i,Rh=/^(?:rgb)?\((0|[1-9]\d{0,2}),\s?(0|[1-9]\d{0,2}),\s?(0|[1-9]\d{0,2})\)$/i,Sh=function(a){return 1==a[H]?"0"+a:a};var Vh=function(a,b,c,d){this.Fa=a;this.Ea=b;this.Da=c;this.Ba=d},Ji=new Vh(1,1,1,1),Ki=new Vh(0,0,0,1),Li=function(a){if(!a)return null;try{var b,c=Th(a).fh,c=Qh(c);b=[la(c[Vb](1,2),16),la(c[Vb](3,2),16),la(c[Vb](5,2),16)];return new Vh(b[0]/255,b[1]/255,b[2]/255,1)}catch(d){return null}},Mi=function(a,b,c){return new Vh(Tg(a.Fa,b.Fa,c),Tg(a.Ea,b.Ea,c),Tg(a.Da,b.Da,c),Tg(a.Ba,b.Ba,c))};Vh[J].dd=function(){return[this.Fa,this.Ea,this.Da,this.Ba]};
var Ni=function(a){return 1==a.Ba?"rgb("+l[D](255*a.Fa)+","+l[D](255*a.Ea)+","+l[D](255*a.Da)+")":"rgba("+l[D](255*a.Fa)+","+l[D](255*a.Ea)+","+l[D](255*a.Da)+","+a.Ba+")"},Oi=function(a,b){return new Vh(a.Fa,a.Ea,a.Da,b)};Vh[J].multiply=function(a){var b=Sg(this.Fa*a,0,1),c=Sg(this.Ea*a,0,1);a=Sg(this.Da*a,0,1);return new Vh(b,c,a,this.Ba)};var Pi=function(a){var b=l.max(a.Fa,a.Ea,a.Da);a=l.min(a.Fa,a.Ea,a.Da);return 0.5*(b+a)};
Xa(Vh[J],function(a){return!!a&&a.Fa==this.Fa&&a.Ea==this.Ea&&a.Da==this.Da&&a.Ba==this.Ba});var Qi=function(a,b,c,d){Jf[L](this,a,b);this.node=c;this.edge=d};T(Qi,Jf);S("amoeba.GraphEvent.Type",{NODE_ADDED:"graph-node-added",NODE_REMOVED:"graph-node-removed",EDGE_ADDED:"graph-edge-added",EDGE_REMOVED:"graph-edge-removed"});var Ri=function(a,b){Aa(this,new W(a,b));this.$d=!1};Ri[J].Lh=function(){return!0};for(var Ui=function(a){a=a||{};Pa(this,Li(a[Rc]));Fa(this,Si(a[uc]));this.textColor=Li(a[Yb]);this.bd=Si(a.fontScale);this.fontFamily=a[Nc];this.fontStyle=a[td];this.cd=Ti(a.labelPosition);this.icon=a[Jc];this.Id=a.minRadius;this.Hd=a.maxRadius;this.ee=Li(a.outgoingEdgeColor);this.de=Li(a.incomingEdgeColor);this.ne=Si(a.density);this.je=Si(a.tension);this.backgroundColor=Li(a[Sc])},Vi=[],Wi={__default:{color:"#000",scale:1,textColor:"#000",fontScale:1,fontFamily:"sans-serif",fontStyle:"",labelPosition:"center",
icon:"",density:1,tension:1,backgroundColor:"#fff"},__defaultNode:{color:"#5082e6",outgoingEdgeColor:"#e5801a",incomingEdgeColor:"#0000ff",minRadius:1,maxRadius:100},__defaultEdge:{color:"#ccc",minRadius:0.5,maxRadius:10}},Xi="#5082e6 #f2a915 #43a695 #bf3626 #29a634 #b32d94 #9ca600 #767676 #a2bdf2 #f0cc84 #8fcdc2 #d99b93 #98d99d #dd96cc #e3e985 #d0d0d0".split(" "),Yi=0;Yi<Xi[H];Yi++){var Zi="nodeColor"+Yi,$i={color:Xi[Yi]};Vi[B](Zi);Wi[Zi]=$i}
Ui[J].getRadius=function(a){return this.Hd?Sg(a*this[uc],this.Id||0,this.Hd):l.max(a*this[uc],this.Id||0)};var Si=function(a){a=ma(a);return ia(a)?null:a},Ti=function(a){if(a){if("center"==a[Jd]())return 0;if("above"==a[Jd]())return 1;if("below"==a[Jd]())return 2}return null};var X=function(a,b,c,d,e,f,h){this.id=a;this.C=0;Za(this,b);this.cg(e);this.b=null;O(c)&&O(d)&&(this.b=new Ri(c,d));this.o=[];this.Ib=h||{};this.pe=!1;this.Ua(f||1);this.id=this.id;Za(this,this[G]);this.edges=this.o;this.properties=this.Ib};S("amoeba.Node",X);X[J].Ua=function(a){this.ma=a;this.radius=5*l.pow(this.ma,0.3333)};X[J].setImportance=X[J].Ua;X[J].setPosition=function(a,b){this.b?Aa(this.b,new W(a,b)):this.b=new Ri(a,b)};X[J].setPosition=X[J].setPosition;
X[J].se=function(){return O(this.Qf)?this.Qf:this.o[H]};X[J].getDegree=X[J].se;X[J].Yd=function(){return this.pe};X[J].getSelected=X[J].Yd;var aj=function(a){for(var b=[],c=0;c<a.o[H];c++)a.o[c].qb&&a.o[c].k!=a||b[B](a.o[c]);return b};X[J].setProperty=function(a,b){this.Ib[a]=b};X[J].cg=function(a){eb(this,a?(a[Ab](/\S+/g)||[])[Id](" "):"")};X[J].ua=function(){return this[ld]};
var cj=function(a,b,c,d,e,f){if(a==b)throw m("fromNode and toNode must not be the same node");this.k=a;this.l=b;this.qb=c;this.Ib=f||{};this.cg(d||"");bj(this,e||1);this.fromNode=this.k;this.toNode=this.l;this.directed=this.qb;this.properties=this.Ib},dj=function(a,b){if(b==a.k)return a.l;if(b==a.l)return a.k},bj=function(a,b){a.weight=b;a.uh=l[$c](b);a.radius=0.5*a.uh};cj[J].setProperty=function(a,b){this.Ib[a]=b};cj[J].cg=function(a){eb(this,a?(a[Ab](/\S+/g)||[])[Id](" "):"")};cj[J].ua=function(){return this[ld]};
var ej=function(a,b){this.Vd=a;this.ue=b},Y=function(a){zg[L](this);this.Gh=a||new ej(1,null);this.Ka=!0;this.B=[];this.Ne=[];this.Gb=new Kh};T(Y,zg);S("amoeba.Graph",Y);
var fj=function(a){var b=new Y;if(a.nodes)for(var c=a.nodes,d=0;d<c[H];d++){var e=c[d],f=e[ld],h=e.properties;e.group&&(f=Vi[la(e.group,10)%Vi[H]]);e=new X(d,e[G],e.x,e.y,f,e.importance||1,h);b.Ca(e)}if(a.edges)for(a=a.edges,d=0;d<a[H];d++)c=a[d],O(c.from)&&O(c.to)&&(e=b.n(c.from),f=b.n(c.to),e&&f&&b.wa(new cj(e,f,!!c.directed,c[ld],c[mb],c.properties)));return b};Y.fromDescription=fj;Y[J].getMetadata=function(){return this.Gh};
Y[J].Ca=function(a){if(this.B[a.id])return!1;this.B[a.id]=a;this.Ne[B](a.id);this.Ka=!0;this[xb](new Qi("graph-node-added",this,a,null));return!0};Y[J].addNode=Y[J].Ca;Y[J].removeNode=function(a){var b=this.B[a];if(!b)return!1;for(var c=b.o[H]-1;0<=c;c--)this.ji(b.o[c]);delete this.B[a];Se(this.Ne,a);this.Ka=!0;this[xb](new Qi("graph-node-removed",this,b,null));return!0};Y[J].removeNode=Y[J][tc];
Y[J].wa=function(a){var b=gj(a.k.id,a.l.id);if(this.Gb.xb(b))return!1;this.Gb.set(b,a);a.k.o[B](a);a.l.o[B](a);delete this.Fe;this.Ka=!0;this[xb](new Qi("graph-edge-added",this,null,a));return!0};Y[J].addEdge=Y[J].wa;Y[J].ji=function(a){if(!this.Gb[Db](gj(a.k.id,a.l.id)))return!1;Se(a.k.o,a);Se(a.l.o,a);this.Ka=!0;delete this.Fe;this[xb](new Qi("graph-edge-removed",this,null,a));return!0};Y[J].removeEdge=Y[J].ji;Y[J].m=function(){return this.Ne[H]};Y[J].getNumNodes=Y[J].m;Y[J].Za=function(){return this.Gb.L()};
Y[J].getNumEdges=Y[J].Za;Y[J].n=function(a){return this.B[a]};Y[J].findNodeById=Y[J].n;Y[J].r=function(a){return this.B[this.Ne[a]]};Y[J].getNode=Y[J].r;Y[J].pb=function(a){this.Fe||(this.Fe=this.Gb.V());return this.Fe[a]};Y[J].getEdge=Y[J].pb;Y[J].rc=function(){return this.Ka};Y[J].rf=function(){this.Ka=!1};var gj=function(a,b){return a<b?a+":"+b:b+":"+a};var hj=function(){this.Wi=R()},ij=new hj;hj[J].set=function(a){this.Wi=a};Ha(hj[J],function(){this.set(R())});hj[J].get=function(){return this.Wi};var jj=function(a){this.Nj=a||"";this.Oj=ij};M=jj[J];M.Pj=!0;M.ti=!0;M.Rj=!0;M.Qj=!0;M.ui=!1;M.Sj=!1;var kj=function(a){return 10>a?"0"+a:p(a)},lj=function(a,b){var c=(a.ri-b)/1E3,d=c[ob](3),e=0;if(1>c)e=2;else for(;100>c;)e++,c*=10;for(;0<e--;)d=" "+d;return d},mj=function(a){jj[L](this,a)};T(mj,jj);var nj=function(a){if("function"==typeof a.L)a=a.L();else if(Rd(a)||P(a))a=a[H];else{var b=0,c;for(c in a)b++;a=b}return a},oj=function(a){if("function"==typeof a.V)return a.V();if(P(a))return a[cc]("");if(Rd(a)){for(var b=[],c=a[H],d=0;d<c;d++)b[B](a[d]);return b}return Xf(a)},pj=function(a){if("function"==typeof a.La)return a.La();if("function"!=typeof a.V){if(Rd(a)||P(a)){var b=[];a=a[H];for(var c=0;c<a;c++)b[B](c);return b}return Yf(a)}},qj=function(a,b,c){if("function"==typeof a[Hb])a[Hb](b,
c);else if(Rd(a)||P(a))Fe(a,b,c);else for(var d=pj(a),e=oj(a),f=e[H],h=0;h<f;h++)b[L](c,e[h],d&&d[h],a)},rj=function(a,b){if("function"==typeof a[Fd])return a[Fd](b,void 0);if(Rd(a)||P(a))return Me(a,b,void 0);for(var c=pj(a),d=oj(a),e=d[H],f=0;f<e;f++)if(!b[L](void 0,d[f],c&&c[f],a))return!1;return!0};var sj=function(a){this.g=new Kh;a&&this.Dg(a)},tj=function(a){var b=typeof a;return"object"==b&&a||"function"==b?"o"+(a[$d]||(a[$d]=++ae)):b[Vb](0,1)+a};M=sj[J];M.L=function(){return this.g.L()};M.add=function(a){this.g.set(tj(a),a)};M.Dg=function(a){a=oj(a);for(var b=a[H],c=0;c<b;c++)this.add(a[c])};M.removeAll=function(a){a=oj(a);for(var b=a[H],c=0;c<b;c++)this[Db](a[c])};ta(M,function(a){return this.g[Db](tj(a))});xa(M,function(){this.g[Nb]()});La(M,function(){return this.g[Gc]()});Ga(M,function(a){return this.g.xb(tj(a))});
M.V=function(){return this.g.V()};Da(M,function(){return new sj(this)});Xa(M,function(a){return this.L()==nj(a)&&uj(this,a)});var uj=function(a,b){var c=nj(b);if(a.L()>c)return!1;!(b instanceof sj)&&5<c&&(b=new sj(b));return rj(a,function(a){var c=b;if("function"==typeof c[xc])a=c[xc](a);else if("function"==typeof c.bf)a=c.bf(a);else if(Rd(c)||P(c))a=Pe(c,a);else t:{for(var f in c)if(c[f]==a){a=!0;break t}a=!1}return a})};sj[J].Md=function(){return this.g.Md(!1)};var wj=function(a){return vj(a||arguments.callee.caller,[])},vj=function(a,b){var c=[];if(Pe(b,a))c[B]("[...circular reference...]");else if(a&&50>b[H]){c[B](xj(a)+"(");for(var d=a.arguments,e=0;d&&e<d[H];e++){0<e&&c[B](", ");var f;f=d[e];switch(typeof f){case "object":f=f?"object":"null";break;case "string":break;case "number":f=p(f);break;case "boolean":f=f?"true":"false";break;case "function":f=(f=xj(f))?f:"[fn]";break;default:f=typeof f}40<f[H]&&(f=f[Vb](0,40)+"...");c[B](f)}b[B](a);c[B](")\n");
try{c[B](vj(a.caller,b))}catch(h){c[B]("[exception trying to get caller]\n")}}else a?c[B]("[...long stack...]"):c[B]("[end]");return c[Id]("")},xj=function(a){if(yj[a])return yj[a];a=p(a);if(!yj[a]){var b=/function ([^\(]+)/[nb](a);yj[a]=b?b[1]:"[Anonymous]"}return yj[a]},yj={};var zj=function(a,b,c,d,e){this[zc](a,b,c,d,e)};zj[J].Ng=null;zj[J].Mg=null;var Aj=0;Ha(zj[J],function(a,b,c,d,e){"number"==typeof e||Aj++;this.ri=d||R();this.pc=a;this.ik=b;this.qi=c;delete this.Ng;delete this.Mg});zj[J].Tg=function(){return this.pc};zj[J].me=function(a){this.pc=a};zj[J].getMessage=function(){return this.ik};var Bj=function(a){this.$j=a;this.md=this.Xg=this.pc=this.af=null},Cj=function(a,b){Za(this,a);this.value=b};za(Cj[J],function(){return this[G]});var Dj=new Cj("OFF",Infinity),Ej=new Cj("SHOUT",1200),Fj=new Cj("SEVERE",1E3),Gj=new Cj("WARNING",900),Hj=new Cj("INFO",800),Ij=new Cj("CONFIG",700),Jj=new Cj("FINE",500),Kj=[Dj,Ej,Fj,Gj,Hj,Ij,Jj,new Cj("FINER",400),new Cj("FINEST",300),new Cj("ALL",0)],Lj=null,Mj=function(a){if(!Lj){Lj={};for(var b=0,c;c=Kj[b];b++)Lj[c[Qc]]=c,Lj[c[G]]=c}return Lj[a]||null};
Bj[J].getParent=function(){return this.af};Bj[J].Ni=function(){this.Xg||(this.Xg={});return this.Xg};Bj[J].me=function(a){this.pc=a};Bj[J].Tg=function(){return this.pc};var Nj=function(a){if(a.pc)return a.pc;if(a.af)return Nj(a.af);Be("Root logger has no level set.");return null};
Bj[J].log=function(a,b,c){if(a[Qc]>=Nj(this)[Qc])for(Zd(b)&&(b=b()),a=this.sk(a,b,c),b="log:"+a.getMessage(),N[vc]&&(N[vc].timeStamp?N[vc].timeStamp(b):N[vc].markTimeline&&N[vc].markTimeline(b)),N.msWriteProfilerMark&&N.msWriteProfilerMark(b),b=this;b;){c=b;var d=a;if(c.md)for(var e=0,f=void 0;f=c.md[e];e++)f(d);b=b.getParent()}};
Bj[J].sk=function(a,b,c){var d=new zj(a,p(b),this.$j);if(c){d.Ng=c;var e;var f=arguments.callee.caller;try{var h;var k=Nd("window.location.href");if(P(c))h={message:c,name:"Unknown error",lineNumber:"Not available",fileName:k,stack:"Not available"};else{var n,q,s=!1;try{n=c.lineNumber||c.line||"Not available"}catch(u){n="Not available",s=!0}try{q=c[Ac]||c.filename||c.sourceURL||N.$googDebugFname||k}catch(C){q="Not available",s=!0}h=!s&&c.lineNumber&&c[Ac]&&c[dc]&&c[gc]&&c[G]?c:{message:c[gc]||"Not available",
name:c[G]||"UnknownError",lineNumber:n,fileName:q,stack:c[dc]||"Not available"}}e="Message: "+oe(h[gc])+'\nUrl: <a href="view-source:'+h[Ac]+'" target="_new">'+h[Ac]+"</a>\nLine: "+h.lineNumber+"\n\nBrowser stack:\n"+oe(h[dc]+"-> ")+"[end]\n\nJS stack traversal:\n"+oe(wj(f)+"-> ")}catch(I){e="Exception trying to expose exception! You win, we lose. "+I}d.Mg=e}return d};
var Oj={},Pj=null,Qj=function(){Pj||(Pj=new Bj(""),Oj[""]=Pj,Pj.me(Ij))},Rj=function(a){Qj();var b;if(!(b=Oj[a])){b=new Bj(a);var c=a[yd]("."),d=a[Vb](c+1),c=Rj(a[Vb](0,c));c.Ni()[d]=b;b.af=c;Oj[a]=b}return b};var Sj=function(){this.dj=Q(this.hk,this);this.Pg=new mj;this.Pg.ti=!1;this.vh=this.Pg.ui=!1;this.si="";this.Lj={}};
Sj[J].hk=function(a){if(!this.Lj[a.qi]){var b;b=this.Pg;var c=[];c[B](b.Nj," ");if(b.ti){var d=new Date(a.ri);c[B]("[",kj(d.getFullYear()-2E3)+kj(d.getMonth()+1)+kj(d.getDate())+" "+kj(d.getHours())+":"+kj(d.getMinutes())+":"+kj(d.getSeconds())+"."+kj(l[rb](d.getMilliseconds()/10)),"] ")}b.Rj&&c[B]("[",lj(a,b.Oj.get()),"s] ");b.Qj&&c[B]("[",a.qi,"] ");b.Sj&&c[B]("[",a.Tg()[G],"] ");c[B](a.getMessage());b.ui&&a.Ng&&c[B]("\n",a.Mg);b.Pj&&c[B]("\n");b=c[Id]("");if(c=Tj)switch(a.Tg()){case Ej:Uj(c,"info",
b);break;case Fj:Uj(c,"error",b);break;case Gj:Uj(c,"warn",b);break;default:Uj(c,"debug",b)}else ca[Vc]?ca[Vc].postError(b):this.si+=b}};var Vj=null,Tj=ca[vc],Uj=function(a,b,c){if(a[b])a[b](c);else a.log(c)};var Wj=function(a,b){zg[L](this);var c=this.Sd=a;(c=Sd(c)&&1==c[Mc]?this.Sd:this.Sd?this.Sd[sd]:null)&&wh(c,"direction");this.ni=V(this.Sd,nf?"DOMMouseScroll":"mousewheel",this,b)};T(Wj,zg);
Wj[J].handleEvent=function(a){var b=0,c=0,d=0;a=a.Vg;if("mousewheel"==a[cd]){c=1;if(U||of&&(ff||Cf("532.0")))c=40;d=Xj(-a.wheelDelta,c);O(a.wheelDeltaX)?(b=Xj(-a.wheelDeltaX,c),c=Xj(-a.wheelDeltaY,c)):c=d}else d=a.detail,100<d?d=3:-100>d&&(d=-3),O(a.axis)&&a.axis===a.HORIZONTAL_AXIS?b=d:c=d;Yd(this.Ki)&&Sg(b,-this.Ki,this.Ki);Yd(this.Li)&&(c=Sg(c,-this.Li,this.Li));b=new Yj(d,a,0,c);this[xb](b)};var Xj=function(a,b){return of&&(ef||gf)&&0!=a%b?a:a/b};
Wj[J].e=function(){Wj.J.e[L](this);sg(this.ni);this.ni=null};var Yj=function(a,b,c,d){Kf[L](this,b);Ya(this,"mousewheel");this.detail=a;this.rk=d};T(Yj,Kf);var Zj=function(a,b,c){a&&a.log(b,c,void 0)},ak=function(a,b){a&&a.log(Jj,b,void 0)};var bk=function(a,b,c){if(Zd(a))c&&(a=Q(a,c));else if(a&&"function"==typeof a[Mb])a=Q(a[Mb],a);else throw m("Invalid listener argument");return 2147483647<b?-1:N[bc](a,b||0)};var ck=oa("^(?:([^:/?#.]+):)?(?://(?:([^/?#]*)@)?([^/#?]*?)(?::([0-9]+))?(?=[/#?]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#(.*))?$"),nk=function(a){if(dk){dk=!1;var b=N[fc];if(b){var c=b.href;if(c&&(c=(c=nk(c)[3]||null)&&na(c))&&c!=b.hostname)throw dk=!0,m();}}return a[Ab](ck)},dk=of;var ok=function(a,b){var c;if(a instanceof ok)this.Pa=O(b)?b:a.Pa,pk(this,a.Wc),c=a.Ye,qk(this),this.Ye=c,c=a.Jd,qk(this),this.Jd=c,rk(this,a.We),this.setPath(a.getPath()),sk(this,a.Hb[kc]()),c=a.Ve,qk(this),this.Ve=c;else if(a&&(c=nk(p(a)))){this.Pa=!!b;pk(this,c[1]||"",!0);var d=c[2]||"";qk(this);this.Ye=d?na(d):"";d=c[3]||"";qk(this);this.Jd=d?na(d):"";rk(this,c[4]);this.setPath(c[5]||"",!0);sk(this,c[6]||"",!0);c=c[7]||"";qk(this);this.Ve=c?na(c):""}else this.Pa=!!b,this.Hb=new tk(null,0,this.Pa)};
M=ok[J];M.Wc="";M.Ye="";M.Jd="";M.We=null;M.Vi="";M.Ve="";M.Dk=!1;M.Pa=!1;za(M,function(){var a=[],b=this.Wc;b&&a[B](uk(b,vk),":");if(b=this.Jd){a[B]("//");var c=this.Ye;c&&a[B](uk(c,vk),"@");a[B](aa(p(b)));b=this.We;null!=b&&a[B](":",p(b))}if(b=this.getPath())this.Jd&&"/"!=b[sb](0)&&a[B]("/"),a[B](uk(b,"/"==b[sb](0)?wk:xk));(b=this.Hb[Wb]())&&a[B]("?",b);(b=this.Ve)&&a[B]("#",uk(b,yk));return a[Id]("")});Da(M,function(){return new ok(this)});
var pk=function(a,b,c){qk(a);a.Wc=c?b?na(b):"":b;a.Wc&&(a.Wc=a.Wc[x](/:$/,""))},rk=function(a,b){qk(a);if(b){b=ka(b);if(ia(b)||0>b)throw m("Bad port number "+b);a.We=b}else a.We=null};ok[J].getPath=function(){return this.Vi};ok[J].setPath=function(a,b){qk(this);this.Vi=b?a?na(a):"":a;return this};var sk=function(a,b,c){qk(a);b instanceof tk?(a.Hb=b,a.Hb.Wg(a.Pa)):(c||(b=uk(b,zk)),a.Hb=new tk(b,0,a.Pa))},qk=function(a){if(a.Dk)throw m("Tried to modify a read-only Uri");};
ok[J].Wg=function(a){this.Pa=a;this.Hb&&this.Hb.Wg(a);return this};
var uk=function(a,b){return P(a)?encodeURI(a)[x](b,Ak):null},Ak=function(a){a=a.charCodeAt(0);return"%"+(a>>4&15)[Wb](16)+(a&15)[Wb](16)},vk=/[#\/\?@]/g,xk=/[\#\?:]/g,wk=/[\#\?]/g,zk=/[\#\?@]/g,yk=/#/g,tk=function(a,b,c){this.Ha=a||null;this.Pa=!!c},Ck=function(a){if(!a.P&&(a.P=new Kh,a.M=0,a.Ha))for(var b=a.Ha[cc]("&"),c=0;c<b[H];c++){var d=b[c][E]("="),e=null,f=null;0<=d?(e=b[c][Ed](0,d),f=b[c][Ed](d+1)):e=b[c];e=na(e[x](/\+/g," "));e=Bk(a,e);a.add(e,f?na(f[x](/\+/g," ")):"")}};M=tk[J];M.P=null;
M.M=null;M.L=function(){Ck(this);return this.M};M.add=function(a,b){Ck(this);this.Ha=null;a=Bk(this,a);var c=this.P.get(a);c||this.P.set(a,c=[]);c[B](b);this.M++;return this};ta(M,function(a){Ck(this);a=Bk(this,a);return this.P.xb(a)?(this.Ha=null,this.M-=this.P.get(a)[H],this.P[Db](a)):!1});xa(M,function(){this.P=this.Ha=null;this.M=0});La(M,function(){Ck(this);return 0==this.M});M.xb=function(a){Ck(this);a=Bk(this,a);return this.P.xb(a)};M.bf=function(a){var b=this.V();return Pe(b,a)};
M.La=function(){Ck(this);for(var a=this.P.V(),b=this.P.La(),c=[],d=0;d<b[H];d++)for(var e=a[d],f=0;f<e[H];f++)c[B](b[d]);return c};M.V=function(a){Ck(this);var b=[];if(P(a))this.xb(a)&&(b=Te(b,this.P.get(Bk(this,a))));else{a=this.P.V();for(var c=0;c<a[H];c++)b=Te(b,a[c])}return b};M.set=function(a,b){Ck(this);this.Ha=null;a=Bk(this,a);this.xb(a)&&(this.M-=this.P.get(a)[H]);this.P.set(a,[b]);this.M++;return this};M.get=function(a,b){var c=a?this.V(a):[];return 0<c[H]?p(c[0]):b};
M.setValues=function(a,b){this[Db](a);0<b[H]&&(this.Ha=null,this.P.set(Bk(this,a),Ue(b)),this.M+=b[H])};za(M,function(){if(this.Ha)return this.Ha;if(!this.P)return"";for(var a=[],b=this.P.La(),c=0;c<b[H];c++)for(var d=b[c],e=aa(p(d)),d=this.V(d),f=0;f<d[H];f++){var h=e;""!==d[f]&&(h+="="+aa(p(d[f])));a[B](h)}return this.Ha=a[Id]("&")});Da(M,function(){var a=new tk;a.Ha=this.Ha;this.P&&(a.P=this.P[kc](),a.M=this.M);return a});var Bk=function(a,b){var c=p(b);a.Pa&&(c=c[Jd]());return c};
tk[J].Wg=function(a){a&&!this.Pa&&(Ck(this),this.Ha=null,qj(this.P,function(a,c){var d=c[Jd]();c!=d&&(this[Db](c),this.setValues(d,a))},this));this.Pa=a};var Dk=function(a,b,c,d){this.O=a;this.R=b;this.Z=c;this.ja=d},Ek=function(a,b,c){return new Dk(a.x-0.5*b,a.y-0.5*c,a.x+0.5*b,a.y+0.5*c)};r(Dk[J],function(){return this.Z-this.O});t(Dk[J],function(){return this.ja-this.R});var Fk=function(a,b){var c=b.x,d=b.y;return c>=a.O&&c<=a.Z&&d>=a.R&&d<=a.ja};Dk[J].intersects=function(a){return this.O<=a.Z&&this.R<=a.ja&&this.Z>=a.O&&this.ja>=a.R};Xa(Dk[J],function(a){return this==a?!0:!!a&&this.O==a.O&&this.R==a.R&&this.Z==a.Z&&this.ja==a.ja});var Hk=function(a,b,c,d){this.Y=c[kc]();this.Se=0;this.Q=1;this.Ja={width:a,height:b};this.Ob=new Dk(0,0,0,0);Gk(this);d&&this[Ib](d)};M=Hk[J];fb(M,function(a,b){if(a!=this.Y.x||b!=this.Y.y)this.Y.x=a,this.Y.y=b,Gk(this)});Na(M,function(){return this.Y});M.setZoom=function(a){a!=this.Se&&(this.Se=a,this.Q=l.pow(2,-this.Se),Gk(this))};M.getZoom=function(){return this.Se};M.ad=function(){return this.Ob};
var Ik=function(a,b){return new W(a.Y.x+(b.x-a.Ja[w]/2)*a.Q,a.Y.y+(a.Ja[A]/2-b.y)*a.Q)},Gk=function(a){var b=0.5*a.Ja[w]*a.Q,c=0.5*a.Ja[A]*a.Q;a.Ob=new Dk(a.Y.x-b,a.Y.y-c,a.Y.x+b,a.Y.y+c)};var Jk=function(a,b,c){this.Ei=a;this.Qd=b||0;this.vc=O(c)?c:this.Qd;this.$e=this.Qd;this.Di=R()},Kk=function(a,b){a.vc=b;a.Qd=a.$e;a.Di=R()};Jk[J].getValue=function(){return this.$e};Jk[J].update=function(){var a=Sg(R()-this.Di,0,this.Ei);return this.$e=this.Qd+a/this.Ei*(this.vc-this.Qd)};var Lk=function(a,b,c,d,e,f,h){this.of=a;this.text=b;this.textColor=c;Ka(this,d);this.size=e;this.alpha=h;this.jh=f;this.pf=new W(0,0);this.qk=this.text+" ["+this.font+" "+Ni(this[Yb])+"]"};Lk[J].getPosition=function(){return this.pf};za(Lk[J],function(){return this.qk});var Mk=function(a){this.Mj=a||{};this.Xe={}},Ok=function(a){return Nk(a,"__default graph")},Pk=function(a,b){var c="__default __defaultNode node";b&&b.ua()&&(c+=" "+b.ua());return Nk(a,c)},Qk=function(a,b){var c="__default __defaultEdge edge";b&&b.ua()&&(c+=" "+b.ua());return Nk(a,c)},Nk=function(a,b){var c=a.Xe[b];if(!c){for(var c=new Ui,d=b[cc](" "),e=0;e<d[H];e++){var f=d[e],h=a.Xe[f];h||((h=a.Mj[f])||(h=Wi[f]),h=new Ui(h),a.Xe[f]=h);f=c;null!=h[Rc]&&Pa(f,h[Rc]);null!=h[uc]&&Fa(f,h[uc]);null!=
h[Yb]&&(f.textColor=h[Yb]);null!=h.bd&&(f.bd=h.bd);null!=h[Nc]&&(f.fontFamily=h[Nc]);null!=h[td]&&(f.fontStyle=h[td]);null!=h.cd&&(f.cd=h.cd);null!=h[Jc]&&(f.icon=h[Jc]);null!=h.Id&&(f.Id=h.Id);null!=h.Hd&&(f.Hd=h.Hd);null!=h.ee&&(f.ee=h.ee);null!=h.de&&(f.de=h.de);null!=h.ne&&(f.ne=h.ne);null!=h.je&&(f.je=h.je);null!=h[Sc]&&(f.backgroundColor=h[Sc])}a.Xe[b]=c}return c};var Rk=function(){this.Le=new Kh};T(Rk,Hf);var Sk=function(a,b){this.lc=hh("IMG");Pa(this,b);this.loaded=!1;var c=this;this.lc.onload=function(){c.loaded=!0;if(!Ji.equals(c[Rc])){var a=c.lc,b=c[Rc];Ni(b);var f=hh("CANVAS");r(f,a[w]);t(f,a[A]);var h=f[bd]("2d");h.drawImage(a,0,0);for(var a=h.getImageData(0,0,f[w],f[A]),k=a[pb],n=0;n<k[H];)k[n++]=k[n]*b.Fa,k[n++]=k[n]*b.Ea,k[n++]=k[n]*b.Da,k[n++]=k[n]*b.Ba;h.putImageData(a,0,0);c.lc=f}};this.lc.src=a};
Rk[J].e=function(){for(var a=this.Le.V(),b=0;b<a[H];b++)delete a[b].lc.onload,delete a[b].lc;this.Le[Nb]();Rk.J.e[L](this)};Rk[J].getIcon=function(a,b){if(!b[Jc])return null;var c=a.ua(),d=this.Le.get(c);d||(d=new Sk(b[Jc],b[Rc]),this.Le.set(c,d));return d.loaded?d.lc:null};var Tk=function(a,b,c,d){var e=a[bd]("2d");Ka(e,b.font);var f=e.measureText(b.text),h=l[D](0.2*b[ac]),f=l.min(l[D](f[w])+2*h,1024),k=l.min(l[D](1.25*b[ac])+2*h,64),n=f*d,q=k*d;c&&(n=1<<l[qb](l.log(f)/l.LN2),q=1<<l[qb](l.log(k)/l.LN2));r(a,n);t(a,q);e.textAlign="left";e.textBaseline="top";ya(e,Ni(b[Yb]));0.5<Pi(b[Yb])?e.shadowColor="rgba(0,0,0,0.6)":e.shadowColor="rgba(255,255,255,0.6)";e.shadowBlur=h;Ka(e,b.font);e[uc](d,d);e.fillText(b.text,h,h);return new Vg(f,k)};var Uk=function(a,b,c){this.t=a;this.$=c;this.rh=b;this.ug=R()};T(Uk,Hf);Uk[J].e=function(){delete this.t;Uk.J.e[L](this)};hb(Uk[J],function(a,b,c){c=this.rh[rd]*Sg((c-this.ug-200)/500,0,1);a.globalAlpha=c;c=this.t[w]/this.$;var d=this.t[A]/this.$,e=l[D](b.x-c/2);b=l[D](b.y-d/2);a.drawImage(this.t,e,b,c,d)});var Vk=function(a){this.pa=new Kh;this.$=a};T(Vk,Hf);Vk[J].e=function(){for(var a=this.pa.V(),b=0;b<a[H];b++)a[b].D();this.pa[Nb]();Vk.J.e[L](this)};
Vk[J].uf=function(a){for(var b={},c=0;c<a[H];c++)b[a[c]]=!0;a=this.pa.La();for(c=0;c<a[H];c++){var d=a[c];b[d]||(this.pa.get(d).D(),this.pa[Db](d))}};Vk[J].tf=function(a){var b=hh("CANVAS");Tk(b,a,!1,this.$);return new Uk(b,a,this.$)};var Wk=function(){};T(Wk,Hf);Wk[J].e=function(){nh(this.t);If(this.nh);If(this.Db);delete this.t;delete this.ab;Wk.J.e[L](this)};Wk[J].Gf=function(a,b){var c=hh("CANVAS");Aa(c[z],"absolute");c[z].top="0px";Wa(c[z],"0px");a[wb](c,a[Ob][0]||null);this.t=c;c=this.t[bd]("2d");if(!c)return!1;this.ab=c;this.$=Xk(c);this.nh=new Rk;this.Db=new Vk(this.$);this.ia=b;this.Xb=new Jk(500);this.Ra=new Jk(500);this.sh=0.5<=Pi(Ok(b)[Sc]);return!0};
Wk[J].sf=function(a,b,c,d,e){var f=d.Ja[w],h=d.Ja[A];if(this.t[od]!=f||this.t[Bd]!=h)r(this.t,f*this.$),t(this.t,h*this.$),r(this.t[z],f+"px"),t(this.t[z],h+"px"),this.ab[uc](this.$,this.$);null==e&&0!=this.Xb.vc?Kk(this.Xb,0):null!=e&&1!=this.Xb.vc&&Kk(this.Xb,1);this.Xb.update();this.ab.clearRect(0,0,this.t[w],this.t[A]);if(b){f=a[Xb]().Vd;for(b=0;b<a.m();b++)f=l.min(f,a.r(b).C);this.Ra.vc!=f&&Kk(this.Ra,f)}this.Ra.update();h=a.Za();f=[];for(b=0;b<h;b++){var k;var n=d;k=a.pb(b);var q=e,s=this.Vb(n,
k.k.b[y]),u=this.Vb(n,k.l.b[y]),n=Pk(this.ia,k.k),C=Pk(this.ia,k.l),I=n[ud](k.k[Wc]),ba=C[ud](k.l[Wc]),I=ph(rh(s,u))-(ba+I);if(0>I)k=null;else{var ua=Qk(this.ia,k),pa=ua[ud](k[Wc]),ua=ua[Rc]||Ki,va=null;if(k.qb){var da=l.atan2(u.y-s.y,u.x-s.x),Rb=l.cos(da),fd=l.sin(da),u=new W(u.x-ba*Rb,u.y-ba*fd),ba=l.max(7,5*pa),Sb=l.PI/8,Dc=ba*l.cos(Sb),Rb=new W(u.x-Dc*Rb,u.y-Dc*fd),fd=ph(rh(Rb,u));k.k==q?va=n.ee:k.l==q&&(va=C.de);k={color:ua,ld:va,lineWidth:2*pa,Cf:s,Bf:Rb,cj:fd,kd:fd/I,Ac:[u,new W(u.x-ba*l.cos(da-
Sb),u.y-ba*l.sin(da-Sb)),new W(u.x-ba*l.cos(da+Sb),u.y-ba*l.sin(da+Sb))]}}else{if(k.k==q||k.l==q)va=this.sh?Mi(ua,Ki,0.5):Mi(ua,Ji,0.5);k={color:ua,ld:va,lineWidth:2*pa,Cf:s,Bf:u,cj:0,kd:0,Ac:null}}}null!=k&&f[B](k)}for(b=0;b<f[H];b++)f[b].ld||Yk(this,f[b]);for(b=0;b<f[H];b++)f[b].ld&&Yk(this,f[b]);for(b=0;b<f[H];b++)k=f[b],!k.Ac||1<=k.kd||(h=this.ab,q=Zk(this,k,0.4),0.3<=k.kd&&(q=Oi(q,Sg(q.Ba-2*q.Ba*(k.kd-0.3),0,q.Ba))),ya(h,Ni(q)),h[Yc](),k=k.Ac,h.moveTo(k[0].x,k[0].y),h[Ic](k[1].x,k[1].y),h[Ic](k[2].x,
k[2].y),h[Ec](),h.fill());f=a.m();for(b=0;b<f;b++){h=a.r(b);q=d;s=h;C=h==e;h=this.ab;n=1;s.C!=this.Ra[ed]()&&(k=s.C-this.Ra[ed](),n=Sg(l.pow(0.75,k),0.2,1));pa=Pk(this.ia,s);k=pa[ud](s[Wc]);I=pa[Rc]||Ki;if(C||s.Yd())I=this.sh?Mi(I,Ki,0.4):Mi(I,Ji,0.4);(C=this.nh.getIcon(s,pa))?(s=this.Vb(q,s.b[y]),q=l[D](s.x-k),s=l[D](s.y-k),k=l[qb](1.8*k),h.drawImage(C,q,s,k,k)):(ya(h,Ni(1==n?I:Mi(Ji,I,n))),C=h,I=I[pc](0.6),C.strokeStyle=Ni(1==n?I:Mi(Ji,I,n)),h.lineWidth=0.2*k,h[Yc](),s=this.Vb(q,s.b[y]),h.arc(s.x,
s.y,k,0,2*l.PI,!1),h[Ec](),h.fill(),h.stroke())}a=R();for(b=0;b<c[H];b++)f=d,h=c[b],e=a,k=this.Db,q=h,(s=k.pa.get(q))?s.rh.alpha=q[rd]:(s=k.tf(q),k.pa.set(q,s)),k=s,f=this.Vb(f,h.getPosition()),k[zd](this.ab,f,e);this.Db.uf(c);this.ab.globalAlpha=1};
var Zk=function(a,b,c){if(0==a.Xb[ed]())return b[Rc];a=1-a.Xb[ed]();c=Oi(b[Rc],c+(1-c)*a);b.ld&&(c=Mi(b.ld,c,a));return c},Yk=function(a,b){var c=a.ab,d=Zk(a,b,0.2);c.strokeStyle=Ni(d);c.lineWidth=b.lineWidth;c[Yc]();c.moveTo(b.Cf.x,b.Cf.y);!b.Ac||0.3>b.kd?c[Ic](b.Bf.x,b.Bf.y):c[Ic](b.Ac[0].x,b.Ac[0].y);c[Ec]();c.stroke()};Wk[J].Vb=function(a,b){var c=a[Lc](),d=a.Q;return new W((b.x-c.x)/d+this.t[od]/2,this.t[Bd]/2-(b.y-c.y)/d)};Wk[J].Eb=function(){return"Renderer: Canvas"};
var Xk=function(a){return(ca.devicePixelRatio||1)/(a.webkitBackingStorePixelRatio||a.mozBackingStorePixelRatio||a.msBackingStorePixelRatio||a.oBackingStorePixelRatio||a.backingStorePixelRatio||1)};var $k=function(){};S("amoeba.GraphProvider",$k);Ha($k[J],function(){});Ha($k[J],$k[J][zc]);$k[J].H=function(){};$k[J].getGraph=$k[J].H;var al=function(a){this.da=a};S("amoeba.provider.StaticProvider",al);Ha(al[J],function(){});al[J].H=function(){return this.da};var bl=function(a,b,c){this.buffer=new (c||Float32Array)(a*b);Ca(this,0);this.Vc=a;this.xc=b;Ya(this,c)};bl[J].push=function(a){for(var b=this.cursor++*this.Vc,c=0;c<this.Vc;++c)this[ec][b+c]=a[c]};var cl=function(a,b,c){a[0]=b[1]*c[2]-b[2]*c[1];a[1]=b[2]*c[0]-b[0]*c[2];a[2]=b[0]*c[1]-b[1]*c[0]},dl=function(a,b){return a[0]*b[0]+a[1]*b[1]+a[2]*b[2]},el=function(a){var b=l[$c](a[0]*a[0]+a[1]*a[1]+a[2]*a[2]);1E-5<b?(b=1/b,a[0]*=b,a[1]*=b,a[2]*=b):(a[0]=0,a[1]=0,a[2]=0)};var fl=function(a){cb(this,a[H]||a);for(var b=0;b<this[H];b++)this[b]=a[b]||0};fl[J].BYTES_PER_ELEMENT=4;fl[J].set=function(a,b){b=b||0;for(var c=0;c<a[H]&&b+c<this[H];c++)this[b+c]=a[c]};za(fl[J],ja[J][Id]);"undefined"==typeof Float32Array&&(fl.BYTES_PER_ELEMENT=4,fl[J].BYTES_PER_ELEMENT=fl[J].BYTES_PER_ELEMENT,fl[J].set=fl[J].set,za(fl[J],fl[J][Wb]),S("Float32Array",fl));var gl,hl=function(a){for(var b=["webgl","experimental-webgl","webkit-3d","moz-webgl"],c=null,d=0;d<b[H];++d){try{c=a[bd](b[d],{premultipliedAlpha:!1})}catch(e){}if(c)break}c&&(gl=c,b=function(){return!1},a.onselectstart=b,a.onmousedown=b);return c};var il=function(a,b){var c=gl,d=c.createBuffer();gb(this,b||c[Cd]);this.Ld=d;this.set(a);this.Rg=a.Vc;this.Sg=a.xc;if(a[ec]instanceof Float32Array)this.Od=c.FLOAT,this.Nd=!1;else if(a[ec]instanceof Uint8Array)this.Od=c.UNSIGNED_BYTE,this.Nd=!0;else if(a[ec]instanceof Int8Array)this.Od=c.BYTE,this.Nd=!0;else if(a[ec]instanceof Uint16Array)this.Od=c.UNSIGNED_SHORT,this.Nd=!0;else if(a[ec]instanceof Int16Array)this.Od=c.SHORT,this.Nd=!0;else throw"unhandled type:"+typeof a[ec];};M=il[J];
M.Ze=function(){this.Ld&&(gl.deleteBuffer(this.Ld),delete this.Ld)};M.set=function(a){var b=gl;b.bindBuffer(this[wd],this.Ld);b.bufferData(this[wd],a[ec],b.STATIC_DRAW);this.Rg=a.Vc;this.Sg=a.xc};Ya(M,function(){return this.Od});M.Vc=function(){return this.Rg};M.xc=function(){return this.Sg};M.buffer=function(){return this.Ld};M.normalize=function(){return this.Nd};M.offset=function(){return 0};var kl=function(a,b){function c(a,b){if(1!=a[ac])throw"arrays of attribs not handled";return function(a){e.bindBuffer(e[Cd],a[ec]());e.enableVertexAttribArray(b);e.vertexAttribPointer(b,a.Vc(),a[cd](),a.normalize(),0,a.offset())}}function d(a){var b=e.getUniformLocation(h,a[G]),c=a[cd];if(1<a[ac]&&"[0]"===a[G][Vb](-3)){if(c==e.FLOAT)return function(a){e.uniform1fv(b,a)};if(c==e.FLOAT_VEC2)return function(a){e.uniform2fv(b,a)};if(c==e.FLOAT_VEC3)return function(a){e.uniform3fv(b,a)};if(c==e.FLOAT_VEC4)return function(a){e.uniform4fv(b,
a)};if(c==e.INT)return function(a){e.uniform1iv(b,a)};if(c==e.INT_VEC2)return function(a){e[xd](b,a)};if(c==e.INT_VEC3)return function(a){e[kd](b,a)};if(c==e.INT_VEC4)return function(a){e[Uc](b,a)};if(c==e.BOOL)return function(a){e.uniform1iv(b,a)};if(c==e.BOOL_VEC2)return function(a){e[xd](b,a)};if(c==e.BOOL_VEC3)return function(a){e[kd](b,a)};if(c==e.BOOL_VEC4)return function(a){e[Uc](b,a)};if(c==e.FLOAT_MAT2)return function(a){e.uniformMatrix2fv(b,!1,a)};if(c==e.FLOAT_MAT3)return function(a){e.uniformMatrix3fv(b,
!1,a)};if(c==e.FLOAT_MAT4)return function(a){e.uniformMatrix4fv(b,!1,a)};if(c==e.SAMPLER_2D||c==e.SAMPLER_CUBE){for(var c=[],d=0;d<a[ac];++d)c[B](I++);return function(a){return function(c){e.uniform1iv(b,a);jl(c,a)}}(c)}}else{if(c==e.FLOAT)return function(a){e.uniform1f(b,a)};if(c==e.FLOAT_VEC2)return function(a){e.uniform2fv(b,a)};if(c==e.FLOAT_VEC3)return function(a){e.uniform3fv(b,a)};if(c==e.FLOAT_VEC4)return function(a){e.uniform4fv(b,a)};if(c==e.INT)return function(a){e.uniform1i(b,a)};if(c==
e.INT_VEC2)return function(a){e[xd](b,a)};if(c==e.INT_VEC3)return function(a){e[kd](b,a)};if(c==e.INT_VEC4)return function(a){e[Uc](b,a)};if(c==e.BOOL)return function(a){e.uniform1i(b,a)};if(c==e.BOOL_VEC2)return function(a){e[xd](b,a)};if(c==e.BOOL_VEC3)return function(a){e[kd](b,a)};if(c==e.BOOL_VEC4)return function(a){e[Uc](b,a)};if(c==e.FLOAT_MAT2)return function(a){e.uniformMatrix2fv(b,!1,a)};if(c==e.FLOAT_MAT3)return function(a){e.uniformMatrix3fv(b,!1,a)};if(c==e.FLOAT_MAT4)return function(a){e.uniformMatrix4fv(b,
!1,a)};if(c==e.SAMPLER_2D||c==e.SAMPLER_CUBE)return function(a){return function(c){e.uniform1i(b,a);jl(c,a)}}(I++)}throw"unknown type: 0x"+c[Wb](16);}var e=gl,f=function(a,b,c){c=a.createShader(c);if(null==c)throw'*** Error: unable to create shader "'+b+'"';a.shaderSource(c,b);a.compileShader(c);if(!a.getShaderParameter(c,a.COMPILE_STATUS))throw b=a.getShaderInfoLog(c),a.deleteShader(c),"*** Error compiling shader :"+b;return c},h=function(a,b,c){var d,e,h;try{if(d=f(a,b,a.VERTEX_SHADER),e=f(a,c,
a.FRAGMENT_SHADER),h=a.createProgram(),a.attachShader(h,d),a.attachShader(h,e),b=h,a.linkProgram(b),!a.getProgramParameter(b,a.LINK_STATUS))throw"*** Error in program linking:"+a.getProgramInfoLog(b);}catch(k){throw d&&a.deleteShader(d),e&&a.deleteShader(e),h&&a.deleteProgram(h),k;}return h}(e,a,b);if(!h)throw"Could not compile program";for(var k={},n=la(e.getProgramParameter(h,e.ACTIVE_ATTRIBUTES),10),q=0;q<n;++q){var s=e.getActiveAttrib(h,q),u=s[G];"[0]"===u[Vb](-3)&&(u=u[Vb](0,u[H]-3));k[u]=c(s,
e.getAttribLocation(h,s[G]))}for(var n=la(e.getProgramParameter(h,e.ACTIVE_UNIFORMS),10),C={},I=0,ba={},q=0;q<n;++q){s=e.getActiveUniform(h,q);u=s[G];"[0]"===u[Vb](-3)&&(u=u[Vb](0,u[H]-3));var ua=d(s);C[u]=ua;if(s[cd]==e.SAMPLER_2D||s[cd]==e.SAMPLER_CUBE)ba[u]=ua}this.jc=h;this.Xj=ba;this.ak=k;this.pk=C};var ml=function(a,b){this.Ya=gl.createTexture();this.nk={};if(a)this.cf=a,this.Yg=!0;else{var c=this;this.cf=ha[Eb]("IMG");this.cf.onload=function(){c.Yg=!0;ll(c)}}ll(this);this.Yg||(this.cf.src=b)};ml[J].Ze=function(){this.Ya&&(gl.deleteTexture(this.Ya),delete this.Ya)};ml[J].setParameter=function(a,b){var c=gl;this.nk[a]=b;c[Tb](c[Lb],this.Ya);c.texParameteri(c[Lb],a,b)};
var jl=function(a,b){var c=gl;c.activeTexture(c.TEXTURE0+b);c[Tb](c[Lb],a.Ya)},nl=function(a){return 0==(a&a-1)},ll=function(a){var b=gl;b[Tb](b[Lb],a.Ya);b.texParameteri(b[Lb],b.TEXTURE_MAG_FILTER,b.LINEAR);if(a.Yg){b.pixelStorei(b.UNPACK_FLIP_Y_WEBGL,1);var b=a.cf,c=gl;a.setParameter(c.TEXTURE_WRAP_S,c.CLAMP_TO_EDGE);a.setParameter(c.TEXTURE_WRAP_T,c.CLAMP_TO_EDGE);c[Tb](c[Lb],a.Ya);c.texImage2D(c[Lb],0,c[rc],c[rc],c.UNSIGNED_BYTE,b);nl(b[w])&&nl(b[A])?(c.texParameteri(c[Lb],c.TEXTURE_MIN_FILTER,
c.LINEAR_MIPMAP_LINEAR),c.generateMipmap(c[Lb])):a.setParameter(c.TEXTURE_MIN_FILTER,c.LINEAR)}else a=new Uint8Array([0,0,0,0]),b.texImage2D(b[Lb],0,b[rc],1,1,0,b[rc],b.UNSIGNED_BYTE,a)};var ol=function(a,b,c){var d=gl;this.Tc={};var e=0,f;for(f in a.Xj)a[hc](f)&&e++;this.ck=void 0===c?d.TRIANGLES:c;this.gk=b;this.jc=a},pl=function(a,b,c){var d=gl,d="indices"==b?d.ELEMENT_ARRAY_BUFFER:d[Cd],e=a.Tc[b];e?e.set(c):e=new il(c,d);a.Tc[b]=e},rl=function(a,b){var c=gl,d=a.jc,e=a.Tc,f=a.gk;c.useProgram(d.jc);for(var h in e)if(e[hc](h)){var k=e[h];if("indices"==h)c.bindBuffer(c.ELEMENT_ARRAY_BUFFER,k[ec]());else{var n=d.ak[h];n&&n(k)}}ql(a,f);b&&ql(a,b)};
hb(ol[J],function(a){var b=gl;a&&ql(this,a);a=this.Tc.indices;b.drawElements(this.ck,a.Rg*a.Sg,b.UNSIGNED_SHORT,0)});var ql=function(a,b){if(b)for(var c in b)if(b[hc](c)){var d=a.jc.pk[c];d&&d(b[c])}};var sl=function(a,b,c,d,e){this.lh=d;this.Y=e;this.Jj=[b,c];this.Kj=[b/a[w],c/a[A]];this.ug=R();this.Ya=new ml(a,null);sl.xe&&(this.Fd=new ol(sl.xe,{texture:this.Ya}),this.Fd.Tc.displacement=sl.gg,this.Fd.Tc.indices=sl.hg)};sl[J].Ze=function(){this.Ya.Ze();delete this.Ya;delete this.Fd};fb(sl[J],function(a){this.Y=a});
hb(sl[J],function(a,b,c){var d={};d.MVP=a;qa(d,[this.Y.x,this.Y.y]);d.labelSize=this.Jj;d.viewSize=[b,c];d.maxTexCoord=this.Kj;d.time=0.001*(R()-this.ug);d.maxAlpha=this.lh;d.snapToPixel=1;rl(this.Fd,d);this.Fd[zd]()});
var tl=function(a){this.t=hh("CANVAS");this.pa=new Kh;this.$=a;a=gl;if(!sl.gg){var b=new bl(2,4);b[B]([-0.5,0.5]);b[B]([-0.5,-0.5]);b[B]([0.5,0.5]);b[B]([0.5,-0.5]);sl.gg=new il(b,a[Cd])}sl.hg||(b=new bl(3,2,Uint16Array),b[B]([0,1,2]),b[B]([2,1,3]),sl.hg=new il(b,a.ELEMENT_ARRAY_BUFFER));sl.xe||(a=new kl("const float fadeDelay = 0.2;\nconst float fadeDuration = 0.5;\nuniform mat4 MVP;\nuniform vec2 center;\nuniform vec2 labelSize;\nuniform vec2 viewSize;\nuniform vec2 maxTexCoord;\nuniform float time;\nuniform int snapToPixel;\nuniform float maxAlpha;\nattribute vec2 displacement;\nvarying vec2 vTexCoord;\nvarying vec4 vBaseColor;\nvoid main() {\n  vTexCoord = (displacement + vec2(0.5, 0.5)) * maxTexCoord + \n              vec2(0, 1.0 - maxTexCoord.y);\n  float fade = clamp((time - fadeDelay) / fadeDuration, 0.0, 1.0);\n  vBaseColor = vec4(1, 1, 1, fade * maxAlpha);\n  vec4 centerProj = MVP * vec4(center, 0, 1);\n  vec2 centerPixel = (centerProj.xy / centerProj.w) * (viewSize * 0.5);\n  vec2 position = centerPixel + displacement * labelSize;\n  if (snapToPixel != 0) {\n    position = floor(position) + fract(viewSize / 2.0);\n  }\n  gl_Position = vec4(position / (viewSize * 0.5), 0, 1.0);\n}",
"precision mediump float;\nuniform sampler2D texture;\nvarying vec2 vTexCoord;\nvarying vec4 vBaseColor;\nvoid main() {\n  vec4 texColor = texture2D(texture, vTexCoord);\n  gl_FragColor = vBaseColor * texColor;\n}"),a.jc||fa("Label program compile error!"),sl.xe=a)};T(tl,Hf);tl[J].e=function(){delete sl.gg;delete sl.hg;delete sl.xe;delete this.pa;delete this.t;tl.J.e[L](this)};
tl[J].uf=function(a){for(var b={},c=0;c<a[H];c++)b[a[c]]=!0;a=this.pa.La();for(c=0;c<a[H];c++){var d=a[c];b[d]||(this.pa.get(d).Ze(),this.pa[Db](d))}};tl[J].tf=function(a){var b=this.t,c=Tk(b,a,!0,this.$);return new sl(b,c[w],c[A],a[rd],a.getPosition())};var ul=function(){};T(ul,Hf);ul[J].e=function(){If(this.Db);nh(this.t);delete this.t;ul.J.e[L](this)};
ul[J].Gf=function(a,b){var c=hh("CANVAS");a[wb](c,a[Ob][0]||null);this.t=c;c=this.t[bd]("2d");if(!c)return!1;this.ab=c;this.$=Xk(c);this.ph=new Float32Array(16);this.oh=new Float32Array(16);this.ce=new Float32Array(16);this.wf=new Float32Array([0,0,-5]);this.xf=new Float32Array([0,0,0]);this.Zi=new Float32Array([0,1,0]);this.Ra=new Jk(500);this.ia=b;c=hl(this.t);if(!c)return!1;c.disable(c.DITHER);c.disable(c.DEPTH_TEST);c.enable(c.BLEND);var d=new kl("uniform mat4 MVP;\nuniform float scale;\nuniform highp float highlightedNodeId;\nuniform float minLevel;\nattribute vec2 pos;\nattribute highp vec3 properties;\nattribute float selected;\nattribute vec4 color;\nattribute vec2 displacement;\nvarying vec2 vTexCoord;\nvarying vec4 vColor;\nvarying float vFade;\nvoid main() {\n  float radius = properties[0];\n  float level = properties[1];\n  highp float nodeId = properties[2];\n  vTexCoord = (displacement + vec2(1, 1)) * 0.5;\n  vColor = color;\n  vFade = clamp(pow(0.75, level - minLevel), 0.2, 1.0); \n  if (nodeId == highlightedNodeId || selected > 0.0) {\n    vColor = vec4(vColor.rgb * 0.65, vColor.a);\n  }\n  vec2 vertex = pos + displacement * scale * radius;\n  gl_Position = MVP * vec4(vertex, 0, 1);\n}",
"precision mediump float;\nuniform sampler2D iconTex;\nvarying vec2 vTexCoord;\nvarying vec4 vColor;\nvarying float vFade;\nvoid main() {\n  vec4 color = texture2D(iconTex, vTexCoord) * vColor;\n  gl_FragColor = vec4(mix(vec3(1,1,1), color.rgb, vFade), color.a);\n}");if(d.jc){var e=Pk(this.ia);if(e[Jc])e=new ml(null,e[Jc]);else{e=hh("CANVAS");r(e,128);t(e,128);var f=e[bd]("2d");ya(f,"rgb(255,255,255)");f.strokeStyle="rgb(150,150,150)";f.lineWidth=12;f.clearRect(0,0,e[w],e[A]);f[Yc]();f.arc(e[w]/2,
e[A]/2,0.4*e[w],0,2*l.PI);f[Ec]();f.fill();f.stroke();e=new ml(e,null)}this.Ub=new ol(d,{iconTex:e})}else fa("Node program compile error!");d=new kl("uniform mat4 MVP;\nuniform float scale;\nuniform float minLevel;\nattribute vec4 pos;\nattribute vec4 color;\nattribute vec2 displacement;\nattribute vec2 properties;\nvarying vec4 vColor;\nvoid main() {\n  float radius = properties[0];\n  float level = properties[1];\n  float fade = clamp(pow(0.75, level - minLevel), 0.2, 1.0); \n  vec2 start = pos.xy;\n  vec2 end = pos.zw;\n  vec2 dir = end - start;\n  vec2 normal = normalize(vec2(-dir.y, dir.x));\n  vec2 vertex = start + dir * displacement.x +\n     normal * (displacement.y * radius * scale);\n  gl_Position = MVP * vec4(vertex, 0, 1);\n  vColor = vec4(mix(vec3(1,1,1), color.rgb, fade), color.a);\n}",
"precision mediump float;\nvarying vec4 vColor;\nvoid main() {\n  gl_FragColor = vColor;\n}");d.jc?this.yc=new ol(d,{},c.TRIANGLES):fa("Edge program compile error!");this.Db=new tl(this.$);return!0};
ul[J].sf=function(a,b,c,d,e){var f=gl;if(b){for(var h=a.m(),k=a.Za(),n=new bl(2,4*h),q=0;q<h;q++)n[B]([-1,1]),n[B]([-1,-1]),n[B]([1,1]),n[B]([1,-1]);pl(this.Ub,"displacement",n);for(var s=new bl(3,4*h),u=new bl(4,4*h),q=0;q<h;q++)for(var C=a.r(q),I=Pk(this.ia,C),ba=I[Rc].dd(),ua=I[ud](C[Wc]),pa=0;4>pa;pa++)s[B]([ua,C.C,C.id]),u[B](ba);pl(this.Ub,"properties",s);pl(this.Ub,"color",u);for(var va=new bl(3,2*h,Uint16Array),da=0,q=0;q<h;q++)va[B]([da,da+1,da+2]),va[B]([da+2,da+1,da+3]),da+=4;pl(this.Ub,
"indices",va);for(var Rb=new bl(2,4*k),fd=new bl(4,4*k),Sb=new bl(2,4*k),q=0;q<k;q++){Rb[B]([0,1]);Rb[B]([0,-1]);Rb[B]([1,1]);Rb[B]([1,-1]);for(var Dc=a.pb(q),I=Qk(this.ia,Dc),ba=I[Rc].dd(),pa=0;4>pa;pa++)fd[B](ba);ua=I[ud](Dc[Wc]);Sb[B]([ua,Dc.k.C]);Sb[B]([ua,Dc.k.C]);Sb[B]([ua,Dc.l.C]);Sb[B]([ua,Dc.l.C])}pl(this.yc,"displacement",Rb);pl(this.yc,"color",fd);pl(this.yc,"properties",Sb);for(var ek=new bl(3,2*k,Uint16Array),q=da=0;q<k;q++)ek[B]([da,da+1,da+2]),ek[B]([da+2,da+1,da+3]),da+=4;pl(this.yc,
"indices",ek);for(var Wh=a[Xb]().Vd,Ud=0;Ud<a.m();Ud++)Wh=l.min(Wh,a.r(Ud).C);Wh!=this.Ra.vc&&Kk(this.Ra,Wh)}var fk=a.m(),Qf=this.bj;Qf&&Qf.xc==fk||(this.bj=Qf=new bl(1,4*fk));for(var nm=Qf[ec],om=0,gk=0;gk<fk;gk++)for(var Ro=a.r(gk).Yd(),pm=0;4>pm;pm++)Ro?nm[om++]=1:nm[om++]=0;pl(this.Ub,"selected",Qf);var hk=a.m(),ik=a.Za(),Rf=this.aj;Rf&&Rf.xc==4*hk||(this.aj=Rf=new bl(2,4*hk));var Sf=this.$i;Sf&&Sf.xc==4*ik||(this.$i=Sf=new bl(4,4*ik));for(var qm=Rf[ec],Vd=0,Wd=0;Wd<hk;Wd++)for(var rm=a.r(Wd),
So=rm.b[y].x,To=rm.b[y].y,Tf=0;4>Tf;Tf++)qm[Vd++]=So,qm[Vd++]=To;for(var Xh=Sf[ec],Wd=Vd=0;Wd<ik;Wd++)for(var Yh=a.pb(Wd),Uo=Yh.k.b[y].x,Vo=Yh.k.b[y].y,Wo=Yh.l.b[y].x,Xo=Yh.l.b[y].y,Tf=0;4>Tf;Tf++)Xh[Vd++]=Uo,Xh[Vd++]=Vo,Xh[Vd++]=Wo,Xh[Vd++]=Xo;pl(this.Ub,"pos",Rf);pl(this.yc,"pos",Sf);this.Ra.update();var Ie=d.Ja[w],Je=d.Ja[A];if(this.t[od]!=Ie||this.t[Bd]!=Je)r(this.t,Ie*this.$),t(this.t,Je*this.$),r(this.t[z],Ie+"px"),t(this.t[z],Je+"px"),this.ab[uc](this.$,this.$);this.wf[0]=this.xf[0]=d[Lc]().x;
this.wf[1]=this.xf[1]=d[Lc]().y;var Zh=d.Q,$h=Ie*Zh*0.5,ai=-Je*Zh*0.5,Qa=this.ph,jk=-$h,kk=-ai;Qa[0]=2/(jk-$h);Qa[1]=0;Qa[2]=0;Qa[3]=0;Qa[4]=0;Qa[5]=2/(kk-ai);Qa[6]=0;Qa[7]=0;Qa[8]=0;Qa[9]=0;Qa[10]=-1/9;Qa[11]=0;Qa[12]=(jk+$h)/($h-jk);Qa[13]=(kk+ai)/(ai-kk);Qa[14]=-1/-9;Qa[15]=1;var Ra=this.oh,Ke=this.wf,lk=this.xf,Yo=this.Zi,ic=new Float32Array(3),Xd=new Float32Array(3),Uf=new Float32Array(3);ic[0]=Ke[0]-lk[0];ic[1]=Ke[1]-lk[1];ic[2]=Ke[2]-lk[2];el(ic);cl(Xd,Yo,ic);el(Xd);cl(Uf,ic,Xd);Ra[0]=Xd[0];
Ra[1]=Uf[0];Ra[2]=ic[0];Ra[3]=0;Ra[4]=Xd[1];Ra[5]=Uf[1];Ra[6]=ic[1];Ra[7]=0;Ra[8]=Xd[2];Ra[9]=Uf[2];Ra[10]=ic[2];Ra[11]=0;Ra[12]=-dl(Xd,Ke);Ra[13]=-dl(Uf,Ke);Ra[14]=-dl(ic,Ke);Ra[15]=1;var Sa=this.ce,Ta=this.oh,Ua=this.ph,bi=Ta[0],ci=Ta[1],di=Ta[2],ei=Ta[3],fi=Ta[4],gi=Ta[5],hi=Ta[6],ii=Ta[7],ji=Ta[8],ki=Ta[9],li=Ta[10],mi=Ta[11],ni=Ta[12],oi=Ta[13],pi=Ta[14],qi=Ta[15],ri=Ua[0],si=Ua[1],ti=Ua[2],ui=Ua[3],vi=Ua[4],wi=Ua[5],xi=Ua[6],yi=Ua[7],zi=Ua[8],Ai=Ua[9],Bi=Ua[10],Ci=Ua[11],Di=Ua[12],Ei=Ua[13],
Fi=Ua[14],Gi=Ua[15];Sa[0]=bi*ri+ci*vi+di*zi+ei*Di;Sa[1]=bi*si+ci*wi+di*Ai+ei*Ei;Sa[2]=bi*ti+ci*xi+di*Bi+ei*Fi;Sa[3]=bi*ui+ci*yi+di*Ci+ei*Gi;Sa[4]=fi*ri+gi*vi+hi*zi+ii*Di;Sa[5]=fi*si+gi*wi+hi*Ai+ii*Ei;Sa[6]=fi*ti+gi*xi+hi*Bi+ii*Fi;Sa[7]=fi*ui+gi*yi+hi*Ci+ii*Gi;Sa[8]=ji*ri+ki*vi+li*zi+mi*Di;Sa[9]=ji*si+ki*wi+li*Ai+mi*Ei;Sa[10]=ji*ti+ki*xi+li*Bi+mi*Fi;Sa[11]=ji*ui+ki*yi+li*Ci+mi*Gi;Sa[12]=ni*ri+oi*vi+pi*zi+qi*Di;Sa[13]=ni*si+oi*wi+pi*Ai+qi*Ei;Sa[14]=ni*ti+oi*xi+pi*Bi+qi*Fi;Sa[15]=ni*ui+oi*yi+pi*Ci+qi*
Gi;var Hi=Ok(this.ia)[Sc];f.viewport(0,0,Ie,Je);f.clearColor(Hi.Fa,Hi.Ea,Hi.Da,Hi.Ba);f[Nb](f.COLOR_BUFFER_BIT);f.blendFunc(f.SRC_ALPHA,f.ONE_MINUS_SRC_ALPHA);var sm=this.yc,Ii={};Ii.MVP=this.ce;Fa(Ii,Zh);Ii.minLevel=this.Ra[ed]();rl(sm,Ii);sm[zd]();var tm=this.Ub,Vf={};Vf.MVP=this.ce;Vf.highlightedNodeId=e?e.id:-1;Fa(Vf,Zh);Vf.minLevel=this.Ra[ed]();rl(tm,Vf);tm[zd]();for(Ud=0;Ud<c[H];Ud++){var mk=this.Db,Wf=c[Ud],Le=mk.pa.get(Wf);Le||(Le=mk.tf(Wf),mk.pa.set(Wf,Le));Le[nd](Wf.getPosition());Le.lh=
Wf[rd];Le[zd](this.ce,Ie,Je)}this.Db.uf(c)};ul[J].Eb=function(){return"Renderer: WebGL<br>Labels: "+this.Db.pa.L()};var vl=function(a){this.j=a;this.tb=!1;this.mb=new W(0,0);this.Pb=new W(0,0);this.I=new W(0,0);this.qd=this.sa=0};M=vl[J];M.Zb=function(a){this.mb.x=this.Pb.x=a[Bc];this.mb.y=this.Pb.y=a[Cc];this.rb=this.uc=R();this.sa=this.I.x=this.I.y=0;this.tb=!0};M.Wb=function(a){if(this.tb){var b=R();this.Pb.x=this.mb.x;this.Pb.y=this.mb.y;this.uc=this.rb;this.mb.x=a[Bc];this.mb.y=a[Cc];this.rb=b;this.move(-(this.mb.x-this.Pb.x),this.mb.y-this.Pb.y);return!0}return!1};
M.move=function(a,b){var c=this.j.Q,d=this.j;d[nd](d.Y.x+a*c,d.Y.y+b*c)};M.cb=function(){if(this.tb&&(this.tb=!1,!(0.1<(R()-this.rb)/1E3))){var a=(this.rb-this.uc)/1E3;if(!(0>=a||0.1<a)){var b=this.j.Q,c=(this.mb.y-this.Pb.y)*b;this.I.x=-((this.mb.x-this.Pb.x)*b)/a;this.I.y=c/a}}};M.Yb=function(a){this.cb(a)};M.Df=function(a){wl(this,new W(a[Bc],a[Cc]),0.75)};M.Ff=function(a){var b=R()-this.qd;0<=b&&30>b||(this.qd=R(),b=new W(a[Bc],a[Cc]),0<a.rk?wl(this,b,-0.25):wl(this,b,0.25))};
var wl=function(a,b,c){var d=Ik(a.j,b),e=1-l.pow(2,-c);b=(d.x-a.j[Lc]().x)*e;d=(d.y-a.j[Lc]().y)*e;a.I.x+=10*b;a.I.y+=10*d;xl(a,c)},xl=function(a,b){a.sa+=10*b;a.rb=R()};var yl=function(a,b,c){Ri[L](this,a,b);this.Sa=l.max(0.25,c);this.th=1/this.Sa;this.Ta=new W(0,0);this.X=new W(0,0)};T(yl,Ri);yl[J].Lh=function(){return 3>=ph(this.Ta)};var Al=function(a,b,c,d){this.Ej=a;this.Dj=b*b;this.Fj=c*c;this.va=new zl(d.O,d.R,d.Z,d.ja);this.vg=0},zl=function(a,b,c,d){this.O=a;this.R=b;this.Z=c;this.ja=d;a=l.max(c-a,d-b);this.Cj=a*a;this.zd=null;this.Qc=this.xg=this.wg=0;this.children=this.He=null};Ga(zl[J],function(a){var b=a[y].x;a=a[y].y;return b>=this.O&&b<=this.Z&&a>=this.R&&a<=this.ja});La(zl[J],function(){return!this.zd&&0==this.Qc});
var Bl=function(a,b){a.wg+=b.Sa*b[y].x;a.xg+=b.Sa*b[y].y;a.Qc+=b.Sa;a.He=null},Cl=function(a){a.He||(a.He={x:a.wg/a.Qc,y:a.xg/a.Qc,Sa:a.Qc});return a.He},Dl=function(a){var b=1;if(a[Zc])for(var c=0;4>c;c++)b+=Dl(a[Zc][c]);return b};Ha(Al[J],function(){this.va=new zl(this.va.O,this.va.R,this.va.Z,this.va.ja);this.rg=this.vg=0});Al[J].Bb=function(a){this.va[xc](a)&&(this.vg++,El(this,this.va,a,0))};
var El=function(a,b,c,d){if(b[Gc]())Bl(b,c),b.zd=c;else if(Bl(b,c),10!=d){if(!b[Zc]){var e=0.5*(b.O+b.Z),f=0.5*(b.R+b.ja);b.children=[new zl(b.O,b.R,e,f),new zl(e,b.R,b.Z,f),new zl(b.O,f,e,b.ja),new zl(e,f,b.Z,b.ja)];for(e=0;4>e;e++)if(b[Zc][e][xc](b.zd)){El(a,b[Zc][e],b.zd,d+1);break}}for(e=0;4>e;e++)if(b[Zc][e][xc](c)){El(a,b[Zc][e],c,d+1);break}}},Fl=function(a,b,c){var d=Cl(b),e=c[y].x-d.x,f=c[y].y-d.y,h=e*e+f*f;if(!b[Zc]||b.Cj/h<a.Fj)b.zd!=c&&(1E-5>h&&(b=2*l[oc]()*l.PI,e=l.cos(b),f=l.sin(b),
h=1),b=a.Ej*d.Sa*c.Sa/l.max(h,a.Dj)/l[$c](h),c.X.x+=b*e,c.X.y+=b*f,a.rg++);else for(e=0;4>e;e++)b[Zc][e][Gc]()||Fl(a,b[Zc][e],c)};Al[J].Eb=function(){var a=this.vg,b=Dl(this.va),c=0;1<a&&(c=(this.rg/(a*(a-1))*100)[ob](1));return"Mass: "+Cl(this.va).Sa[ob](2)+"<br>Cells: "+b+"<br>Int: "+this.rg+" ("+c+"%)"};var Gl=function(a,b){if(a instanceof Gl)this.ha=a.dd();else{var c;if(c=Rd(a))t:{for(var d=c=0;d<a[H];d++){if(!Rd(a[d])||0<c&&a[d][H]!=c){c=!1;break t}for(var e=0;e<a[d][H];e++)if(!Yd(a[d][e])){c=!1;break t}0==c&&(c=a[d][H])}c=0!=c}if(c)this.ha=Ue(a);else if(a instanceof Vg)this.ha=Hl(a[A],a[w]);else if(Yd(a)&&Yd(b)&&0<a&&0<b)this.ha=Hl(a,b);else throw m("Invalid argument(s) for Matrix contructor");}this.F=new Vg(this.ha[0][H],this.ha[H])},Il=function(a,b,c){for(var d=0;d<a.ob()[A];d++)for(var e=0;e<
a.ob()[w];e++)b[L](c,a.ha[d][e],d,e,a)},Jl=function(a,b){var c=new Gl(a.ob());Il(a,function(d,e,f){c.ha[e][f]=b[L](void 0,d,e,f,a)});return c},Hl=function(a,b){for(var c=[],d=0;d<a;d++){c[d]=[];for(var e=0;e<b;e++)c[d][e]=0}return c};Gl[J].add=function(a){if(!Wg(this.F,a.ob()))throw m("Matrix summation is only supported on arrays of equal size");return Jl(this,function(b,c,d){return b+a.ha[c][d]})};
var Kl=function(a,b){if(a.F[A]!=b.ob()[A])throw m("The given matrix has height "+b.F[A]+", but  needs to have height "+a.F[A]+".");var c=new Gl(a.F[A],a.F[w]+b.F[w]);Il(a,function(a,b,f){c.ha[b][f]=a});Il(b,function(a,b,f){c.ha[b][this.F[w]+f]=a},a);return c};Xa(Gl[J],function(a,b){if(this.F[w]!=a.F[w]||this.F[A]!=a.F[A])return!1;for(var c=b||0,d=0;d<this.F[A];d++)for(var e=0;e<this.F[w];e++)if(!(l.abs(this.ha[d][e]-a.ha[d][e])<=(c||1E-6)))return!1;return!0});Gl[J].ob=function(){return this.F};
var Ll=function(a){var b=new Gl(a.F[w],a.F[A]);Il(a,function(a,d,e){b.ha[e][d]=a});return b},Ml=function(a,b,c){return 0<=b&&b<a.F[A]&&0<=c&&c<a.F[w]?a.ha[b][c]:null},Nl=function(a,b,c,d){if(!(0<=b&&b<a.F[A]&&0<=c&&c<a.F[w]))throw m("Index out of bounds when setting matrix value, ("+b+","+c+") in size ("+a.F[A]+","+a.F[w]+")");a.ha[b][c]=d};
Gl[J].multiply=function(a){if(a instanceof Gl){if(this.F[w]!=a.ob()[A])throw m("Invalid matrices for multiplication. Second matrix should have the same number of rows as the first has columns.");return Ol(this,a)}if(Yd(a))return Pl(this,a);throw m("A matrix can only be multiplied by a number or another matrix.");};Gl[J].Gi=function(a){if(!Wg(this.F,a.ob()))throw m("Matrix subtraction is only supported on arrays of equal size.");return Jl(this,function(b,c,d){return b-a.ha[c][d]})};Gl[J].dd=function(){return this.ha};
za(Gl[J],function(){var a=0;Il(this,function(b){b=p(b)[H];b>a&&(a=b)});var b=[];Fe(this.ha,function(c){b[B]("[ ");Fe(c,function(c){c=p(c);b[B](ja(a-c[H]+1)[Id](" ")+c+" ")});b[B]("]\n")});return b[Id]("")});var Ol=function(a,b){var c=new Gl(a.F[A],b.ob()[w]);Il(c,function(a,e,f){for(var h=a=0;h<this.F[w];h++)a+=Ml(this,e,h)*Ml(b,h,f);Nl(c,e,f,a)},a);return c},Pl=function(a,b){return Jl(a,function(a){return a*b})};var Rl=function(a){for(var b=a[H],c=a[0][H],d=0;d<c;d++){for(var e=0,f=0;f<b;f++)e+=a[f][d];e/=b;for(f=0;f<b;f++)a[f][d]-=e}a=new Gl(a);d=Ll(a)[pc](a);a=[];for(b=d.ob()[w];2>a[H];){e=new Gl(b,1);for(c=0;c<b;c++)Nl(e,c,0,l[oc]());for(c=0;30>c;c++){e=d[pc](e);for(f=0;f<a[H];f++)var h=a[f],e=e.Gi(h[pc](Ql(e,h)));(f=l[$c](Ql(e,e)))&&(e=e[pc](1/f))}a[B](e)}this.Gg=a[0];for(d=1;d<a[H];d++)this.Gg=Kl(this.Gg,a[d])},Ql=function(a,b){return Ml(Ll(a)[pc](b),0,0)||0};var Sl=function(a){this.Ge=!1;this.Xh="";this.ka=Ek(new W(0,0),a[w],a[A]);this.fk=25};S("amoeba.HighDimLayout",Sl);Sl[J].nd=function(){this.Ge=!1};Sl[J].If=function(a){this.ka=Ek(new W(0,0),a[w],a[A]);this.Ge=!1};
Sl[J].mf=function(a){if(!a.rc()&&this.Ge||0==a.m())return!1;for(var b=R(),c=[],d={},e=a.m(),f=0;f<e;f++){var h=a.r(f);if(!d[h.id]){var h=Tl(h),k=[],n;for(n in h)h[hc](n)&&(k[B](a.n(n-0)),d[n]=!0);c[B](k)}}d=[];for(e=0;e<c[H];e++)d[B](Ul(this,c[e]));a=R();for(e=0;e<c[H];e++)this.Vb(c[e],d[e]);Vl(this,c);c=R();this.Xh="Embed time: "+(a-b)+"<br>PCA time: "+(c-a)+"<br>Total: "+(c-b);return this.Ge=!0};
var Ul=function(a,b){for(var c=b[H],d=l.min(c,a.fk),e=[],f=[],h=0;h<d;h++){var k=l[rb](c*l[oc]()),n=k;if(0<h)for(var q=1;q<c;q++){var s=(k+q)%c;e[s]>e[n]&&(n=s)}for(var u=Tl(b[n]),n=k,q=0;q<c;q++)s=(k+q)%c,u[b[s].id]>u[n]&&(n=s);k=Tl(b[n]);for(q=0;q<c;q++){var n=u[b[q].id],s=k[b[q].id],C=n*n-s*s;0==h&&(f[q]=[]);f[q][B](C);if(void 0===e[q]||e[q]>n)e[q]=n;if(void 0===e[q]||e[q]>s)e[q]=s}}return f};
Sl[J].Vb=function(a,b){for(var c=a[H],d=new Rl(b),e=0;e<c;e++){var f;f=d;f=(new Gl([b[e]]))[pc](f.Gg).dd()[0];a[e].b=new Ri(f[0],f[1])}};
var Vl=function(a,b){for(var c=b[H],d=a.ka[w](),e=a.ka[A](),f=[],h=0,k=0;k<c;k++)f[B]({ok:b[k],size:b[k][H]}),h+=b[k][H];f[Dd](function(a,b){return b[ac]-a[ac]});Wl(a,h,f,0,c,-d/2,-e/2,d,e);for(k=0;k<f[H];k++)Xl(f[k].ok,f[k].x,f[k].y,f[k].mk,f[k].kk)},Wl=function(a,b,c,d,e,f,h,k,n){if(1>=e-d)a=c[d],a.x=f,a.y=h,a.mk=k,a.kk=n;else{for(var q=0,s=d;s<e-1&&q<b/2;)q+=c[s][ac],s++;if(k>n){var u=q*k/b;Wl(a,q,c,d,s,f,h,u,n);Wl(a,b-q,c,s,e,f+u,h,k-u,n)}else u=q*n/b,Wl(a,q,c,d,s,f,h,k,u),Wl(a,b-q,c,s,e,f,h+
u,k,n-u)}},Xl=function(a,b,c,d,e){var f=a[H];if(f){for(var h=[],k=0;k<f;k++)h[B](a[k].b[y]);for(var k=th[yc](null,h),h=(k[F]+k[Fc])/2,n=(k.top+k[sc])/2,q=l.min(d/(k[Fc]-k[F]||1),e/(k[sc]-k.top||1)),k=0;k<f;k++){var s=a[k].b[y];s.x=b+d/2+(s.x-h)*q;s.y=c+e/2+(s.y-n)*q}}},Tl=function(a){var b={};b[a.id]=0;for(a=[a];a[H];)for(var c=a[lb](),d=1+b[c.id],e=0;e<c.o[H];e++){var f=dj(c.o[e],c);void 0===b[f.id]&&(b[f.id]=d,a[B](f))}return b};Sl[J].Eb=function(){return this.Xh};var $l=function(a){this.ka=Ek(new W(0,0),a[w],a[A]);Yl(this,new Zl);this.bb=100;this.yh=!1};S("amoeba.ForceDirectedLayout",$l);
var Zl=function(a){a||(a={});this.Jf=a.autoSpringLength;O(this.Jf)||(this.Jf=!1);this.ed=a.springLength;O(this.ed)||(this.ed=25);this.Af=a.springStrength;O(this.Af)||(this.Af=1);this.Ag=a.repulsionStrength;O(this.Ag)||(this.Ag=10);this.yf=a.boundaryStrength;O(this.yf)||(this.yf=1);this.ge=a.directionBiasX;O(this.ge)||(this.ge=0);this.he=a.directionBiasY;O(this.he)||(this.he=0);this.ie=a.directionForce;O(this.ie)||(this.ie=0.02);this.zf=a.friction;O(this.zf)||(this.zf=0.2);this.Bg=a.theta;O(this.Bg)||
(this.Bg=0.6);this.Kf=a.precomputeLayout;O(this.Kf)||(this.Kf=!0);this.Lf=a.precomputeTimeMillis;O(this.Lf)||(this.Lf=250)};$l[J].If=function(a){this.ka=Ek(new W(0,0),a[w],a[A]);Yl(this,this.ca)};$l[J].nd=function(a){Yl(this,new Zl(a))};var Yl=function(a,b){a.ca=b;a.qh=new Al(a.ca.Ag,4,a.ca.Bg,a.ka);a.bb=100};
$l[J].mf=function(a,b){if(this.ca.Kf&&!this.yh){var c;t:{for(c=0;c<a.m();c++)if(a.r(c).b){c=!0;break t}c=!1}if(c)am(this,a);else{(new Sl(new Vg(this.ka[w](),this.ka[A]()))).mf(a,b);if(this.ca.Jf){c=0;var d=a.Za();if(0<d){for(var e=0;e<d;e++){var f=a.pb(e),h=f.k.b[y].x-f.l.b[y].x,k=f.k.b[y].y-f.l.b[y].y;c+=l[$c](f[mb]*(h*h+k*k))}this.ca.ed=c/d*0.7}}am(this,a);c=R();for(d=0;R()-c<this.ca.Lf&&(bm(this,a),500!=++d||R()!=c););}this.yh=!0}a.rc()&&am(this,a);this.bb=b?1.15*this.bb:0.975*this.bb;this.bb=
Sg(this.bb,0.01,100);if(0.01>=this.bb)return!1;bm(this,a);return!0};
var bm=function(a,b){for(var c=b.m(),d=0;d<c;d++){var e=b.r(d).b,f=a.ka;e.$d||(e[y].add(e.Ta),e[y].x=Sg(e[y].x,f.O,f.Z),e[y].y=Sg(e[y].y,f.O,f.Z))}var f=a.qh,h=b.m(),d=b.Za();f[zc]();for(e=0;e<h;e++){var k=b.r(e);f.Bb(k.b)}for(var n=a.ca.yf*Cl(f.va).Sa,e=0;e<h;e++)if(k=b.r(e),k=k.b){var q=f,s=k;q.va[Gc]()||Fl(q,q.va,s);q=a;s=n;k.X.x+=cm(s,k.Sa,k[y].x,q.ka.O,q.ka.Z);k.X.y+=cm(s,k.Sa,k[y].y,q.ka.R,q.ka.ja)}for(e=0;e<d;e++){var u=a,f=b.pb(e),h=f.k.b,n=f.l.b,k=n[y].x-h[y].x-u.ca.ge,q=n[y].y-h[y].y-u.ca.he,
s=l[$c](k*k+q*q);if(0!=s){var C=void 0,I=void 0;u.ca.ge||u.ca.he?(C=k*u.ca.ie,I=q*u.ca.ie):(C=u.ca.ed/Sg(f.uh,0.2,10),C=l.min(2,(s-C)/u.ca.ed),0<C?(u=u.ca.Af*C,f.k.C!=f.l.C&&(u/=1<<l.abs(f.k.C-f.l.C)),C=u*k/s,I=u*q/s):I=C=0);h.X.x+=C;h.X.y+=I;n.X.x-=C;n.X.y-=I}}for(d=0;d<c;d++)e=b.r(d).b,h=a.ca.zf,f=a.bb,e.$d?(e.Ta.x=0,e.Ta.y=0):(e.Ta.x+=e.X.x*e.th,e.Ta.y+=e.X.y*e.th,e.Ta[uc](1-h),h=e.Ta,h=h.x*h.x+h.y*h.y,h>f*f&&e.Ta[uc](f/l[$c](h))),e.X.x=0,e.X.y=0},am=function(a,b){a.bb=100;for(var c=b.m(),d=0;d<
c;d++){var e=b.r(d);if(!(e.b instanceof yl))if(e.b){var f=e.b[y];e.b=new yl(f.x,f.y,e.ma)}else e.b=new yl(l[oc]()*a.ka[w]()+a.ka.O,l[oc]()*a.ka[A]()+a.ka.R,e.ma)}},cm=function(a,b,c,d,e){d=c-d+1;c=e-c+1;e=d*d;c*=c;return a*b*(c-e)/(e*c)};$l[J].Eb=function(){return this.qh.Eb()+"<br>MaxV: "+this.bb[ob](2)};var dm=function(){this.Wd=0;this.qf=[];for(var a=this.Xd=0;16>a;a++)this.qf[a]=0;this.uc=0};var em=function(a,b,c,d){this.Bc=a;this.Dc=b;this.Cc=c;this.Ec=d};Da(em[J],function(){return new em(this.Bc,this.Dc,this.Cc,this.Ec)});Xa(em[J],function(a){return this.Bc==a.Bc&&this.Dc==a.Dc&&this.Cc==a.Cc&&this.Ec==a.Ec});var fm=function(a,b){this.h=a;this.j=b;this.xa=null;this.$c=this.Sb=!1};M=fm[J];M.Ef=function(a){this.xa=new W(a[Bc],a[Cc]);gm(this)};M.Yb=function(a){this.cb(a);this.xa=null;gm(this)};M.Zb=function(a){this.xa=new W(a[Bc],a[Cc]);return null!=this.h.N?this.Sb=this.h.N.b.$d=!0:!1};M.cb=function(a){this.Sb=!1;this.xa=new W(a[Bc],a[Cc]);return null!=this.h.N?(this.h.N.b.$d=!1,!0):!1};
M.Wb=function(a){if(this.h.N&&this.Sb){var b=Ik(this.j,this.xa);this.xa.x=a[Bc];this.xa.y=a[Cc];this.h.N.b[y].add(rh(Ik(this.j,this.xa),b));return!0}this.xa.x=a[Bc];this.xa.y=a[Cc];gm(this);return!1};
var gm=function(a){if(!a.h.N||!a.Sb){var b=a.h.H();if(a.xa){var c=a.h,d;t:if(b){d=Ik(a.j,a.xa);for(var e=a.j.Q,f=1E10,h=null,k=b.m()-1;0<=k;k--){var n=b.r(k);if(n.b){var q,s=n.b[y];q=s.x-d.x;s=s.y-d.y;q=q*q+s*s;s=n[Wc]*e;if(q<=s*s){d=n;break t}q<f&&(f=q,h=n)}}d=h&&qh(h.b[y],d)<=(h[Wc]+4)*e?h:null}else d=null;hm(c,d)}else hm(a.h,null);if(a.$c&&a.xa&&!a.h.N){c=a.h;t:if(b){d=Ik(a.j,a.xa);a=a.j.Q;e=1E10;f=null;for(h=b.Za()-1;0<=h;h--)if(k=b.pb(h),k.k.b&&k.l.b){n=k.k.b[y];q=k.l.b[y];n=new em(n.x,n.y,q.x,
q.y);q=d;s=void 0;q instanceof Ug?(s=q.y,q=q.x):s=void 0;var u=n.Bc,C=n.Dc,I=n.Cc-n.Bc,ba=n.Ec-n.Dc;q=Sg(((q-u)*(n.Cc-u)+(s-C)*(n.Ec-C))/(I*I+ba*ba),0,1);s=k[Wc]*a;n=qh(new Ug(Tg(n.Bc,n.Cc,q),Tg(n.Dc,n.Ec,q)),d)-s;if(0>=n){b=k;break t}n<e&&(e=n,f=k)}b=f&&e<=8*a?f:null}else b=null;im(c,b)}else im(a.h,null)}};var jm=function(){this.fc=this.j=null;this.re=this.ci=this.tb=!1;var a=this.eb=kh("DIV"),b={position:"absolute","border-radius":"4px","background-color":"rgba(0, 0, 0, 0.2)"};P(b)?vh(a,void 0,b):Of(b,de(vh,a));this.Sc=new W(0,0);this.Ka=!1};S("amoeba.GraphNodeSelector",jm);jm[J].Jk=function(a){this.ci=a};jm[J].setLockSelection=jm[J].Jk;jm[J].uk=function(){this.re=!0};jm[J].activateAreaSelector=jm[J].uk;jm[J].xk=function(){this.re=!1};jm[J].deactivateAreaSelector=jm[J].xk;
jm[J].selectNodes=function(a,b){var c=!0;b&&(c=!1);Jh(a,function(a){a.pe=c});this.Ka=!0};jm[J].selectNodes=jm[J].selectNodes;jm[J].Bi=function(){if(this.fc){for(var a=this.fc.H(),b=a.m(),c=0;c<b;c++)a.r(c).pe=!1;this.Ka=!0}};jm[J].clearSelected=jm[J].Bi;jm[J].Bk=function(){var a=[];if(this.fc)for(var b=this.fc.H(),c=b.m(),d=0;d<c;d++){var e=b.r(d);e.Yd()&&a[B](e)}return a};jm[J].getSelectedNodes=jm[J].Bk;M=jm[J];M.Jb=function(a){this.fc=a};M.rc=function(){return this.Ka};M.rf=function(){this.Ka=!1};
M.Zb=function(a){this.ci||this.Bi();this.Sc.x=a[Bc];this.Sc.y=a[Cc];Bh(this.eb,0,0);yh(this.eb,this.Sc.x,this.Sc.y);this.tb=!0};M.Wb=function(a){if(this.tb){var b=this.Sc.x,c=this.Sc.y,d=a[Bc]-b,e=a[Cc]-c;0>d&&(b=a[Bc],d=-d);0>e&&(c=a[Cc],e=-e);yh(this.eb,b,c);Bh(this.eb,d,e);return!0}return!1};
M.cb=function(){if(this.tb&&(this.tb=!1,this.fc)){var a=this.fc.H(),b,c=this.eb;b=new Ug(c.offsetLeft,c.offsetTop);var d=Dh(this.eb),c=Ik(this.j,new W(b.x,b.y));b=Ik(this.j,new W(b.x+d[w],b.y+d[A]));for(var d=a.m(),e=0;e<d;e++){var f=a.r(e);if(f.b){var h=f.b[y],k=rh(c,h),h=rh(b,h);0>=k.x*h.x&&0>=k.y*h.y&&(this.Ka=f.pe=!0)}}}yh(this.eb,0,0);Bh(this.eb,0,0)};M.Yb=function(a){this.cb(a)};var km=function(){this.ae=this.be=this.yb=this.N=this.oa=null};T(km,Hf);km[J].e=function(){delete this.be;delete this.ae;km.J.e[L](this)};km[J].Jb=function(a){this.oa=a};km[J].H=function(){return this.oa?this.oa.H():null};var hm=function(a,b){if(b!=a.N){var c=a.N;a.N=b;a.be&&a.be(c,b)}},im=function(a,b){if(b!=a.yb){var c=a.yb;a.yb=b;a.ae&&a.ae(c,b)}};var lm=function(a,b,c,d,e){Kf[L](this,c,b);Ya(this,a);this.node=this.Ek=d;this.edge=this.edge=e};T(lm,Kf);S("amoeba.GraphViewEvent",lm);lm.Type={gl:"node-mouseover",fl:"node-mouseout",el:"node-mousemove",al:"node-click",dl:"node-dblclick",bl:"node-contextmenu",Zk:"edge-mouseover",Yk:"edge-mouseout",Xk:"edge-mousemove",Vk:"edge-click",Wk:"edge-contextmenu",Sk:"click",Uk:"dblclick",Tk:"contextmenu",hl:"viewport-changed",$k:"layout-changed"};var mm=function(a,b,c){this.Ob=a;this.$h=b;this.Zh=c;this.Rc=l[qb](a[w]()/b);this.yg=l[qb](a[A]()/c);this.sc=ja(this.Rc*this.yg)};
mm[J].Bb=function(a){for(var b=Sg(l[rb]((a.O-this.Ob.O)/this.$h),0,this.Rc-1),c=Sg(l[rb]((a.Z-this.Ob.O)/this.$h),0,this.Rc-1),d=Sg(l[rb]((a.R-this.Ob.R)/this.Zh),0,this.yg-1),e=Sg(l[rb]((a.ja-this.Ob.R)/this.Zh),0,this.yg-1),f=d*this.Rc+b,h=f,k=d;k<=e;k++){for(var n=b;n<=c;n++){var q=this.sc[h++];if(q)for(var s=0;s<q[H];s++)if(a.intersects(q[s]))return!1}h+=this.Rc-(c-b+1)}h=f;for(k=d;k<=e;k++){for(n=b;n<=c;n++)this.sc[h]?this.sc[h][B](a):this.sc[h]=[a],h++;h+=this.Rc-(c-b+1)}return!0};
mm[J].ad=function(){return this.Ob};var um=function(a){this.Qa=kh("DIV");Aa(this.Qa[z],"absolute");ab(this.Qa[z],"hidden");t(this.Qa[z],"auto");r(this.Qa[z],"auto");this.Qa[z].margin="0px";this.Qa[z].padding="0px";a[v](this.Qa)};T(um,Hf);um[J].e=function(){nh(this.Qa);delete this.Qa;um.J.e[L](this)};um[J].measureText=function(a,b){Ka(this.Qa[z],b);oh(this.Qa,a);return this.Qa[od]};var vm=function(a,b){this.ih=a;this.ia=b;this.gh=!1;this.Tb=[];this.tc=null;this.B=[];this.nf=0;this.Q=1};T(vm,Hf);var wm=new Vg(200,40),xm=new W(0,0);vm[J].e=function(){If(this.ih);vm.J.e[L](this)};var ym=function(a,b,c,d){a.tc=[];a.B=[];a.nf=0;a.Q=d;for(var e=b.m(),f=0;f<e;f++){var h=b.r(f);h[G]&&h.b&&h.b.Lh()&&Fk(c,h.b[y])&&a.B[B](h)}Xe(a.B,function(a,b){return b.ma==a.ma?b.id-a.id:b.ma-a.ma});a.sc=new mm(c,wm[w]*d,wm[A]*d)};var zm=function(){};T(zm,Hf);zm[J].e=function(){this.Og&&(nh(this.Og),delete this.Og);zm.J.e[L](this)};zm[J].Gf=function(a){var b=hh("DIV");Aa(b[z],"absolute");r(b[z],"100%");t(b[z],"100%");Ia(b[z],"table");var c=hh("DIV");Ia(c[z],"table-cell");c[z].verticalAlign="middle";c[z].textAlign="center";Ka(c[z],"18px sans-serif");Pa(c[z],"#000");oh(c,"Sorry, your browser is not supported.");a[wb](b,a[Ob][0]||null);b[v](c);this.Og=b;return!0};zm[J].sf=function(){};zm[J].Eb=function(){return"Renderer: Unsupported"};var Z=function(a,b){zg[L](this);Rj("amoeba").me(Dj);Vj||(Vj=new Sj);var c=Vj;if(!0!=c.vh){var d;Qj();d=Pj;var e=c.dj;d.md||(d.md=[]);d.md[B](e);c.vh=!0}c=(new ok(ca[fc].href)).Hb.V("log")||[];for(d=0;d<c[H];d++)e=c[d][cc]("="),1<=e[H]&&Rj(e[0]).me(Mj(e[1]||"ALL"));this.A=b||{};this.c=a;this.vf=new Vg(1,1);this.$a=new Vg(1,1);this.mh=!0;this.ia=new Mk(this.A.styles);c=Ok(this.ia).je||1;d=new $l(this.$a);d.nd({springStrength:c});this.Zc=d;this.j=new Hk(a[od],a[Bd],new W(0,0));this.Zd=2500*l.PI;this.h=
new km;c=kh("DIV");a[v](c);Aa(c[z],"absolute");Wa(c[z],0);c[z].top=0;r(c[z],"100%");t(c[z],"100%");V(c,"mouseover",Q(this.Ef,this));V(c,"mouseout",Q(this.Yb,this));V(c,"mousedown",Q(this.Zb,this));V(c,"mouseup",Q(this.cb,this));V(c,"mousemove",Q(this.Wb,this));V(c,"click",Q(this.ej,this));V(c,"dblclick",Q(this.Df,this));V(c,"contextmenu",Q(this.fj,this));this.fe=new Wj(c);V(this.fe,"mousewheel",Q(this.Ff,this));this.Cb=c;this.ta=this.wh(a);this.gf=new vm(new um(a),this.ia);t:{c=this.ia;d=this.A.disableWebGl;
for(e=0;e<Am[H];e++){var f=new Am[e];if(!(d&&f instanceof ul)&&f.Gf(a,c))break t}throw m();}this.hf=f;this.za=new vl(this.j);this.Aa=new fm(this.h,this.j);this.hh=new dm;this.jd=this.Fb=this.W=null;this.lf=0;this.kf=!1;c=Q(this.hj,this);this.h.be=c;c=Q(this.gj,this);this.h.ae=c;this.c[z][y]&&"static"!=this.c[z][y]||Aa(this.c[z],"relative");e=this.c;c=e.getElementsByTagName("*");if(Fh){if(d="none",e[z][Fh]=d,c)for(e=0;f=c[e];e++)f[z][Fh]=d}else if(U||mf)if(d="on",e[Jb]("unselectable",d),c)for(e=0;f=
c[e];e++)f[Jb]("unselectable",d);this.A.showBlockedLabels&&(this.gf.gh=!0);Bm(this,!0);this.A.disableRenderCallback||Cm(Q(this.jf,this),a)},Dm;T(Z,zg);S("amoeba.GraphView",Z);var Am=[ul,Wk,zm];Z[J].D=function(){Z.J.D[L](this)};Z[J].dispose=Z[J].D;Z[J].e=function(){this.Cb&&tg(this.Cb);this.fe&&tg(this.fe);this.ta&&tg(this.ta);If(this.h);If(this.gf);If(this.hf);If(this.fe);nh(this.Cb);nh(this.ta);delete this.c;delete this.Cb;delete this.ta;delete this.Fb;Z.J.e[L](this)};
Z[J].Kk=function(a){this.W=a;this.W.j=this.j;this.c[v](this.W.eb);(a=this.h.oa)&&this.W.Jb(a)};Z[J].setNodeSelector=Z[J].Kk;Z[J].Jb=function(a){this.h.Jb(a);Bm(this,!0);this.W&&this.W.Jb(a)};Z[J].setGraphProvider=Z[J].Jb;Z[J].Hk=function(a){this.Jb(new al(a))};Z[J].setGraph=Z[J].Hk;Z[J].nd=function(a){this.Zc.nd(a)};Z[J].setLayoutConfig=Z[J].nd;Z[J].Ik=function(a){this.Zc=a;a.If(this.$a)};Z[J].setLayout=Z[J].Ik;Z[J].Lk=function(a){this.A.showLabels=a};Z[J].setShowLabels=Z[J].Lk;Z[J].ki=function(){return this.$a[kc]()};
Z[J].getWorldSize=Z[J].ki;Z[J].Fh=function(a){this.$a=a[kc]();this.mh=!1;Bm(this,!1)};Z[J].setWorldSize=Z[J].Fh;Na(Z[J],function(){return this.j[Lc]()[kc]()});Na(Z[J],Z[J][Lc]);fb(Z[J],function(a){var b=this.za;b.I.x=0;b.I.y=0;b.sa=0;this.j[nd](a.x,a.y);Em(this)});fb(Z[J],Z[J][nd]);Z[J].getZoom=function(){return this.j[md]()};Z[J].getZoom=Z[J][md];Z[J].setZoom=function(a,b){var c=this.za;c.I.x=0;c.I.y=0;c.sa=0;b?(c=this.za,c.sa=10*(a-c.j[md]()),c.rb=R()):(this.j[Ib](a),Em(this))};Z[J].setZoom=Z[J][Ib];
Z[J].ag=function(){this.A.disableRenderCallback&&this.jf()};Z[J].renderFrame=Z[J].ag;Z[J].Nk=function(a){this.kh=a;return!0};Z[J].showDebugInfo=Z[J].Nk;Z[J].Fk=function(){this.kf=!0};Z[J].pauseLayout=Z[J].Fk;Z[J].Gk=function(){this.kf=!1};Z[J].resumeLayout=Z[J].Gk;
var Bm=function(a,b){var c=a.c,d;d=0;var e=a.h.H();if(e)for(var f=0;f<e.m();f++){var h=e.r(f),h=Pk(a.ia,h)[ud](e.r(f)[Wc])+2;d+=h*h}d*=l.PI;if(d>a.Zd||c[od]!=a.vf[w]||c[Bd]!=a.vf[A]){a.Zd=l.max(d,a.Zd);d=l.max(c[od],1);e=l.max(c[Bd],1);f=a.j;if(d!=f.Ja[w]||e!=f.Ja[A])r(f.Ja,d),t(f.Ja,e),Gk(f);a.mh&&(f=d/e,h=0.05*Ok(a.ia).ne,h=a.Zd/h,a.$a=new Vg(l[$c](h*f),l[$c](h/f)));a.Zc.If(a.$a);if(a.A.autoZoom)if(c=l.min(c[od]/a.$a[w],c[Bd]/a.$a[A]),c=l.log(c)*l.LOG2E,b)a.j[Ib](c);else f=a.za,f.sa=10*(c-f.j[md]()),
f.rb=R();b&&a.j[nd](0,0);a.vf=new Vg(d,e)}};M=Z[J];
M.jf=function(){if(null!=this.c){this.A.disableRenderCallback||Cm(Q(this.jf,this),this.c);var a=this.hh,b=R();if(a.uc){var c=b-a.uc;a.Wd+=c-a.qf[a.Xd];a.qf[a.Xd++]=c;16==a.Xd&&(a.Xd=0)}a.uc=b;Bm(this);if(a=this.h.H()){b=this.za;if(0==b.I.x&&0==b.I.y&&0==b.sa)b=!1;else{var c=R(),d=l.exp((c-b.rb)/1E3*-10),e=(d-1)/-10,f=b.j;f[nd](f.Y.x+e*b.I.x,f.Y.y+e*b.I.y);b.j[Ib](b.j[md]()+e*b.sa);b.I.x*=d;b.I.y*=d;b.sa*=d;b.rb=c;ph(b.I)<10*b.j.Q&&(b.I.x=0,b.I.y=0);0.01>l.abs(b.sa)&&(b.sa=0);b=0==b.I.x&&0==b.I.y&&
0==b.sa}b&&Em(this);b=!1;this.kf?b=this.Aa.Sb:this.Zc.mf(a,this.Aa.Sb)&&(b=Fm(this),this.Aa.$c=b,gm(this.Aa),Gm(this,new lm("layout-changed",this.c,null)),b=!0);a.rc()||b||this.Yi!=this.h.N||!this.j.ad().equals(this.Xi)||this.W&&this.W.rc()?(this.lf=60,this.W&&this.W.rf(),b=!0):0<this.lf?(this.lf--,b=!0):b=!1;if(b){Ca(this.Cb[z],this.Aa.Sb?"move":null!=this.h.N?"pointer":"default");b=[];if(this.A.showLabels){b=this.gf;d=this.j.ad();c=this.j.Q;e=R();(!b.tc||c<b.Q/1.25||c>1.25*b.Q)&&ym(b,a,d,c);t:{d=
e+10;for(e=b.B;b.nf<e[H];){var h=e[b.nf++];i:{var f=b,k=h[G]||"",n=Pk(f.ia,h);if(0!=n.bd){var q=n[ud](h[Wc]),s=Sg(l[D](q*n.bd),10,36),u=s+"px "+n[Nc];n[td]&&(u=n[td]+" "+u);for(var C=n[Yb]||Ki,I=f.ih.measureText(k,u)*f.Q,ba=s*f.Q,ua=f.gh?0.3:1,pa=1;pa>=ua;pa-=0.1){var va;n:{if(n.cd)switch(va=q+s/2,n.cd){case 1:va=new W(0,-va);break n;case 2:va=new W(0,va);break n}va=xm}if(f.sc.Bb(Ek(new W(h.b[y].x-f.Q*va.x,h.b[y].y-f.Q*va.y),I*pa,ba*pa))){f.tc[B](new Lk(h.id,k,C,u,s,va,pa));break i}}}}if(120<=b.tc[H])break;
if(R()>d){d=!1;break t}}d=!0}d&&(b.Tb=b.tc||[],b.Tb.reverse(),b.tc=null);for(e=d=0;e<b.Tb[H];e++)if(f=b.Tb[e],k=a.n(f.of))h=f,k=k.b[y],n=c,h.pf.x=k.x-h.jh.x*n,h.pf.y=k.y-h.jh.y*n,b.Tb[d++]=f;cb(b.Tb,d);b=b.Tb}c=a.rc();a.rf();this.hf.sf(a,c,b,this.j,this.h.N);this.kh&&(b=a.m(),a=a.Za(),c=this.kh,d=this.hh,d=0>=d.Wd?0:l[D](16/(d.Wd/1E3)),Oa(c,"FPS: "+d+"<br>Nodes: "+b+"<br>Edges: "+a+"<br>World: "+this.$a[w][ob]()+"x"+this.$a[A][ob]()+"<br>Zoom: "+this.j[md]()[ob](2)+"<br>"+this.Zc.Eb()+"<br>"+this.hf.Eb()));
this.Yi=this.h.N;this.Xi=this.j.ad()}}}};M.Ef=function(a){this.Fb=a;var b=Fm(this);this.Aa.$c=b;this.Aa.Ef(a)};M.Yb=function(a){this.Fb=null;var b=Fm(this);this.Aa.$c=b;this.Aa.Yb(a);this.za.Yb(a);this.W&&this.W.Yb(a);$a(this.Cb[z],0)};M.Wb=function(a){this.Fb=a;var b=!1;this.W&&(b=this.W.re);b?b&&this.W.Wb(a):(b=Fm(this),this.Aa.$c=b,this.Aa.Wb(a),this.h.N?Gm(this,new lm("node-mousemove",this.c,a,this.h.N)):this.h.yb&&Gm(this,new lm("edge-mousemove",this.c,a,null,this.h.yb)),this.za.Wb(a)&&Em(this))};
M.Zb=function(a){a[vb]();$a(this.Cb[z],1E6);this.jd=new W(a[Bc],a[Cc]);if(2!=a.button){var b=!1;this.W&&(b=this.W.re);b?this.W.Zb(a):this.Aa.Zb(a)||this.za.Zb(a)}};M.cb=function(a){a[vb]();this.Aa.cb(a);this.za.cb(a);this.W&&this.W.cb(a);$a(this.Cb[z],0)};M.ej=function(a){!this.jd||5<qh(new W(a[Bc],a[Cc]),this.jd)||(this.h.N?Gm(this,new lm("node-click",this.c,a,this.h.N)):this.h.yb?Gm(this,new lm("edge-click",this.c,a,null,this.h.yb)):Gm(this,new lm("click",this.c,a)))};
M.Df=function(a){this.h.N?Gm(this,new lm("node-dblclick",this.c,a,this.h.N)):(Gm(this,new lm("dblclick",this.c,a)),this.za.Df(a))};M.fj=function(a){!this.A.overrideRightClick||a.shiftKey||!this.jd||5<qh(new W(a[Bc],a[Cc]),this.jd)||(this.h.N?Gm(this,new lm("node-contextmenu",this.c,a,this.h.N)):this.h.yb?Gm(this,new lm("edge-contextmenu",this.c,a,null,this.h.yb)):Gm(this,new lm("contextmenu",this.c,a)),a[vb]())};M.ek=function(a){a[Cc]<=this.ta[Bd]/2?xl(this.za,0.75):xl(this.za,-0.75)};
M.Ff=function(a){a[vb]();this.za.Ff(a)};M.hj=function(a,b){a&&Gm(this,new lm("node-mouseout",this.c,this.Fb,a));b&&Gm(this,new lm("node-mouseover",this.c,this.Fb,b))};M.gj=function(a,b){a&&Gm(this,new lm("edge-mouseout",this.c,this.Fb,null,a));b&&Gm(this,new lm("edge-mouseover",this.c,this.Fb,null,b))};var Em=function(a){Gm(a,new lm("viewport-changed",a.c,null))};
Z[J].wh=function(a){var b=hh("IMG",{src:"//www.gstatic.com/graphexplorer/img/zoom2.png"}),b=hh("DIV",{},b),c=this.A.zoomControlPosition;"hide"!=c&&(a[v](b),Aa(b[z],"absolute"),b[z].top="10px","left"==c?Wa(b[z],"10px"):Ja(b[z],"10px"));V(b,"click",Q(this.ek,this));return b};
var Cm=function(a,b){Dm||(Dm=ca.requestAnimationFrame||ca.webkitRequestAnimationFrame||ca.mozRequestAnimationFrame||ca.oRequestAnimationFrame||ca.msRequestAnimationFrame||function(a){ca[bc](a,1E3/60)});Dm[L](ca,a,b)},Gm=function(a,b){bk(Q(a[xb],a,b))},Fm=function(a){return ug(a,"edge-mouseover")||ug(a,"edge-mouseout")||ug(a,"edge-mousemove")||ug(a,"edge-click")};var Im=function(a,b){var c=ja[J][Kc][L](arguments),d=c[lb]();if("undefined"==typeof d)throw m("[goog.string.format] Template required");return d[x](/%([0\-\ \+]*)(\d+)?(\.(\d+))?([%sfdiu])/g,function(a,b,d,k,n,q,s,u){if("%"==q)return"%";var C=c[lb]();if("undefined"==typeof C)throw m("[goog.string.format] Not enough arguments");arguments[0]=C;return Hm[q][yc](null,arguments)})},Hm={s:function(a,b,c){return ia(c)||""==c||a[H]>=c?a:a=-1<b[E]("-",0)?a+ja(c-a[H]+1)[Id](" "):ja(c-a[H]+1)[Id](" ")+a},f:function(a,
b,c,d,e){d=a[Wb]();ia(e)||""==e||(d=a[ob](e));var f;f=0>a?"-":0<=b[E]("+")?"+":0<=b[E](" ")?" ":"";0<=a&&(d=f+d);if(ia(c)||d[H]>=c)return d;d=ia(e)?l.abs(a)[Wb]():l.abs(a)[ob](e);a=c-d[H]-f[H];return d=0<=b[E]("-",0)?f+d+ja(a+1)[Id](" "):f+ja(a+1)[Id](0<=b[E]("0",0)?"0":" ")+d},d:function(a,b,c,d,e,f,h,k){return Hm.f(la(a,10),b,c,d,0,f,h,k)}};Hm.i=Hm.d;Hm.u=Hm.d;var Jm=function(){this.T=this.Xc=this.Wa=null};M=Jm[J];M.qg=function(a){if(null!=a){this.T=this.Xc=this.Wa=null;this.Wa=a;var b=Date.parse(a);ia(b)?(a=ma(a),ia(a)||(this.T=a)):(this.T=b,this.Xc=new Date(b))}};
M.ya=function(a,b){if(null!=a&&!P(a))if(this.T=this.Xc=this.Wa=null,Yd(a)&&b?(this.T=a,a=Yd(a)?new Date(a):null):Td(a)&&(this.T=a.getTime()),Td(a))this.Wa=Td(a)?Im("%d/%d/%d %d:%d:%d",a.getFullYear(),a.getMonth()+1,a.getDate(),a.getHours(),a.getMinutes(),a.getSeconds(),a.getMilliseconds()):null,this.Xc=a;else{var c;c=a;Yd(c)?(c+="",c=-1!=c[E](".")?c:c+".0"):c=null;this.Wa=c;this.T=a}};M.jb=function(){return null!=this.T};M.Mb=function(){return null!=this.Xc};
M.getData=function(){return this.Mb()?this.Xc:this.T};M.add=function(a){this.jb()&&this.ya(this.T+a,this.Mb())};S("fusiontables.GvizRange",Jm);S("fusiontables.GvizRange.prototype.getData",Jm[J][tb]);S("fusiontables.GvizRange.prototype.hasData",Jm[J].jb);S("fusiontables.GvizRange.prototype.hasDate",Jm[J].Mb);S("fusiontables.GvizRange.prototype.setFromData",Jm[J].ya);S("fusiontables.GvizRange.prototype.setFromString",Jm[J].qg);var Km=function(){this.Zg=null},Mm=function(a,b,c,d,e,f,h,k,n){var q=new Km;q.Zg=new tk;Lm(q,"tq",a);Lm(q,"uit",b);Lm(q,"sdb",f);Lm(q,"getmm",h);null!=k&&(Lm(q,"qrsa",k[nc].T),Lm(q,"qrea",k.end.T));n&&Lm(q,"ft",1);Lm(q,"getrange",c)||Lm(q,"rmax",d)||Lm(q,"bsize",e);a=new ok;a.setPath("gvizdata");sk(a,q.Zg);return new g[K].Query(a[Wb]())},Lm=function(a,b,c){if(null==c)return!1;a.Zg.add(b,c);return!0};var Ng=function(a,b,c){b=new Jf(b);if(null!=c)for(var d in c)b[d]=c[d];xg(a,b)};var Nm,Om,Pm;Pm=Om=Nm=!1;var Qm=hf();Qm&&(-1!=Qm[E]("Firefox")||-1!=Qm[E]("Camino")||(-1!=Qm[E]("iPhone")||-1!=Qm[E]("iPod")?Nm=!0:-1!=Qm[E]("iPad")?Om=!0:-1!=Qm[E]("Chrome")||-1!=Qm[E]("Android")&&(Pm=!0)));var Rm=Nm,Sm=Om,Tm=Pm;var Um=function(){zg[L](this);this.sb=null;this.wc=!1};T(Um,zg);Um[J].bc=function(a){this.wc?this.sb=null:null!=a&&(this.sb=a)};Um[J].yi=function(){return!0};var Vm=function(a,b){if(null==a||null==b)return 0;var c=l.log(l.abs(b-a)/256)/l.log(2),d=0,d=0.5>=c-l[rb](c)?l[rb](c):l[qb](c);return l.pow(2,d)};var Wm=function(a){return null!=a?P(a)?"true"==a:a:!1};var Xm=function(){this.xi={}};Xm.wi=function(){return Xm.Si?Xm.Si:Xm.Si=new Xm};var Ym=function(a,b){Xm.wi().xi[a]=b};var Zm=function(){Um[L](this);this.ta=this.ib=this.oa=this.pd=this.aa=this.Fc=this.c=null;this.Ih="true";this.ub=this.Nf=!1;this.we=null;Eh("#error {color: white; background-color: #dd4b39; padding: 5px;margin: auto; width: 500px; font-weight: bold; text-align: center;}#graph { border: 1px solid #ccc; }#graph-table { left: 0px; top: 0px; width: 100%; height: 100%; }#name {position: absolute; background: rgba(0,0,0,0.6); color: white; font-weight: bold; padding: 6px; border-radius: 8px; visibility: hidden;}#node-ctrl-text { text-align: right; margin: 0px 1px 0px 5px; border: 1px solid #ccc; }.ctrl-container { border-radius: 8px; border: 1px solid #ccc; border-spacing: 0; padding: 0; background-color: white; font-family: arial,helvetica,sans-serif; } .ctrl-text { font-size: 12px; color: gray; } .ctrl-label { margin: 5px; } .zoom-container { vertical-align: top; } .disable { color: #ccc ! important; }")};
T(Zm,Um);var $m={disableWebGl:!0,showLabels:!0,zoomControlPosition:"hide",styles:{edge:{scale:2,minRadius:0.25,maxRadius:20},node:{labelPosition:"below"}}},an={row:0,od:1},bn={Rh:{row:1,od:0},cl:an,Qh:{row:1,od:1}},cn={Wf:"ps",Uf:"cx",Vf:"cy",Xf:"sh",Yf:"sw",$b:"z"};
Ba(Zm[J],function(a,b,c,d){this.c=bh(b.containerId);if(null!=this.c){a=b.embed;this.wc=null!=a?a:!1;this.bc(d);this.ub="1"==b.sai;this.Fc=lh(2,2);this.Fc.id="graph-table";this.c[v](this.Fc);this.ub||(d=this.Fc[wc][bn.Rh.row][mc][bn.Rh.od],this.ta=hh("img",{src:"//www.gstatic.com/graphexplorer/img/zoom2.png"}),d[v](this.ta),Pg(d,"zoom-container"),V(this.ta,"click",Q(this.uj,this)),V(this.ta,"mouseover",Q(this.ac,this)),V(this.ta,"mouseout",Q(this.oe,this)));a=this.Fc[wc][bn.Qh.row][mc][bn.Qh.od];d=
hh("div",{id:"graph"});a[v](d);t(d[z],xh(this.c[Bd]-(this.ub?0:43),!0));r(d[z],xh(this.c[od]-(this.ub?0:32),!0));a=ag($m);a.disableRenderCallback=this.ub;this.aa=new Z(d,a);this.ub||(this.aa[ad]("node-mouseover",Q(this.vj,this)),this.aa[ad]("node-mousemove",Q(this.Ph,this)),this.aa[ad]("node-mouseout",Q(this.tj,this)),this.aa[ad]("viewport-changed",Q(this.$f,this)),this.aa[ad]("layout-changed",Q(this.$f,this)));this.ib=hh("div",{id:"name"},null);d[Gd]&&d[Gd][wb](this.ib,d.nextSibling);this.Ih=b.sdb;
d=Wm(b.gc);a=Wm(b.gd);c=ue(te(b.q),te(b.qe));var e=null!=this.we&&c!=this.we;this.we=c;this.og(this.we,d,a,e?null:b.state)}});Zm[J].yi=function(){return!(U&&!Cf(9))};var dn=function(a,b,c,d,e,f,h){b=hh(b,c);f&&V(b,"click",Q(f,a,h));V(b,"mouseover",Q(d,a));V(b,"mouseout",Q(e,a));return b};
Zm[J].uj=function(a){var b,c=this.ta;var d,e=$g(c),f=wh(c,"position");Ce(c,"Parameter is required");var h=nf&&e[Bb]&&!c[jb]&&"absolute"==f&&(d=e[Bb](c))&&(0>d[yb]||0>d[zb]);b=new Ug(0,0);var k;d=e?$g(e):ha;(k=!U)||(k=U&&9<=Ef)||(k="CSS1Compat"==ah(d).Qb.compatMode);k=k?d[Ub]:d[sd];if(c!=k)if(c[jb])d=zh(c),f=ah(e).Qb,e=of||"CSS1Compat"!=f.compatMode?f[sd]||f[Ub]:f[Ub],f=f.parentWindow||f[dd],e=U&&Cf("10")&&f.pageYOffset!=e[id]?new Ug(e[qc],e[id]):new Ug(f.pageXOffset||e[qc],f.pageYOffset||e[id]),b.x=
d[F]+e.x,b.y=d.top+e.y;else if(e[Bb]&&!h)d=e[Bb](c),e=e[Bb](k),b.x=d[yb]-e[yb],b.y=d[zb]-e[zb];else{d=c;do{b.x+=d.offsetLeft;b.y+=d.offsetTop;d!=c&&(b.x+=d.clientLeft||0,b.y+=d.clientTop||0);if(of&&"fixed"==wh(d,"position")){b.x+=e[sd][qc];b.y+=e[sd][id];break}d=d.offsetParent}while(d&&d!=c);if(mf||of&&"absolute"==f)b.y-=e[sd].offsetTop;for(d=c;(d=Ah(d))&&d!=e[sd]&&d!=k;)b.x-=d[qc],mf&&"TR"==d.tagName||(b.y-=d[id])}c=Dh(c);b=new uh(b.x,b.y,c[w],c[A]);this.aa[Ib](this.aa[md]()+0.75*(a[hd]-b.top<b[A]/
2?1:-1),!0)};Zm[J].og=function(a,b,c,d){Mm(a,this.sb,null,null,null,this.Ih)[Cb](Q(this.Pd,this,b,c,d))};
Zm[J].Pd=function(a,b,c,d){eb(this.c,"");var e=d[ub](),f={},h={};d=[];for(var k=0,n=e[jd](),q=2<e[Pc]()&&"number"==e.getColumnType(2)?2:-1,s=0;s<n;s++){var u=e[ed](s,0),C=e[ed](s,1),I=1;if(C!=u){if(0<q&&(I=e[ed](s,q),0>=I))continue;u in f||($f(f,u,k),d[B]({name:u,group:0}),k++);C in f||($f(f,C,k),d[B]({name:C,group:a?1:0}),k++);var ba=u+"|"+C;ba in h||(h[ba]={to:f[C],from:f[u],weight:0,directed:b});h[ba].weight=h[ba][mb]+I}}a=Xf(h);b=[];for(s=0;s<a[H];s++)e=a[s],0>e[mb]?b[B]({to:e.from,from:e.to,
weight:-1*e[mb]}):b[B](e);this.pd={nodes:d,edges:b};d=fj(this.pd);this.oa=new en(d,{computeImportance:!0});this.aa.Jb(this.oa);d=this.pd.nodes[H];this.ub||(a=this.Fc[wc][an.row][mc][an.od],s=lh(1,3),eb(s,"ctrl-container"),a[v](s),a=dn(this,"input",{id:"node-ctrl-text",type:"text",size:"3"},this.ac,this.oe),a.value=l.min(250,d),V(a,"keyup",Q(this.kj,this,d)),s[wc][0][mc][0][v](a),a=dn(this,"div",{id:"node-ctrl-add","class":"ctrl-text"},this.ac,this.oe,this.jj,d),Oa(a,"&#9650;"),s[wc][0][mc][1][v](a),
a=dn(this,"div",{id:"node-ctrl-remove","class":"ctrl-text"},this.ac,this.oe,this.ij,d),Oa(a,"&#9660;"),s[wc][0][mc][1][v](a),a=hh("div",{"class":"ctrl-text ctrl-label"}),s[wc][0][mc][2][v](a),oh(a,"of "+d+" nodes"));null!=c?(P(c)&&(c=Cg(c)),null!=c[cn.Wf]&&null!=c[cn.Uf]&&null!=c[cn.Vf]&&null!=c[cn.Xf]&&null!=c[cn.Yf]&&null!=c[cn.$b]?(this.Nf=!0,this.oa.Eh(c[cn.Wf]),this.aa.Fh(new Vg(c[cn.Yf],c[cn.Xf])),this.aa[nd](new W(c[cn.Uf],c[cn.Vf])),this.aa[Ib](c[cn.$b]),fn(this,this.oa.H().m(),d),this.Nf=
!1,c=!0):c=!1):c=!1;this.ub?(100<this.oa.H().m()&&gn(this,100,d),this.aa.ag(),N[bc](Q(this.lj,this),1E3)):c||gn(this,250,d)};Zm[J].lj=function(){this.aa.ag()};var gn=function(a,b,c){var d=a.oa.H().m();b=Sg(b,0,c);d=b-d;0<d?a.oa.ii(d,0):a.oa.hi(-1*d);fn(a,b,c);a.$f()};Zm[J].kj=function(a,b){if(13==b[Fb]){b[vb]();var c=la(b[wd][Qc],10);ia(c)?fa("Enter a number for the number of nodes to be displayed."):gn(this,c,a)}};Zm[J].jj=function(a){gn(this,this.oa.H().m()+10,a)};
Zm[J].ij=function(a){gn(this,this.oa.H().m()-10,a)};var fn=function(a,b,c){a.ub||(a=bh("node-ctrl-remove"),0>=b?Pg(a,"disable"):Rg(a,"disable"),a=bh("node-ctrl-add"),b>=c?Pg(a,"disable"):Rg(a,"disable"),bh("node-ctrl-text").value=b)};M=Zm[J];M.$f=function(){if(!this.Nf){var a={},b=this.oa.li();1500<b[H]&&(b=b[Ed](0,1500));a[cn.Wf]=b;b=this.aa[Lc]();a[cn.Uf]=b.x;a[cn.Vf]=b.y;b=this.aa.ki();a[cn.Yf]=b[w];a[cn.Xf]=b[A];a[cn.$b]=this.aa[md]();Ng(this,"statechange",{visType:"graph",state:Gg(a)})}};
M.ac=function(a){Ca(a[wd][z],"pointer")};M.oe=function(a){Ca(a[wd][z],"default")};M.vj=function(a){null!=this.ib&&null!=a.node&&null!=a.node.id&&(oh(this.ib,this.pd.nodes[a.node.id][G]),ab(this.ib[z],"visible"),this.Ph(a))};M.Ph=function(a){null!=this.ib&&(Wa(this.ib[z],a.clientX+20+"px"),this.ib[z].top=a[hd]-30+"px")};M.tj=function(){null!=this.ib&&ab(this.ib[z],"hidden")};bb(M,function(){});M.D=function(){null!=this.aa&&this.aa.D();this.pd=null;mh(this.c)};Ym("graph",Zm);var $=function(){this.ba=null;this.Qg={}};S("fusiontables.GvizChart",$);$[J].zk=function(a){switch(a){case "MAP":return"geomap";case "GEO":return"geochart";case "AREA":case "BAR":case "COLUMN":case "LINE":case "LINE_AGGREGATE":case "MAP_CHARTS":case "PIE":case "SCATTER":return"corechart";case "MOTION":return"motionchart";case "TIMELINE":return"annotatedtimeline";default:return"table"}};$[J].getGvizPackage=$[J].zk;
Ba($[J],function(a,b,c,d){switch(a){case "AREA":case "BAR":case "COLUMN":case "GEO":case "LINE":case "MAP":case "MOTION":case "PIE":case "SCATTER":case "TIMELINE":hn(this,"simple",["dataloaded"],a,b,c,d);break;case "TABLE":hn(this,"table",["dataloaded"],a,b,c,d);break;case "LINE_AGGREGATE":0==he(te(b.isXyPlot))?hn(this,"control",["rangechange","dataloaded"],"LINE",b,c,d):hn(this,"simple",["dataloaded"],"LINE",b,c,d);break;case "GRAPH":hn(this,"graph",["statechange"],a,b,null,d);break;case "MAP_CHARTS":hn(this,
"mapcharts",["statechange"],a,b,null,d)}});Ba($[J],$[J][$b]);$[J].$g=function(){return null!=this.ba?this.ba.$g():""};$[J].getChartDataTable=$[J].$g;$[J].bh=function(a){null!=this.ba&&this.ba.bh(Cg(a))};$[J].updateChartOptions=$[J].bh;$[J].ah=function(){return null!=this.ba?this.ba.ah():""};$[J].getChartOptions=$[J].ah;
var hn=function(a,b,c,d,e,f,h){a.D();b=Xm.wi().xi[b];b=null!=b?new b:null;a.ba=b;if(null!=a.ba)if(a.ba.yi())for(a.ba[$b](d,e,f,h),d=0;d<c[H];d++)e=c[d],null!=a.Qg[e]&&V(a.ba,e,a.Qg[e]);else a=bh(e.containerId)||ha[sd],c=hh("div",{id:"goog-ft-error"}),oh(c,"Visualization cannot be displayed. Try upgrading your browser."),a[v](c)};bb($[J],function(a,b){this.Fi()&&this.ba.resize(a,b)});bb($[J],$[J].resize);$[J].Fi=function(){return null!=this.ba};$[J].hasChart=$[J].Fi;
$[J].bc=function(a){null!=this.ba&&this.ba.bc(a)};$[J].refreshAuthToken=$[J].bc;$[J].addListener=function(a,b){this.Qg[a]=b};$[J].addListener=$[J][jc];$[J].D=function(){null!=this.ba&&(tg(this.ba),this.ba.D(),this.ba=null)};$[J].dispose=$[J].D;U&&Cf(8);var jn={il:!0},kn=function(){throw m("Do not instantiate directly");};kn[J].Td=null;za(kn[J],function(){return this.content});var ln=function(){kn[L](this)};T(ln,kn);ln[J].Ud={ll:!0};var mn=function(){kn[L](this)};T(mn,kn);mn[J].Ud={kl:!0};mn[J].Td=1;var nn=function(){kn[L](this)};T(nn,kn);nn[J].Ud={ml:!0};nn[J].Td=1;var on=function(){kn[L](this)};T(on,kn);on[J].Ud={jl:!0};on[J].Td=1;var pn=function(){kn[L](this)};T(pn,kn);pn[J].Ud=jn;pn[J].Td=1;var qn=function(a){function b(){}db(b,a[J]);return function(a){var d=new b;d.content=p(a);return d}};qn(mn);qn(nn);qn(on);var rn=qn(pn);
(function(a){function b(){}db(b,a[J]);return function(a,d){if(!p(a))return"";var e=new b;e.content=p(a);void 0!==d&&(e.Td=d);return e}})(ln);
var tn=function(a){if(null!=a&&a.Ud===jn)return Ae(a.constructor===pn),a.content;null==a?a="":(a=p(a),sn[Hc](a)||(Be("Bad value `%s` for |filterCssValue",[a]),a="zSoyz"));return a},un={"\x00":"\\0 ","\b":"\\8 ","\t":"\\9 ","\n":"\\a ","\x0B":"\\b ","\f":"\\c ","\r":"\\d ",'"':"\\22 ","&":"\\26 ","'":"\\27 ","(":"\\28 ",")":"\\29 ","*":"\\2a ","/":"\\2f ",":":"\\3a ",";":"\\3b ","<":"\\3c ","=":"\\3d ",">":"\\3e ","@":"\\40 ","\\":"\\5c ","{":"\\7b ","}":"\\7d ","\u0085":"\\85 ","\u00a0":"\\a0 ","\u2028":"\\2028 ",
"\u2029":"\\2029 "},vn=function(a){return un[a]},wn=/[\x00\x08-\x0d\x22\x26-\x2a\/\x3a-\x3e@\\\x7b\x7d\x85\xa0\u2028\u2029]/g,sn=/^(?!-*(?:expression|(?:moz-)?binding))(?:[.#]?-?(?:[_a-z0-9-]+)(?:-[_a-z0-9-]+)*-?|-?(?:[0-9]+(?:\.[0-9]*)?|\.[0-9]+)(?:[a-z]{1,2}|%)?|!important|)$/i;var xn=function(a){for(var b=[{calc:function(a,b){return a.getFormattedValue(b,0)},type:"string"}],c=a[Pc](),d=1;d<c;d++)b[B](d);a=new g[K].DataView(a);a.setColumns(b);return a},zn=function(a,b){for(var c=[],d=null!=b,e=d?b[H]:a[Pc](),f=0;f<e;f++){var h=d?b[f]:f;"number"==a.getColumnType(h)&&""==a.getColumnRole(h)?c[B]({calc:yn(h),type:"number",label:a.getColumnLabel(h),id:a.getColumnId(h)}):c[B](h)}d=new g[K].DataView(a);d.setColumns(c);return d},yn=function(a){return function(b,c){var d=b[ed](c,
a);return 5<=l.log(l.abs(d))/l.log(10)?la(d,10):ma(d.toPrecision(5))}};var An=function(){Um[L](this);this.fg=this.ea=this.c=null;this.A={};this.Jh=this.ve=this.lb=this.fa=null;this.Kh=!1;this.Pf=!0;this.dg=this.eg=!1};T(An,Um);M=An[J];
Ba(M,function(a,b,c,d,e){this.fg=a;this.ng(a,b.containerId);if(null!=this.ea){g[K][Oc][jc](this.ea,"select",Q(this.rd,this));g[K][Oc][jc](this.ea,"onmouseover",Q(this.ac,this,"onmouseover"));g[K][Oc][jc](this.ea,"onmouseout",Q(this.ac,this,"onmouseout"));var f=b.q;if(null!=f){var h=b.embed;this.wc=null!=h?h:!1;this.bc(d);this.A=c||{};this.Th(this.A,this.c);this.Kh=0==he(te(b.isXyPlot))&&"BAR"==a||"PIE"==a;this.ve=b.rmax;this.Jh=b.getmm;this.dg=b.chtml;this.A.allowHtml=this.eg&&this.dg;a=e||ue(te(f),
te(b.qe));null!=b.bsize?Mm(a,this.sb,"1")[Cb](Q(this.xj,this,a)):Bn(this,a)}}});M.Th=function(){};M.xj=function(a,b){var c=b[ub]();if(!(2>c[jd]())){var d=new Jm;d.ya(c[ed](0,0));var e=new Jm;e.ya(c[ed](1,0));c=Vm(d.T,e.T);Bn(this,a,c)}};M.ng=function(a,b){this.c=bh(b);null!=this.c&&(this.ea=this.oi(a,this.c))};
M.oi=function(a,b){switch(a){case "AREA":return new g[K].AreaChart(b);case "BAR":return new g[K].BarChart(b);case "COLUMN":return new g[K].ColumnChart(b);case "GEO":return new g[K].GeoChart(b);case "LINE":case "LINE_AGGREGATE":return new g[K].LineChart(b);case "MAP":return new g[K].GeoMap(b);case "MOTION":return new g[K].MotionChart(b);case "PIE":return new g[K].PieChart(b);case "SCATTER":return new g[K].ScatterChart(b);case "TIMELINE":return new g[K].AnnotatedTimeLine(b);default:return null}};
var Bn=function(a,b,c,d){Mm(b,a.sb,null,a.ve,c,null,a.Jh,d,a.eg&&a.dg)[Cb](Q(a.Pd,a,null!=a.ve?null:c||null))};M=An[J];M.Pd=function(a,b){this.fa=b[ub]();this.lb=null;this.Kh&&(this.lb=xn(this.fa));this.fi(a,this.fa);this.ea[zd](null!=this.lb?this.lb:this.fa,this.A);xg(this,"chartdrawn");if(null!=this.ve||null!=a){var c=this.fa.getTableProperty("totalrows");null!=c&&Ng(this,"dataloaded",{totalrows:c,datasize:this.fa[jd]()})}};
M.fi=function(a,b){if(null!=a&&("LINE"==this.fg||"LINE_AGGREGATE"==this.fg)){var c=b.getTableProperty("totalrows"),d=b[jd]();if(null!=c)if(this.Pf=c<=d){this.A.pointSize=2;for(var c=this.fa,d=new g[K].DataView(c),e=[],f=0;f<c[Pc]();f++)""==c.getColumnRole(f)&&e[B](f);d.setColumns(e);this.lb=d}else this.A.pointSize=0,this.lb=zn(this.fa)}};M.getDataTable=function(){return this.fa};M.bh=function(a){cg(this.A,a);this.ea[zd](null!=this.lb?this.lb:this.fa,this.A)};M.ah=function(){return Gg(this.A)};
M.$g=function(){return Gg(this.fa.toJSON())};bb(M,function(a,b,c){if(null!=this.ea){r(this.A,a);t(this.A,b);null!=c&&t(this.A.chartArea,b-c);try{this.ea[zd](null!=this.lb?this.lb:this.fa,this.A)}catch(d){}}});var Dn=function(a,b,c){Cn(a,"viewWindowMode",b);Cn(a,"viewWindow",c)},Cn=function(a,b,c){null!=a.A.hAxis||(a.A.hAxis={});null!=c?a.A.hAxis[b]=c:delete a.A.hAxis[b]};An[J].rd=function(){var a=this.ea.getSelection();0<a[H]&&xg(this,new Jf("select",a[0]))};An[J].ac=function(a){Ng(this,a)};
An[J].D=function(){this.fa=null;null!=this.ea&&(g[K][Oc][Qb](this.ea),If(this.ea),mh(this.c))};Ym("simple",An);var En=function(){Um[L](this);this.Kc=this.vd=this.hb=this.S=null;this.Ch=this.Dh=this.Sf=this.Tf="";this.Zf=!1;this.bg=this.ta=this.fb=this.c=null;this.qd=0;this.sd=null;this.p={start:new Jm,end:new Jm};this.xh=!1};T(En,Um);
var Fn={animation:{duration:1E3},chartArea:{width:"80%"},hAxis:{textPosition:"in"},interval:{minmax:{style:"area"}},legend:"top",lineWidth:"1",pointSize:"2",vAxis:{outTextPosition:"bound"}},Gn={chartOptions:{axisBackgroundColor:{fill:"#EBFFFF",opacity:"0.2",stroke:"#B7CEEC",strokeWidth:"2"},chartArea:{width:"80%",height:"100%"},height:80,interval:{minmax:{style:"area"}},legend:"none",vAxis:{gridlineColor:"none"}},chartType:"LineChart"};
Ba(En[J],function(a,b,c,d){this.c=bh(b.containerId);if(null!=this.c&&Hn(this,b)){var e=b.embed;this.wc=null!=e?e:!1;this.bc(d);this.sd=Dh(this.c);this.p={start:new Jm,end:new Jm};this.xh=null!=b.bsize;this.Zf=!1;d=b.containerId+"-gviz-chart";e=bh(d);null==e&&(e=hh("div",{id:d}),this.c[v](e));e=0!=he(te(b.embed))||!(U&&!Cf(9));null==this.S&&(this.S=new An,e&&(V(this.S,"chartdrawn",Q(this.yj,this,d)),V(this.S,"select",Q(this.rd,this,!0)),V(this.S,"onmouseover",Q(this.Bj,this)),V(this.S,"onmouseout",
Q(this.Aj,this))),V(this.S,"dataloaded",Q(this.zj,this)));c=In(c);t(c,Jn(this.sd[A],e));null!=c.chartArea.top&&Yd(c.chartArea.top)||(c.chartArea.top=30);t(c.chartArea,c[A]-c.chartArea.top-(e?0:1));b.containerId=d;this.p[nc].qg(b.rstart);this.p.end.qg(b.rend);d=Kn(this,e);null!=d.te&&(b.bsize=d.te+"");this.S[$b](a,b,c,this.sb,d.query)}});
En[J].wh=function(){var a=hh("IMG",{src:"client/zoom.png"}),b=hh("DIV",{},a);this.c[v](b);b[z].margin="2px";$a(b[z],1);Aa(b[z],"absolute");V(a,"click",Q(this.Tj,this));return b};
var Hn=function(a,b){if(null==b.q)return!1;a.Tf=b.q;if(null==b.qe)return!1;a.Sf=b.qe;if(null==b.qrs)return!1;a.Dh=b.qrs;if(null==b.qre)return!1;a.Ch=b.qre;return!0},Kn=function(a,b){if(b||!a.p[nc].jb()||!a.p.end.jb())return{query:ue(te(a.Tf),te(a.Sf)),te:null,Wh:!1};var c=a.xh?Vm(a.p[nc].T,a.p.end.T):null,d=a.Tf,e=a.Sf,f=a.Dh,h=a.Ch,k=a.p[nc],n=a.p.end,q=null,s=null;null!=c?(q=new Jm,q.ya(l[rb](k.T/c)*c,k.Mb()),q=q.Wa,k=new Jm,k.ya((l[rb](n.T/c)+1)*c,n.Mb()),s=k.Wa):(q=k.Wa,s=n.Wa);return{query:ue(d,
f,"'",q,"'",h,"'",s,"'",e),te:c,Wh:!0}};
En[J].yj=function(a){eb(this.c,"");if(!this.Zf){var b;b=bh(a);null!=b?(b=ch(ha,"iframe",null,b),b=null!=b&&0!=b[H]&&null!=b[0].contentDocument?b[0].contentDocument.getElementById("chartArea"):null):b=null;this.fb=b;null!=this.fb&&(this.bg=new Wj(this.fb),this.bg[ad]("mousewheel",this.Gj,!1,this));this.Zf=!0;a+="-gviz-control";b=bh(a);null==b&&(b=hh("div",{id:a}),this.c[v](b));Ln(this);this.hb=new g[K].RangeSelector(b);g[K][Oc][jc](this.hb,"rangechange",Q(this.Hj,this));this.vd=ag(Gn);r(this.vd.chartOptions,
this.sd[w]);this.Kc=this.S[ub]();this.hb[zd](this.Kc,this.vd,Mn(this));Nn(this)}};var Nn=function(a){var b=Kn(a,!1);if(!b.Wh)return!1;Bn(a.S,b.query,b.te,a.p);return!0},In=function(a){if(null==Fn)return null!=a?a:{};var b=ag(Fn);if(null==a)return b;for(var c in a)"object"==Pd(a[c])?(c in b||(b[c]={}),cg(b[c],a[c])):b[c]=a[c];return b},Jn=function(a,b){return b?l.max(80,a-80-30):l.max(80,a)};
En[J].Hj=function(a){a.inProgress||(this.p[nc].ya(a[nc]),this.p.end.ya(a.end),Dn(this.S,"maximized",null),Nn(this)&&On(this))};var Mn=function(a){var b={};a.p[nc].jb()&&(b.start=a.p[nc][tb]());a.p.end.jb()&&(b.end=a.p.end[tb]());return{range:b}};M=En[J];M.zj=function(a){xg(this,a)};bb(M,function(a,b){if(null!=this.S){var c=null!=this.hb;r(this.sd,a);this.sd.Qk=b;this.S.resize(a,Jn(b,c),30);c&&(r(this.vd.chartOptions,a),this.hb[zd](this.Kc,this.vd,Mn(this)))}});
M.Aj=function(){null!=this.fb&&Ca(this.fb[z],"default")};M.Bj=function(){null!=this.fb&&Ca(this.fb[z],"pointer")};
M.rd=function(a,b){null!=this.fb&&Ca(this.fb[z],"default");if(!a||!this.S.Pf){var c=this.Kc[ed](0,0),d=this.Kc[ed](this.Kc[jd]()-1,0);this.p[nc].jb()||this.p[nc].ya(c);this.p.end.jb()||this.p.end.ya(d);if(a||!(this.p[nc][tb]()<=c&&this.p.end[tb]()>=d)){var e;var f=this.p[nc];e=this.p.end;e=f.jb()&&e.jb()?e.T-f.T:null;if(null!=e){f=(a?0.25:1)*e;null!=b?(e=la(b[wd].row,10),e=this.S[ub]()[ed](e,0)):e=0.5*e+this.p[nc].T;var h=new Jm,k=new Jm,n=this.p[nc].Mb();h.ya(e,n);h.add(-f);k.ya(e,n);k.add(f);e=
{start:h,end:k}}else e=null;null!=e&&(f=e[nc],e=e.end,f[tb]()<=c||e[tb]()>=d?(Dn(this.S,"explicit",{min:f[tb](),max:e[tb]()}),f[tb]()<c&&f.ya(c,this.p[nc].Mb()),e[tb]()>d&&e.ya(d,this.p.end.Mb())):Dn(this.S,"maximized",null),this.p.start=f,this.p.end=e,this.hb.setRange(this.p[nc][tb](),this.p.end[tb]()),Nn(this),On(this))}}};M.Gj=function(a){a[vb]();var b=R()-this.qd;0<=b&&120>b||(this.qd=R(),this.rd(0>a.detail))};M.Tj=function(a){this.rd(a[Cc]<=this.ta[Bd]/2)};
var On=function(a){Ng(a,"rangechange",{start:a.p[nc].Wa,end:a.p.end.Wa})},Ln=function(a){null!=a.hb&&(g[K][Oc][Qb](a.hb),If(a.hb),a.hb=null)};En[J].D=function(){null!=this.S&&(tg(this.S),this.S.D(),this.S=null);Ln(this);this.fb=null;If(this.bg);mh(this.c)};Ym("control",En);var Pn=function(){An[L](this);this.eg=!0};T(Pn,An);Pn[J].Th=function(a,b){a.cssClassNames={selectedTableRow:"googft-selected-row",tableCell:"googft-table-cell"};b.offsetHeight&&t(a,b.offsetHeight);b.offsetWidth&&r(a,b.offsetWidth)};
Pn[J].fi=function(a,b){if(pf||Rm||Sm||Tm){for(var c=[],d=0;d<b[Pc]();d++){var e;e=b.getColumnLabel(d);e=-1!=e[E]("&")?"document"in N?qe(e):re(e):e;c[B](e)}c=c={data:{Rd:"googft-selected-row",dh:"googft-table-cell",Hi:c}};d="tr."+tn(c[pb].Rd)+" {border: 1px solid #ccc; bottom: 0; display: block; left: 0; overflow-y: auto; padding: .5em; position: fixed; right: 0; top: 0; width: 100%; z-index: 100;}tr."+tn(c[pb].Rd)+" td."+tn(c[pb].dh)+" {border: none; display: block; position: relative; text-align: left;}tr."+
tn(c[pb].Rd)+' td[class*="google-visualization-table-td-"] {text-align: left;}tr.'+tn(c[pb].Rd)+" td."+tn(c[pb].dh)+":before {display: inline-block; font-weight: bold; min-width: 15em; padding-right: 1em; white-space: nowrap;}";e=c[pb].Hi[H];for(var f=0;f<e;f++)d+="tr."+tn(c[pb].Rd)+" td."+tn(c[pb].dh)+":nth-of-type("+tn(f+1)+"):before {content: '"+p(c[pb].Hi[f])[x](wn,vn)+"';}";c=rn(d);Eh(c[Wb]())}};Pn[J].oi=function(a,b){return new g[K].Table(b)};Ym("table",Pn);var Qn=function(){zg[L](this);this.Ue="";this.Kg=this.Lg=this.fa=this.ea=null};T(Qn,zg);Ba(Qn[J],function(a,b,c,d){this.Ue=a;a=b[Tc](-1)[gd](-1);a.colSpan="2";var e=Rn(this,c,!1);a[v](e);Sn(a,!0,"zippy-header");Sn(a,!0,"hide");this.Lg=a;b=b[Tc](-1);a=b[gd](-1);c=Rn(this,c,!0);a[v](c);c=b[gd](-1);c.id=this.Ue;this.ng(c,d);this.Kg=b});hb(Qn[J],function(a,b){0!=a[H]&&this.ea[zd](zn(this.fa,Te([0],a)),b)});
var Tn=function(a,b){Sn(a.Lg,!b,"hide");Sn(a.Kg,b,"hide")},Vn=function(a,b){var c=Un(a,b);Ye(c,function(a,b){return a-b});for(var d=[],e=0;e<c[H];e++)d[B](c[e].index);return d};Qn[J].setVisible=function(a){Sn(bh(this.Ue),!a,"hide")};
var Sn=function(a,b,c){b?Pg(a,c):Rg(a,c)},Rn=function(a,b,c){var d=kh("div"),e=kh("img");e.src=c?"client/Minus_button.gif":"client/Plus_button.gif";eb(e,"zippy-control");e.onclick=Q(a.eh,a,"zip");d[v](e);c=kh("span");oh(c,b);Sn(c,!0,"chart-title");c.onclick=Q(a.eh,a,"sort");c.onmouseover=Q(a.Ji,a);c.onmouseout=Q(a.Mi,a);d[v](c);b=kh("span");Oa(b,"&#x25b2");Sn(b,!0,"sort");Sn(b,!0,"hide");b.onclick=Q(a.eh,a,"sort");b.onmouseover=Q(a.Ji,a);b.onmouseout=Q(a.Mi,a);d[v](b);return d};
Qn[J].ng=function(a,b){this.ea=new g[K].ColumnChart(a);this.fa=b};Qn[J].eh=function(a){var b={};b[a]=this.Ue;Ng(this,"statechange",b)};var Un=function(a,b){for(var c=[],d=0;d<b[H];d++)c[B]({value:a.fa[ed](0,b[d]),index:b[d]});return c};Qn[J].Ji=function(a){Wn(a[wd],!0)};Qn[J].Mi=function(a){Wn(a[wd],!1)};var Wn=function(a,b){Sn(a,b,"selectable");Ca(a[z],b?"pointer":"default")};Qn[J].D=function(){this.fa=null;g[K][Oc][Qb](this.ea);If(this.ea)};var Xn=function(){zg[L](this);this.ra={};this.Nb={width:500,height:100,hAxis:{textPosition:"none"},vAxis:{baseline:0,textStyle:{fontSize:12}},legend:{position:"none"}};this.Nh=50;this.a={Na:null,qa:null,Lb:null,Oa:null};this.mg=[];this.hc={};this.wd={};this.Mf=[]};T(Xn,zg);M=Xn[J];
Ba(M,function(a,b,c,d){mh(a);var e=kh("table");a[v](e);eb(e,"charts-table");this.Nh=d;for(a=1;a<b[Pc]();a++)d=b.getColumnId(a),this.ra[d]=new Qn,this.ra[d][$b](d,e,Yn(b.getColumnLabel(a),Zn(b)),$n(b,a)),V(this.ra[d],"statechange",Q(this.Ic,this));this.hc={};this.wd={};e=b[jd]();for(a=0;a<e;a++)d=b[ed](a,0),this.hc[d]=a+1,this.wd[a+1]=d;this.Mf=[];if(null!=c&&(b=c.origdsorder,null!=b))for(e=0;e<b[H];e++)b[e]in this.hc||this.Mf[B](e);this.Rf(c);ao(this,this.a.Oa,!0);c=this.a.Lb;for(b=0;b<c[H];b++)null!=
this.ra[c[b]]&&Tn(this.ra[c[b]],!0)});hb(M,function(a){null!=a&&(this.mg=a);this.Nb.colors=bo(this,this.mg);this.Nb.chartArea={left:40,width:this.Nh*this.a.qa[H]};r(this.Nb,this.Nb.chartArea[F]+this.Nb.chartArea[w]);a=Xf(this.ra);for(var b=0;b<a[H];b++)a[b].setVisible(0<this.a.qa[H]),a[b][zd](this.a.qa,this.Nb)});M.ig=function(){this.a.Na=[];this.a.qa=[];this.a.Lb=[];this.a.Oa=null};
M.Rf=function(a){this.ig();if(null!=a){null!=a.origdsorder&&(this.a.Na=co(this.hc,a.origdsorder));null!=a.dsorder&&(this.a.qa=co(this.hc,a.dsorder));if(null!=a.zippedmetrics)for(var b=a.zippedmetrics,c=0;c<b[H];c++)b[c]in this.ra&&this.a.Lb[B](b[c]);null!=a.sortedmetric&&(a=a.sortedmetric,a in this.ra&&(this.a.Oa=a))}};M.getState=function(){var a={};a.origdsorder=co(this.wd,this.a.Na);a.dsorder=co(this.wd,this.a.qa);a.sortedmetric=this.a.Oa;a.zippedmetrics=this.a.Lb;return a};
var eo=function(a){return co(a.wd,a.a.Na)},co=function(a,b){var c=[];if(null==b)return c;for(var d=0;d<b[H];d++)b[d]in a&&c[B](a[b[d]]);return c},Zn=function(a){return la(a.getTableProperty("totalrows"),10)!=a[jd]()},$n=function(a,b){var c=new g[K].DataTable;c.addColumn("string","x");for(var d=0;d<a[jd]();d++){var e=a[ed](d,0);c.addColumn("number",e)}c.addRow();c.setValue(0,0,"");for(d=1;d<c[Pc]();d++)c.setValue(0,d,a[ed](d-1,b));return c},Yn=function(a,b){return b?a:a[x]("AVERAGE(","")[x](")","")};
Xn[J].Ic=function(a){if(null!=a.zip){var b=a.zip,c=!Pe(this.a.Lb,b);Tn(this.ra[b],c);c?this.a.Lb[B](b):Se(this.a.Lb,b)}if(b=null!=a[Dd])if(a=a[Dd],null!=a){if(this.a.Oa==a)for(ao(this,this.a.Oa,!1),this.a.Oa=null,this.a.qa=[],a=0;a<this.a.Na[H];a++)this.a.qa[B](this.a.Na[a]);else null!=this.a.Oa&&ao(this,this.a.Oa,!1),this.a.Oa=a,ao(this,this.a.Oa,!0),this.a.qa=Vn(this.ra[this.a.Oa],this.a.Na);b=!0}else b=!1;if(b)for(a=Xf(this.ra),this.Nb.colors=bo(this,this.mg),b=0;b<a[H];b++)a[b][zd](this.a.qa,
this.Nb);Ng(this,"statechange")};var ao=function(a,b,c){null!=b&&null!=a.ra[b]&&(a=a.ra[b],Sn(dh(a.Lg),!c,"hide"),Sn(dh(a.Kg),!c,"hide"))},bo=function(a,b){for(var c=[],d=0;d<a.a.qa[H];d++)c[B](b[Ee(a.a.Na,a.a.qa[d])]);return c};Xn[J].D=function(){this.a.qa=null;this.a.Na=null;this.a.Lb=null;for(var a=Xf(this.ra),b=0;b<a[H];b++)tg(a[b]),a[b].D();this.ra=null};var fo=function(){Um[L](this);this.vb=this.g=this.c=null;this.cc={};this.Of=this.zh=this.Ah=null;this.Bh="";this.a={Ga:null,dc:null,center:null,zoom:null};this.la=new Xn};T(fo,Um);var go={polygonOptions:{fillColor:"#A9D0F5"}},ho={Pc:"usedcolors",kc:"availcolors",jg:"centerlat",kg:"centerlng",$b:"zoom",sj:"chartseries"},io=["#DC3912","#3366CC","#FF9900","#109618"];
Ba(fo[J],function(a,b,c,d){a=b.embed;this.wc=null!=a?a:!1;this.bc(d);Eh("html, body {margin: 0; padding: 0; height: 100%;}td {vertical-align: top;}#gviz_charts {overflow-y: auto; overflow-x: hidden;}#map_canvas {height: 100%; width: 100%;}#map_col {height: 100%; width: 60%; position: relative;}.chart-title {color: #0B00B0;}.charts-table {table-layout: fixed; width: 100%;border-top: 1px solid #DDD; border-bottom: 1px solid #DDD}.hide {display: none;}.legend-icon {font-family: sans-serif; font-size: 10pt;font-weight: bold; position: relative; float: left; padding: 5px; margin-right: 10px;}.main-table {width: 100%; height: 100%;}.selectable {text-decoration: underline;}.zippy-control {height: 15px; width: 15px; padding-right: 2px;}.zippy-header {padding-top: 3px;}");d=
jo(b.containerId);this.c=bh(d);Ae(null!=this.c);eb(this.c,"");d=Dh(this.c)[A];a=kh("table");eb(a,"main-table");this.c[v](a);c=a[Tc](-1)[gd](-1);c.id="legend";c.colSpan="2";a=a[Tc](-1);c=a[gd](-1);c.id="map_col";var e=kh("div");c[v](e);e.id="map_canvas";a=a[gd](-1);c=kh("div");a[v](c);c.id="gviz_charts";c[z].maxHeight=d-30+"px";this.og(b)});fo[J].og=function(a){var b=jo(a.q);null!=a.w&&(b+=a.w);null!=a.qe&&(b+=a.qe);Mm(b,this.sb,null,null,null,"1")[Cb](Q(this.Pd,this,a))};
fo[J].Pd=function(a,b){this.Ah=jo(a.maptbl);this.zh=jo(a.mapcol);this.Of=jo(a.maplbl);var c=a.w;if(null!=c)var d=oa(se("where "),""),c=c[x](d,"");else c="";this.Bh=c;var c=a.state,c=null!=c?Sd(c)?c:Cg(c):{},d=b[ub](),e=c.chartseries;this.la=new Xn;V(this.la,"statechange",Q(this.Ic,this));this.la[$b](bh("gviz_charts"),d,e,this.wc?25:50);this.Rf(ko(c,Ue(this.la.Mf)));this.la[zd](this.a.Ga);c=null!=a.lat0&&null!=a.lat1&&null!=a.lng0&&null!=a.lng1?new g[lc].LatLngBounds(new g[lc][Kb](a.lat0,a.lng0),new g[lc][Kb](a.lat1,
a.lng1)):null;this.g=new g[lc].Map(bh("map_canvas"),{mapTypeId:g[lc].MapTypeId.ROADMAP});null!=this.a&&null!=this.a[kb]&&null!=this.a[Ld]?(this.g[nd](this.a[kb]),this.g[Ib](this.a[Ld])):null!=c?this.g.fitBounds(c):(this.g[nd](new g[lc][Kb](37.423,-122.084)),this.g[Ib](3));g[lc][Kd][jc](this.g,"center_changed",Q(this.oj,this));g[lc][Kd][jc](this.g,"zoom_changed",Q(this.pj,this));lo(this);this.cc={};c=eo(this.la);for(d=0;d<c[H];d++)mo(this,c[d],this.a.Ga[d]);this.vb=new g[lc].FusionTablesLayer({suppressInfoWindows:!0,
map:this.g,heatmap:{enabled:!1},query:{select:this.zh,from:this.Ah,where:this.Bh},styles:Te([go],Xf(this.cc))});this.vb.set("ui_token",this.sb);g[lc][Kd][jc](this.vb,"click",Q(this.nj,this))};var ko=function(a,b){if(0==b[H])return a;var c={};c[ho.Pc]=[];c[ho.kc]=a[ho.kc];for(var d=a[ho.Pc],e=0;e<d[H];e++)Pe(b,d[e])?c[ho.kc][B](d[e]):c[ho.Pc][B](d[e]);Xe(c[ho.kc]);return c};fo[J].oj=function(){qa(this.a,this.g[Lc]());this.Ic()};fo[J].pj=function(){ib(this.a,this.g[md]());this.Ic()};
fo[J].nj=function(a){no(this,a.row[this.Of][Qc])&&(lo(this),this.vb.styles=Te([go],Xf(this.cc)),this.vb.set("ui_token",this.sb),this.vb.setMap(this.g),this.la[zd](this.a.Ga),this.Ic())};
var no=function(a,b){var c;c=a.la;c=b in c.hc?c.hc[b]:-1;if(0>c)return!1;if(Pe(a.la.a.Na,c)){var d=a.la;Se(d.a.Na,c);Se(d.a.qa,c);c=a.cc[b].polygonOptions.fillColor;a.a.dc[B](c);a.a.Ga.splice(Ee(a.a.Ga,c),1);delete a.cc[b];return!0}if(0==a.a.dc[H])return fa("Only "+io[H]+" regions can be selected for comparison. Please click on a selected region to remove it from the charts."),!1;d=a.la;d.a.Na[B](c);d.a.qa[B](c);a.a.Ga[B](a.a.dc[lb]());mo(a,b);return!0},mo=function(a,b,c){a.cc[b]={where:"'"+a.Of+
"' = '"+b+"'",polygonOptions:{fillColor:null!=c?c:a.a.Ga[a.a.Ga[H]-1]}}},oo=function(a){var b=[];if(null!=a)for(var c=0;c<a[H];c++)b[B](io[a[c]]);return b},po=function(a){for(var b=[],c=0;c<a[H];c++)b[B](Ee(io,a[c]));return b},lo=function(a){var b=bh("legend");Oa(b,"");var c=eo(a.la);if(0==c[H])b[v](qo("Select a region to view metrics. Click on a metric title to sort by that metric."));else{b[v](qo("Selected:"));for(var d=0;d<c[H];d++)b[v](qo(c[d],a.a.Ga[d]))}},qo=function(a,b){var c=kh("div");oh(c,
a);eb(c,"legend-icon");null!=b&&(c[z].backgroundColor=b,Pa(c[z],"#FFF"));return c};M=fo[J];M.Ic=function(){var a={};a[ho.Pc]=po(this.a.Ga);a[ho.kc]=po(this.a.dc);null==this.a[kb]&&qa(this.a,this.g[Lc]());a[ho.jg]=this.a[kb].lat();a[ho.kg]=this.a[kb].lng();null==this.a[Ld]&&ib(this.a,this.g[md]());a[ho.$b]=this.a[Ld];a[ho.sj]=this.la.getState();Ng(this,"statechange",{visType:"mapcharts",state:Gg(a)})};M.ig=function(){this.a.Ga=[];this.a.dc=Ue(io);qa(this.a,null);ib(this.a,null)};
M.Rf=function(a){var b;if(!(b=null==a))t:{for(var c in a){b=!1;break t}b=!0}b?this.ig():(null!=a[ho.Pc]&&(this.a.Ga=oo(a[ho.Pc])),null!=a[ho.kc]&&(this.a.dc=oo(a[ho.kc])),null!=a[ho.jg]&&null!=a[ho.kg]&&qa(this.a,new g[lc][Kb](a[ho.jg],a[ho.kg])),null!=a[ho.$b]&&ib(this.a,a[ho.$b]))};bb(M,function(){});
M.D=function(){this.a.Ga=null;this.a.dc=null;qa(this.a,null);this.cc=null;null!=this.g&&(g[lc][Kd].clearListeners(this.g,"center_changed"),g[lc][Kd].clearListeners(this.g,"zoom_changed"),this.g=null);null!=this.vb&&(g[lc][Kd].clearListeners(this.vb,"click"),this.vb=null);null!=this.la&&(tg(this.la),this.la.D(),this.la=null);mh(this.c)};var jo=function(a){Ae(null!=a);return a};Ym("mapcharts",fo);var ro=function(a,b,c){Za(this,a);this.U=b;cg(this.U,c||{});this.da=null};S("amoeba.provider.ExampleProvider",ro);ro[J].Ak=function(){return this.U};ro[J].getParams=ro[J].Ak;Ha(ro[J],function(){this.da=null});Ha(ro[J],ro[J][zc]);ro[J].H=function(){this.da||(this.da=this.Ia());return this.da};ro[J].getGraph=ro[J].H;ro[J].createGraph=ro[J].Ia;var so=function(a){ro[L](this,"Chain",{size:10,nodeImportance:1,edgeWeight:1},a);Za(this,"Chain")};T(so,ro);S("amoeba.provider.ChainProvider",so);
so[J].Ia=function(){for(var a=this.U.nodeImportance,b=this.U.edgeWeight,c=this.U[ac],d=new Y,e=null,f=0;f<c;f++){var h=new X(f,"node #"+f);h.Ua(a);d.Ca(h);e&&d.wa(new cj(h,e,!0,"",b));e=h}return d};so[J].createGraph=so[J].Ia;var to=function(a){ro[L](this,"Cycle",{size:10,nodeImportance:1,edgeWeight:1},a)};T(to,ro);S("amoeba.provider.CycleProvider",to);
to[J].Ia=function(){for(var a=this.U.nodeImportance,b=this.U.edgeWeight,c=this.U[ac],d=new Y,e=0;e<c;e++){var f=new X(e,"node #"+e);f.Ua(a);d.Ca(f)}for(e=0;e<c;e++)d.wa(new cj(d.n(e),d.n((e+1)%c),!0,"",b));return d};to[J].createGraph=to[J].Ia;var uo=function(a){ro[L](this,"Balanced Tree",{depth:4,breadth:2,nodeImportance:1,edgeWeight:1},a)};T(uo,ro);S("amoeba.provider.TreeProvider",uo);
uo[J].Ia=function(){function a(d,h){for(var s=0;s<e;s++){var u=new X(++k,"node #"+k);u.Ua(b);f.Ca(u);f.wa(new cj(d,u,!0,"",c));0<h&&a(u,h-1)}}var b=this.U.nodeImportance,c=this.U.edgeWeight,d=this.U.depth,e=this.U.breadth,f=new Y,h=new X(0,"root");h.Ua(b);f.Ca(h);var k=0;a(h,d-1);return f};uo[J].createGraph=uo[J].Ia;var vo=function(a){ro[L](this,"M x N Grid",{width:5,height:3,nodeImportance:1,edgeWeight:1},a)};T(vo,ro);S("amoeba.provider.GridProvider",vo);
vo[J].Ia=function(){for(var a=this.U.nodeImportance,b=this.U.edgeWeight,c=this.U[w],d=this.U[A],e=new Y,f=c*d,h=0;h<f;h++){var k=new X(h,"("+h%c+", "+~~(h/c)+")");k.Ua(a);e.Ca(k)}for(a=0;a<c;a++)for(f=0;f<d;f++){h=a+f*c;if(0<a){var k=e.n(h),n=e.n(h-1);e.wa(new cj(k,n,!0,"",b))}0<f&&(k=e.n(h),n=e.n(h-c),e.wa(new cj(k,n,!0,"",b)))}return e};vo[J].createGraph=vo[J].Ia;var wo=function(a){ro[L](this,"Connected Clusters",{numClusters:3,clusterSize:5,numBridges:1,nodeImportance:1,edgeWeight:1},a)};
T(wo,ro);S("amoeba.provider.ClusterProvider",wo);wo[J].Ia=function(){for(var a=this.U.nodeImportance,b=this.U.edgeWeight,c=this.U.numClusters,d=this.U.numBridges,e=this.U.clusterSize,f=e*c,h=new Y,k=0;k<f;k++){var n=new X(k,"node #"+k);n.Ua(a);h.Ca(n)}for(k=0;k<c;k++)for(a=k*e,f=0;f<e;f++)for(n=0;n<f;n++){var q=h.n(a+f),s=h.n(a+n);h.wa(new cj(q,s,!0,"",b))}for(k=0;k<c;k++)for(f=0;f<k;f++)for(n=0;n<d;n++)q=h.n(k*e+n),s=h.n(f*e+n),h.wa(new cj(q,s,!0,"",b));return h};wo[J].createGraph=wo[J].Ia;
var xo=function(a,b){ro[L](this,a,{});this.description=b};T(xo,ro);S("amoeba.provider.DescriptionProvider",xo);xo[J].Ia=function(){return fj(this.description)};xo[J].createGraph=xo[J].Ia;var yo=function(a,b){this.zc=a;this.va=b||a.n(0);this[zc]()};S("amoeba.provider.ExpandableGraphProvider",yo);Ha(yo[J],function(){var a=this.va,b,c;a.b&&(b=a.b[y].x,c=a.b[y].y);this.na=new Y;a=new X(a.id,a[G],b,c,a.ua(),a.ma);this.na.Ca(a)});Ha(yo[J],yo[J][zc]);yo[J].H=function(){return this.na};yo[J].getGraph=yo[J].H;
yo[J].Mh=function(a,b){if(0!==b){var c=b||1,d=this.zc.n(a.id),e=d.o;if(0!=e[H]&&a.se()!=d.se()){for(var f=2*l.PI/(e[H]+1),h=[],k=0;k<e[H];k++){var n=dj(e[k],d);if(!zo(this,n)){var q=k*f,s=void 0,u=void 0;a.b&&(s=a.b[y].x+2*a[Wc]*l.cos(q),u=a.b[y].y+2*a[Wc]*l.sin(q));n=new X(n.id,n[G],s,u,n.ua(),n.ma);this.na.Ca(n);h[B](n)}}for(k=0;k<h[H];k++)n=h[k],Ao(this,n),this.Mh(n,c-1)}}};yo[J].expandNode=yo[J].Mh;
yo[J].yk=function(a){var b=this.zc.n(a.id),c=aj(b);if(0!=c[H])if(aj(a)[H]==aj(b)[H]){c=a.id;a=this.H();var d=a.n(c);if(d){b=new sj;b.add(c);var e=[];for(e[B](aj(d));0<e[H];)if(d=e[e[H]-1],0<d[H]){if(d=d.pop().l,!b[xc](d.id)){var f=!0,h,k=d;h=[];for(var n=0;n<k.o[H];n++)k.o[n].qb&&k.o[n].l!=k||h[B](k.o[n]);for(k=0;k<h[H];k++)if(!b[xc](h[k].k.id)){f=!1;break}f&&(b.add(d.id),e[B](aj(d)))}}else e.pop();b[Db](c);c=b.V();for(k=0;k<c[H];k++)a[tc](c[k])}}else{b=2*l.PI/(c[H]+1);e=[];for(d=0;d<c[H];d++)f=c[d].l,
zo(this,f)||(k=d*b,f=new X(f.id,f[G],a.b[y].x+2*a[Wc]*l.cos(k),a.b[y].y+2*a[Wc]*l.sin(k),f.ua(),f.ma),this.na.Ca(f),e[B](f));for(d=0;d<e[H];d++)f=e[d],Ao(this,f)}};yo[J].expandOrCollapseNodeInDAG=yo[J].yk;var Ao=function(a,b){for(var c=a.zc.n(b.id),d=0;d<c.o[H];d++){var e=c.o[d],f=zo(a,e.k),h=zo(a,e.l);f&&h&&(e=new cj(f,h,e.qb,e.ua(),e[mb]),a.na.wa(e))}},zo=function(a,b){return a.H().n(b.id)};var en=function(a,b){this.zc=a;this.le=[];this.hd=0;this.ke=[];this.fd=0;this.Hf=[];this.na=new Y;var c=b||{};if(0<a.m()&&c.computeImportance){for(var d=0,e=0;e<a.m();e++){for(var f=a.r(e),h=0,k=0;k<f.o[H];k++)h+=f.o[k][mb];f.Ua(h);d=l.max(d,h)}c=(c.maxImportance||20)/d;for(e=0;e<a.m();e++)f=a.r(e),f.Ua(f.ma*c);for(e=0;e<a.Za();e++)f=a.pb(e),bj(f,f[mb]*c)}for(e=0;e<a.m();e++)this.le[B](a.r(e));this.le[Dd](function(a,b){return b.ma-a.ma});for(e=0;e<a.Za();e++)this.ke[B](a.pb(e));this.ke[Dd](function(a,
b){return b[mb]-a[mb]})};S("amoeba.provider.LocalImportanceProvider",en);en[J].H=function(){return this.na};en[J].getGraph=en[J].H;Ha(en[J],function(){this.na=new Y;this.fd=this.hd=0});Ha(en[J],en[J][zc]);en[J].Ck=function(){return this.zc.m()};en[J].getTotalNodeCount=en[J].Ck;
en[J].ii=function(a,b){var c=this.na,d;d=this.na;for(var e,f=0;f<d.m();f++){var h=d.r(f);if(h.b)if(h=h.b[y],e){var k=e;k.O=l.min(h.x,k.O);k.R=l.min(h.y,k.R);k.Z=l.max(h.x,k.Z);k.ja=l.max(h.y,k.ja)}else e=Ek(h,0,0)}if(e&&0!=e[w]()&&0!=e[A]()){f=e[w]()/l[$c](d.m());e=new mm(e,f,f);for(f=0;f<d.m();f++)h=d.r(f),h.b&&(h=h.b[y],e.Bb(Ek(h,0,0)));d=e}else d=null;e=[];if(0<a)for(;this.hd<this.le[H];this.hd++)if(h=this.le[this.hd],!c.n(h.id)){Bo(this,h,d);for(f=0;f<h.o[H];f++)e[B](h.o[f]);if(0==--a)break}if(0<
b)for(;this.fd<this.ke[H];this.fd++)if(h=this.ke[this.fd],!c.Gb.get(gj(h.k.id,h.l.id))){k=c.n(h.k.id);if(!k)for(k=Bo(this,h.k,d),f=0;f<h.k.o[H];f++)e[B](h.k.o[f]);var n=c.n(h.l.id);if(!n)for(n=Bo(this,h.l,d),f=0;f<h.l.o[H];f++)e[B](h.l.o[f]);c.wa(new cj(k,n,h.qb,h.ua(),h[mb]));if(0==--b)break}for(f=0;f<e[H];f++)h=e[f],c.Gb.get(gj(h.k.id,h.l.id))||(k=c.n(h.k.id),n=c.n(h.l.id),k&&n&&c.wa(new cj(k,n,h.qb,h.ua(),h[mb])))};en[J].expandGraph=en[J].ii;
en[J].hi=function(a){for(;0<this.Hf[H]&&0<a--;)this.na[tc](this.Hf.pop());this.fd=this.hd=0};en[J].contractGraph=en[J].hi;en[J].li=function(){for(var a=this.na,b=[],c=0;c<a.m();c++)b[B](a.r(c));b[Dd](function(a,b){return b.ma-a.ma});a=[];a[B]("1");for(c=0;c<b[H];c++)a[B](b[c].id[Wb](36)),b[c].b?(a[B](l[D](b[c].b[y].x)[Wb](36)),a[B](l[D](b[c].b[y].y)[Wb](36))):(a[B](""),a[B](""));a[B]("");return a[Id]("_")};en[J].saveState=en[J].li;
en[J].Eh=function(a){var b=a[cc]("_");if(!b||2>b[H])return!1;var c=0;if("1"!=b[c++])return!1;var d=l[rb]((b[H]-2)/3);this[zc]();a=[];for(var e=0;e<d;e++){var f=la(b[c++],36),h=la(b[c++],36),k=la(b[c++],36);if(f=this.zc.n(f))for(ia(h)||ia(k)?Bo(this,f,null):Bo(this,f,null,h,k),h=0;h<f.o[H];h++)a[B](f.o[h])}b=this.na;for(e=0;e<a[H];e++)c=a[e],b.Gb.get(gj(c.k.id,c.l.id))||(d=b.n(c.k.id),h=b.n(c.l.id),d&&h&&b.wa(new cj(d,h,c.qb,c.ua(),c[mb])));return!0};en[J].restoreState=en[J].Eh;
var Bo=function(a,b,c,d,e){var f=a.na.n(b.id);if(!f){if(O(d)&&O(e))c=new W(d,e);else t:{for(var h=e=d=f=0;h<b.o[H];h++){var k=a.na.n(dj(b.o[h],b).id);k&&k.b&&(f+=k.b[y].x,d+=k.b[y].y,e++)}if(0<e)c=new W(f/e+10*l[oc]()-5,d/e+10*l[oc]()-5);else{if(c)for(f=c.ad(),d=l.min(f[w](),f[A]())/4,e=0;40>e;e++){h=l[oc]()*f[w]()+f.O;k=l[oc]()*f[A]()+f.R;h=new W(h,k);if(c.Bb(Ek(h,d,d))){c=h;break t}d*=0.9}c=null}}var f=new X(b.id,b[G],c?c.x:void 0,c?c.y:void 0,b.ua(),b.ma),n;for(n in b.Ib)b.Ib[hc](n)&&f.setProperty(n,
b.Ib[n]);f.Qf=b.se();f.setProperty("fullName",f[G]||"");f[G]&&25<f[G][H]&&(b=f,n=f[G][Ed](0,22)+"...",Za(b,n),Za(b,n));a.na.Ca(f);a.Hf[B](f.id)}return f};var Co=function(a,b,c){X[L](this,c,null);this.C=a;this.Hc=b;this.zi=!1};T(Co,X);var Do=function(a,b,c){if(!a.zi){if(b[G]){var d=b[G];Za(a,d);Za(a,d)}b.degree&&(a.Qf=b.degree);a.Ua((b.importance||1)*c);if(b=b.prop)for(var e in b)a.setProperty(e,b[e]);a.zi=!0}},Eo=function(a,b){if(!O(a.oc)){a.oc=[];var c=b.edges;if(c)for(var d=0;d<c[H];d++)a.oc[B]({id:c[d].node.id,weight:c[d][mb]||1})}},Fo=function(){this.B=new Kh;this.dk=0};Fo[J].r=function(a,b){return this.B.get(a+":"+b)};
var Go=function(a,b,c){var d=b+":"+c,e=a.B.get(d);if(e)return e;e=new Co(b,c,a.dk++);a.B.set(d,e);return e};Fo[J].size=function(){return this.B.L()};var Ho=function(){};Ho[J].Qi=null;Ho[J].getOptions=function(){var a;(a=this.Qi)||(a={},Io(this)&&(a[0]=!0,a[1]=!0),a=this.Qi=a);return a};var Jo,Ko=function(){};T(Ko,Ho);var Lo=function(a){return(a=Io(a))?new ActiveXObject(a):new XMLHttpRequest},Io=function(a){if(!a.Ri&&"undefined"==typeof XMLHttpRequest&&"undefined"!=typeof ActiveXObject){for(var b=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],c=0;c<b[H];c++){var d=b[c];try{return new ActiveXObject(d),a.Ri=d}catch(e){}}throw m("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed");}return a.Ri};Jo=new Ko;var Mo=function(a){zg[L](this);this.headers=new Kh;this.Ee=a||null;this.Kb=!1;this.ze=this.v=null;this.Sh=this.De="";this.Mc=0;this.yd="";this.ic=this.lg=this.ye=this.pg=!1;this.zb=0;this.Be=null;this.Jc="";this.Ce=this.wj=!1};T(Mo,zg);Mo[J].K=Rj("goog.net.XhrIo");var No=/^https?$/i,Oo=["POST","PUT"];Mo[J].zg=function(a){this.zb=l.max(0,a)};Mo[J].gi=function(){return this.Jc};
Mo[J].send=function(a,b,c,d){if(this.v)throw m("[goog.net.XhrIo] Object is active with another request="+this.De+"; newUri="+a);b=b?b[Hd]():"GET";this.De=a;this.yd="";this.Mc=0;this.Sh=b;this.pg=!1;this.Kb=!0;this.v=this.Ee?Lo(this.Ee):Lo(Jo);this.ze=this.Ee?this.Ee.getOptions():Jo.getOptions();this.v.onreadystatechange=Q(this.Uh,this);try{ak(this.K,Po(this,"Opening Xhr")),this.lg=!0,this.v.open(b,p(a),!0),this.lg=!1}catch(e){ak(this.K,Po(this,"Error opening Xhr: "+e[gc]));Qo(this,e);return}a=c||
"";var f=this.headers[kc]();d&&qj(d,function(a,b){f.set(b,a)});d=Oe(f.La());c=N.FormData&&a instanceof N.FormData;!Pe(Oo,b)||d||c||f.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");qj(f,function(a,b){this.v.setRequestHeader(b,a)},this);this.Jc&&(this.v.responseType=this.Jc);"withCredentials"in this.v&&(this.v.withCredentials=this.wj);try{Zo(this),0<this.zb&&(this.Ce=$o(this.v),ak(this.K,Po(this,"Will abort after "+this.zb+"ms if incomplete, xhr2 "+this.Ce)),this.Ce?(this.v.timeout=
this.zb,this.v.ontimeout=Q(this.Vh,this)):this.Be=bk(this.Vh,this.zb,this)),ak(this.K,Po(this,"Sending request")),this.ye=!0,this.v[Cb](a),this.ye=!1}catch(h){ak(this.K,Po(this,"Send error: "+h[gc])),Qo(this,h)}};var $o=function(a){return U&&Cf(9)&&Yd(a.timeout)&&O(a.ontimeout)},Ne=function(a){return"content-type"==a[Jd]()};Mo[J].Vh=function(){"undefined"!=typeof Md&&this.v&&(this.yd="Timed out after "+this.zb+"ms, aborting",this.Mc=8,ak(this.K,Po(this,this.yd)),this[xb]("timeout"),this[pd](8))};
var Qo=function(a,b){a.Kb=!1;a.v&&(a.ic=!0,a.v[pd](),a.ic=!1);a.yd=b;a.Mc=5;ap(a);bp(a)},ap=function(a){a.pg||(a.pg=!0,a[xb]("complete"),a[xb]("error"))};Mo[J].abort=function(a){this.v&&this.Kb&&(ak(this.K,Po(this,"Aborting")),this.Kb=!1,this.ic=!0,this.v[pd](),this.ic=!1,this.Mc=a||7,this[xb]("complete"),this[xb]("abort"),bp(this))};Mo[J].e=function(){this.v&&(this.Kb&&(this.Kb=!1,this.ic=!0,this.v[pd](),this.ic=!1),bp(this,!0));Mo.J.e[L](this)};
Mo[J].Uh=function(){this.Oe||(this.lg||this.ye||this.ic?cp(this):this.lk())};Mo[J].lk=function(){cp(this)};
var cp=function(a){if(a.Kb&&"undefined"!=typeof Md)if(a.ze[1]&&4==dp(a)&&2==a[Ad]())ak(a.K,Po(a,"Local request error detected and ignored"));else if(a.ye&&4==dp(a))bk(a.Uh,0,a);else if(a[xb]("readystatechange"),4==dp(a)){ak(a.K,Po(a,"Request complete"));a.Kb=!1;try{if(ep(a))a[xb]("complete"),a[xb]("success");else{a.Mc=6;var b;try{b=2<dp(a)?a.v.statusText:""}catch(c){ak(a.K,"Can not get status: "+c[gc]),b=""}a.yd=b+" ["+a[Ad]()+"]";ap(a)}}finally{bp(a)}}},bp=function(a,b){if(a.v){Zo(a);var c=a.v,d=
a.ze[0]?Od:null;a.v=null;a.ze=null;b||a[xb]("ready");try{c.onreadystatechange=d}catch(e){(c=a.K)&&c.log(Fj,"Problem encountered resetting onreadystatechange: "+e[gc],void 0)}}},Zo=function(a){a.v&&a.Ce&&(a.v.ontimeout=null);Yd(a.Be)&&(N.clearTimeout(a.Be),a.Be=null)},ep=function(a){var b=a[Ad](),c;t:switch(b){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:c=!0;break t;default:c=!1}if(!c){if(b=0===b)a=nk(p(a.De))[1]||null,!a&&self[fc]&&(a=self[fc].protocol,a=a[Vb](0,a[H]-1)),b=!No[Hc](a?
a[Jd]():"");c=b}return c},dp=function(a){return a.v?a.v.readyState:0};Mo[J].getStatus=function(){try{return 2<dp(this)?this.v.status:-1}catch(a){return-1}};var Po=function(a,b){return b+" ["+a.Sh+" "+a.De+" "+a[Ad]()+"]"};var fp=function(a){this.Ug=a;this.G={}};T(fp,Hf);var gp=[];fp[J].Ig=function(a,b,c,d){Qd(b)||(gp[0]=b,b=gp);for(var e=0;e<b[H];e++){var f=V(a,b[e],c||this[Mb],d||!1,this.Ug||this);if(!f)break;this.G[f.key]=f}return this};fp[J].Ti=function(a,b,c,d){return hp(this,a,b,c,d)};var hp=function(a,b,c,d,e,f){if(Qd(c))for(var h=0;h<c[H];h++)hp(a,b,c[h],d,e,f);else{b=qg(b,c,d||a[Mb],e,f||a.Ug||a);if(!b)return a;a.G[b.key]=b}return a};
fp[J].Cd=function(a,b,c,d,e){if(Qd(b))for(var f=0;f<b[H];f++)this.Cd(a,b[f],c,d,e);else c=c||this[Mb],e=e||this.Ug||this,c=lg(c),d=!!d,b=Mf(a)?a.Kd(b,c,d,e):a?(a=ng(a))?a.Kd(b,c,d,e):null:null,b&&(sg(b),delete this.G[b.key]);return this};fp[J].removeAll=function(){Of(this.G,sg);this.G={}};fp[J].e=function(){fp.J.e[L](this);this.removeAll()};fp[J].handleEvent=function(){throw m("EventHandler.handleEvent not implemented");};var ip=function(){this.qc=this.Ab=0;this.Rb=[]};M=ip[J];M.Oc=function(a){this.Rb[this.qc++]=a};M.ec=function(){if(this.Ab!=this.qc){var a=this.Rb[this.Ab];delete this.Rb[this.Ab];this.Ab++;return a}};M.L=function(){return this.qc-this.Ab};La(M,function(){return 0==this.qc-this.Ab});xa(M,function(){cb(this.Rb,0);this.qc=this.Ab=0});Ga(M,function(a){return Pe(this.Rb,a)});ta(M,function(a){a=Ee(this.Rb,a);if(0>a)return!1;a==this.Ab?this.ec():(Re(this.Rb,a),this.qc--);return!0});
M.V=function(){return this.Rb[Kc](this.Ab,this.qc)};var jp=function(a,b){this.ei=a||0;this.Me=b||10;if(this.ei>this.Me)throw m("[goog.structs.Pool] Min can not be greater than max");this.kb=new ip;this.gb=new sj;this.sg=0;this.Hg=null;this.Je()};T(jp,Hf);jp[J].Ie=function(){var a=R();if(!(null!=this.Hg&&a-this.Hg<this.sg)){for(var b;0<this.kb.L()&&(b=this.kb.ec(),!this.Fg(b));)this.Je();!b&&this.L()<this.Me&&(b=this.Eg());b&&(this.Hg=a,this.gb.add(b));return b}};jp[J].Ad=function(a){this.gb[Db](a);this.Fg(a)&&this.L()<this.Me?this.kb.Oc(a):kp(a)};
jp[J].Je=function(){for(var a=this.kb;this.L()<this.ei;)a.Oc(this.Eg());for(;this.L()>this.Me&&0<this.kb.L();)kp(a.ec())};jp[J].Eg=function(){return{}};var kp=function(a){if("function"==typeof a.D)a.D();else for(var b in a)a[b]=null};M=jp[J];M.Fg=function(a){return"function"==typeof a.vk?a.vk():!0};Ga(M,function(a){return this.kb[xc](a)||this.gb[xc](a)});M.L=function(){return this.kb.L()+this.gb.L()};La(M,function(){return this.kb[Gc]()&&this.gb[Gc]()});
M.e=function(){jp.J.e[L](this);if(0<this.gb.L())throw m("[goog.structs.Pool] Objects not released");delete this.gb;for(var a=this.kb;!a[Gc]();)kp(a.ec());delete this.kb};var lp=function(a,b){this.Oi=a;this.Pi=b};lp[J].getKey=function(){return this.Oi};lp[J].getValue=function(){return this.Pi};Da(lp[J],function(){return new lp(this.Oi,this.Pi)});var mp=function(a){this.B=[];if(a)t:{var b,c;if(a instanceof mp){if(b=a.La(),c=a.V(),0>=a.L()){a=this.B;for(var d=0;d<b[H];d++)a[B](new lp(b[d],c[d]));break t}}else b=Yf(a),c=Xf(a);for(d=0;d<b[H];d++)this.Bb(b[d],c[d])}};M=mp[J];M.Bb=function(a,b){var c=this.B;c[B](new lp(a,b));for(var c=c[H]-1,d=this.B,e=d[c];0<c;){var f=c-1>>1;if(d[f][Xc]()>e[Xc]())d[c]=d[f],c=f;else break}d[c]=e};
ta(M,function(){var a=this.B,b=a[H],c=a[0];if(!(0>=b)){if(1==b)Qe(a);else{a[0]=a.pop();for(var a=0,b=this.B,d=b[H],e=b[a];a<d>>1;){var f=2*a+1,h=2*a+2,f=h<d&&b[h][Xc]()<b[f][Xc]()?h:f;if(b[f][Xc]()>e[Xc]())break;b[a]=b[f];a=f}b[a]=e}return c[ed]()}});M.V=function(){for(var a=this.B,b=[],c=a[H],d=0;d<c;d++)b[B](a[d][ed]());return b};M.La=function(){for(var a=this.B,b=[],c=a[H],d=0;d<c;d++)b[B](a[d][Xc]());return b};M.bf=function(a){return He(this.B,function(b){return b[ed]()==a})};
M.xb=function(a){return He(this.B,function(b){return b[Xc]()==a})};Da(M,function(){return new mp(this)});M.L=function(){return this.B[H]};La(M,function(){return 0==this.B[H]});xa(M,function(){Qe(this.B)});var np=function(){mp[L](this)};T(np,mp);np[J].Oc=function(a,b){this.Bb(a,b)};np[J].ec=function(){return this[Db]()};var op=function(a,b){this.bi=void 0;this.wb=new np;jp[L](this,a,b)};T(op,jp);M=op[J];M.Ie=function(a,b){if(!a){var c=op.J.Ie[L](this);c&&this.sg&&(this.bi=N[bc](Q(this.Re,this),this.sg));return c}this.wb.Oc(O(b)?b:100,a);this.Re()};M.Re=function(){for(var a=this.wb;0<a.L();){var b=this.Ie();if(b)a.ec()[yc](this,[b]);else break}};M.Ad=function(a){op.J.Ad[L](this,a);this.Re()};M.Je=function(){op.J.Je[L](this);this.Re()};M.e=function(){op.J.e[L](this);N.clearTimeout(this.bi);this.wb[Nb]();this.wb=null};var pp=function(a,b,c){op[L](this,b,c);this.Cg=a};T(pp,op);pp[J].Eg=function(){var a=new Mo,b=this.Cg;b&&qj(b,function(b,d){a.headers.set(d,b)});return a};pp[J].Fg=function(a){return!a.Oe&&!a.v};var qp=function(a,b,c,d,e){zg[L](this);this.Bd=O(a)?a:1;this.zb=O(e)?l.max(0,e):0;this.Lc=new pp(b,c,d);this.Va=new Kh;this.ud=new fp(this)};T(qp,zg);var rp="ready complete success error abort timeout".split(" ");M=qp[J];M.zg=function(a){this.zb=l.max(0,a)};M.send=function(a,b,c,d,e,f,h,k,n){if(this.Va.get(a))throw m("[goog.net.XhrManager] ID in use");b=new sp(b,Q(this.Zj,this,a),c,d,e,h,O(k)?k:this.Bd,n);this.Va.set(a,b);a=Q(this.Yj,this,a);this.Lc.Ie(a,f);return b};
M.abort=function(a,b){var c=this.Va.get(a);if(c){var d=c.xd;c.Yh=!0;b&&(d&&(this.ud.Cd(d,rp,c.tg),qg(d,"ready",function(){var a=this.Lc;a.gb[Db](d)&&a.Ad(d)},!1,this)),this.Va[Db](a));d&&d[pd]()}};M.Yj=function(a,b){var c=this.Va.get(a);c&&!c.xd?(this.ud.Ig(b,rp,c.tg),b.zg(this.zb),b.Jc=c.gi(),c.xd=b,this[xb](new tp("ready",this,a,b)),up(this,a,b),c.Yh&&b[pd]()):(c=this.Lc,c.gb[Db](b)&&c.Ad(b))};
M.Zj=function(a,b){var c=b[wd];switch(b[cd]){case "ready":up(this,a,c);break;case "complete":t:{var d=this.Va.get(a);if(7==c.Mc||ep(c)||d.Ke>d.Bd)if(this[xb](new tp("complete",this,a,c)),d&&(d.ai=!0,d.mi)){c=d.mi[L](c,b);break t}c=null}return c;case "success":this[xb](new tp("success",this,a,c));break;case "timeout":case "error":d=this.Va.get(a);d.Ke>d.Bd&&this[xb](new tp("error",this,a,c));break;case "abort":this[xb](new tp("abort",this,a,c))}return null};
var up=function(a,b,c){var d=a.Va.get(b);!d||d.ai||d.Ke>d.Bd?(d&&(a.ud.Cd(c,rp,d.tg),a.Va[Db](b)),a=a.Lc,a.gb[Db](c)&&a.Ad(c)):(d.Ke++,c[Cb](d.getUrl(),d.Ij,d.getContent(),d.Cg))};qp[J].e=function(){qp.J.e[L](this);this.Lc.D();this.Lc=null;this.ud.D();this.ud=null;var a=this.Va;qj(a,function(a){a.D()});a[Nb]();this.Va=null};var tp=function(a,b,c,d){Jf[L](this,a,b);this.id=c;this.xd=d};T(tp,Jf);
var sp=function(a,b,c,d,e,f,h,k){this.Vj=a;this.Ij=c||"GET";this.Uj=d;this.Cg=e||null;this.Bd=O(h)?h:1;this.Ke=0;this.Yh=this.ai=!1;this.tg=b;this.mi=f;this.Jc=k||"";this.xd=null};sp[J].getUrl=function(){return this.Vj};sp[J].getContent=function(){return this.Uj};sp[J].gi=function(){return this.Jc};var vp=function(a){this.nb=new qp(2);this.mc=new Kh;this.nb.zg(5E3);V(this.nb,"success",Q(this.Ci,this));V(this.nb,"error",Q(this.Ci,this));V(this.nb,"timeout",Q(this.bk,this));this.di=a};T(vp,Hf);vp[J].K=Rj("amoeba.provider.RemoteRequester");var wp=function(a,b,c,d){Ya(this,a);this.Ai=b;this.C=c;this.of=d},xp=function(a){return"m"==a[cd]?"/subgraph?t="+a[cd]+"&g="+a.Ai:"/subgraph?t="+a[cd]+"&g="+a.Ai+"&l="+a.C+"&n="+a.of};
vp[J].e=function(){yp(this);this.nb&&(tg(this.nb),If(this.nb),delete this.nb);vp.J.e[L](this)};var zp=function(a,b){var c=xp(b);a.mc.xb(c)||(Zj(a.K,Jj,"Sending request: "+c),a.mc.set(c,b),a.nb[Cb](c,c))},yp=function(a){var b=a.nb;Fe(a.mc.La(),function(a){b[pd](a,!0)});a.mc[Nb]()};
vp[J].Ci=function(a){var b=this.mc.get(a.id);if(b){this.mc[Db](a.id);if("success"==a[cd]){Zj(this.K,Jj,"Handling response: "+xp(b));var c;a=a.xd;try{c=a.v?a.v.responseText:""}catch(d){ak(a.K,"Can not get responseText: "+d[gc]),c=""}if(0==c[E](")]}'\n")){c=c[Ed](5);try{var e=Dg(c);if(e){this.di(b,e);return}}catch(f){}Zj(this.K,Gj,"Unable to parse JSON: "+xp(b))}else Zj(this.K,Gj,"Response missing prologue: "+xp(b))}else Zj(this.K,Gj,"Error response: "+xp(b));this.di(b,null)}else Zj(this.K,Gj,"Response for unknown request: "+
a.id)};vp[J].bk=function(a){Zj(this.K,Gj,"Timed out: "+a.id);this.mc[Db](a.id)};var Ap=function(a,b){this.vi=a;this.qj=b;this.da=new Y;this.td=new vp(Q(this.Wj,this));this.Oh=new sj;this.wb=[];zp(this.td,new wp("m",this.vi,0,""))};T(Ap,Hf);S("amoeba.provider.RemoteProvider",Ap);var Bp=function(a){this.Ae=a};Ap[J].e=function(){If(this.td);Ap.J.e[L](this)};Ap[J].K=Rj("amoeba.provider.RemoteProvider");Ha(Ap[J],function(){yp(this.td);this.da=new Y});Ha(Ap[J],Ap[J][zc]);Ap[J].H=function(){return this.da};Ap[J].getGraph=Ap[J].H;
Ap[J].Mk=function(a){a instanceof Co&&!(0>=a.C)&&(Cp(this,"c",a.C,a.Hc,new Bp(!0))||Dp(this,a))};Ap[J].showChildren=Ap[J].Mk;Ap[J].Ok=function(a){a instanceof Co&&(Cp(this,"n",a.C,a.Hc,new Bp(!0))||Ep(this,a))};Ap[J].showNeighborhood=Ap[J].Ok;Ap[J].Pk=function(a,b,c){Cp(this,c?"n":"d",a,b,new Bp(!0))||(a=Go(this.Ma,a,b),c?Ep(this,a):Fp(this,a))};Ap[J].showNode=Ap[J].Pk;
Ap[J].Wj=function(a,b){if(b){var c=a.rj;this.Oh.add(xp(a));if("m"==a[cd])if(b.numLevels&&b.rootNodeId&&!this.Ma){c=new ej(la(b.numLevels,10),b.rootNodeId);this.da.Gh=c;Zj(this.K,Hj,"Received metadata. numLevels:"+c.Vd+" rootNodeId:"+c.ue);this.Ma=new Fo;this.qj&&Cp(this,"c",c.Vd,c.ue||"",new Bp(!0));for(c=0;c<this.wb[H];c++)zp(this.td,this.wb[c]);cb(this.wb,0)}else Zj(this.K,Gj,"Unable to handle metadata response.");else{var d=b.level||0,e=Go(this.Ma,d,b.id);Do(e,b,1/(1<<d));if("c"==a[cd]){if(!O(e.Nc)&&
(e.Nc=[],d=b[Zc]))for(var f=0;f<d[H];f++)e.Nc[B](d[f].id);if(d=b[Zc])for(f=0;f<d[H];f++){var h=d[f].level||0,k=Go(this.Ma,h,d[f].id);k.Gc=e.Hc;Do(k,d[f],1/(1<<h));Eo(k,d[f])}c.Ae&&Dp(this,e)}else if("p"==a[cd]){if(d=this.da[Xb]().ue||"",O(e.Gc)||(e.Gc=b.parent?b.parent.id:d),d=b.parent)f=d.level||0,e=Go(this.Ma,f,d.id),Do(e,d,1/(1<<f)),c.Ae&&Fp(this,e),c.Hh&&(d=this.da.n(c.Hh))&&Gp(this,d,e.C,e.Hc,c.mj)}else if("n"==a[cd]){Eo(e,b);if(d=b.edges)for(f=0;f<d[H];f++)h=d[f].node,Do(Go(this.Ma,e.C,h.id),
h,1/(1<<e.C));c.Ae&&Ep(this,e)}else"d"==a[cd]&&c.Ae&&Fp(this,e)}}};
var Dp=function(a,b){Zj(a.K,Jj,"[MakeNodeInvisible] "+b.C+":"+b.Hc+' "'+b[G]+'"');a.da[tc](b.id);for(var c=b.C-1,d=0;d<b.Nc[H];d++)Fp(a,a.Ma.r(c,b.Nc[d]));for(d=0;d<b.Nc[H];d++)Hp(a,a.Ma.r(c,b.Nc[d]))},Ep=function(a,b){Fp(a,b);for(var c=0;c<b.oc[H];c++)Fp(a,a.Ma.r(b.C,b.oc[c].id));Hp(a,b)},Fp=function(a,b){if(!a.da.n(b.id)){Zj(a.K,Jj,"[MakeNodeVisible] "+b.C+":"+b.Hc+' "'+b[G]+'"');if(O(b.Gc)){var c=a.Ma.r(b.C+1,b.Gc);c&&c.b&&b.setPosition(c.b[y].x+(l[oc]()-0.5)*c[Wc],c.b[y].y+(l[oc]()-0.5)*c[Wc])}a.da.Ca(b)}},
Hp=function(a,b){if(O(b.oc))for(var c=0;c<b.oc[H];c++){var d=b.oc[c];Gp(a,b,b.C,d.id,d[mb])}},Gp=function(a,b,c,d,e){var f=a.Ma.r(c,d);f&&a.da.n(f.id)?a.da.wa(new cj(b,f,!1,"",e)):f&&O(f.Gc)?Gp(a,b,c+1,f.Gc,e):d!=a.da[Xb]().ue&&(f=new Bp(!1),f.Hh=b.id,f.mj=e,Cp(a,"p",c,d,f))},Cp=function(a,b,c,d,e){b=new wp(b,a.vi,c,d);b.rj=e;if(a.Oh[xc](xp(b)))return!1;if(!a.Ma)return a.wb[B](b),!0;zp(a.td,b);return!0};S("amoeba.GraphUtils.findPath",function(a,b,c){if(a.id==b.id)return[a];var d=[],e=new ip;e.Oc(a);var f={};f[a.id]=null;for(var h=!1;!e[Gc]()&&!h;){var k=e.ec();a=Ge(k.o,function(a){return a.k===k||!!c||!a.qb});Fe(a,function(a){h||(a=dj(a,k),d[a.id]||(f[a.id]=k,a.id==b.id&&(h=!0),e.Oc(a)))});d[k.id]=!0}if(!h)return null;a=[b];for(var n=f[b.id];n;)a[B](n),n=f[n.id];return a.reverse()}); })();
